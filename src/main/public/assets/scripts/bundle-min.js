$(".remove_icon").removeClass("hide"),document.addEventListener("DOMContentLoaded",function(e){function t(e){return null!=e&&(e.length>=0||e.innerHTML.length>=0)}if("undefined"!=typeof jQuery&&($("body").addClass("js-enabled"),window.GOVUKFrontend.initAll()),matchMedia){var r=window.matchMedia("(min-width: 769px)");r.addListener(n)}var o=document.querySelectorAll("[data-toggler]");function n(){if(t(o)){var e=0;for(e=0;e<o.length;e++){var n=o[e].getAttribute("data-toggler"),a=[];a[e]=document.querySelector('[data-toggle="'+n+'"]'),r.matches&&"nav"==n?(o[e].setAttribute("aria-expanded",!0),a[e].setAttribute("aria-hidden",!1)):(o[e].setAttribute("aria-expanded",!1),a[e].setAttribute("aria-hidden",!0))}}}if(n(),t(o)){var a=0;for(a=0;a<o.length;a++){var s=o[a].getAttribute("data-toggler");document.querySelector('[data-toggle="'+s+'"]'),o[a].addEventListener("click",function(e){var r=this.getAttribute("data-toggler"),n=document.querySelector('[data-toggle="'+r+'"]'),a="false"===this.getAttribute("aria-expanded"),s=0;for(s=0;s<o.length;s++)o[s].getAttribute("data-toggler")==r&&o[s].setAttribute("aria-expanded",a);n.setAttribute("aria-hidden",!a);var i=this.getAttribute("data-toggler-toggled"),l=this.getAttribute("data-toggler-untoggled");a&&i&&l?t(i)&&(this.innerHTML=i):l&&t(l)&&(this.innerHTML=l),e.preventDefault()},!1)}}}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define("GOVUKFrontend",["exports"],t):t(e.GOVUKFrontend={})}(this,function(e){"use strict";function t(e,t){if(window.NodeList.prototype.forEach)return e.forEach(t);for(var r=0;r<e.length;r++)t.call(window,e[r],r,e)}class r{RandomNumber(){const e=new Uint8Array(1);return window.crypto.getRandomValues(e),e[0]}}function o(e){this.$module=e,this.moduleId=e.getAttribute("id"),this.$sections=e.querySelectorAll(".govuk-accordion__section"),this.$openAllButton="",this.browserSupportsSessionStorage=n.checkForSessionStorage(),this.controlsClass="govuk-accordion__controls",this.openAllClass="govuk-accordion__open-all",this.iconClass="govuk-accordion__icon",this.sectionHeaderClass="govuk-accordion__section-header",this.sectionHeaderFocusedClass="govuk-accordion__section-header--focused",this.sectionHeadingClass="govuk-accordion__section-heading",this.sectionSummaryClass="govuk-accordion__section-summary",this.sectionButtonClass="govuk-accordion__section-button",this.sectionExpandedClass="govuk-accordion__section--expanded"}(function(e){var t,r,o;"defineProperty"in Object&&function(){try{return Object.defineProperty({},"test",{value:42}),!0}catch(e){return!1}}()||(t=Object.defineProperty,r=Object.prototype.hasOwnProperty("__defineGetter__"),o="A property cannot both have accessors and be writable or have a value",Object.defineProperty=function(e,n,a){if(t&&(e===window||e===document||e===Element.prototype||e instanceof Element))return t(e,n,a);if(null===e||!(e instanceof Object||"object"==typeof e))throw new TypeError("Object.defineProperty called on non-object");if(!(a instanceof Object))throw new TypeError("Property description must be an object");var s=String(n),i="value"in a||"writable"in a,l="get"in a&&typeof a.get,c="set"in a&&typeof a.set;if(l){if("function"!==l)throw new TypeError("Getter must be a function");if(!r)throw new TypeError("Getters & setters cannot be defined on this javascript engine");if(i)throw new TypeError(o);Object.__defineGetter__.call(e,s,a.get)}else e[s]=a.value;if(c){if("function"!==c)throw new TypeError("Setter must be a function");if(!r)throw new TypeError("Getters & setters cannot be defined on this javascript engine");if(i)throw new TypeError(o);Object.__defineSetter__.call(e,s,a.set)}return"value"in a&&(e[s]=a.value),e})}).call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),function(e){"bind"in Function.prototype||Object.defineProperty(Function.prototype,"bind",{value:function(e){var t,r=Array,o=Object,n=o.prototype,a=r.prototype,s=function(){},i=n.toString,l="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,c=Function.prototype.toString;t=function(e){if("function"!=typeof e)return!1;if(l)return function(e){try{return c.call(e),!0}catch(e){return!1}}(e);var t=i.call(e);return"[object Function]"===t||"[object GeneratorFunction]"===t};var d=a.slice,u=a.concat,m=a.push,g=Math.max,_=this;if(!t(_))throw new TypeError("Function.prototype.bind called on incompatible "+_);for(var p,v=d.call(arguments,1),f=g(0,_.length-v.length),h=[],y=0;y<f;y++)m.call(h,"$"+y);return p=Function("binder","return function ("+h.join(",")+"){ return binder.apply(this, arguments); }")(function(){if(this instanceof p){var t=_.apply(this,u.call(v,d.call(arguments)));return o(t)===t?t:this}return _.apply(e,u.call(v,d.call(arguments)))}),_.prototype&&(s.prototype=_.prototype,p.prototype=new s,s.prototype=null),p}})}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),function(e){var t,r,o;"DOMTokenList"in this&&(!("classList"in(t=document.createElement("x")))||!t.classList.toggle("x",!1)&&!t.className)||("DOMTokenList"in(r=this)&&r.DOMTokenList&&(!document.createElementNS||!document.createElementNS("http://www.w3.org/2000/svg","svg")||document.createElementNS("http://www.w3.org/2000/svg","svg").classList instanceof DOMTokenList)||(r.DOMTokenList=function(){var t=!0,r=function(e,r,o,n){Object.defineProperty?Object.defineProperty(e,r,{configurable:!1===t||!!n,get:o}):e.__defineGetter__(r,o)};try{r({},"support")}catch(e){t=!1}return function(t,o){var n=this,a=[],s={},i=0,l=0,c=function(e){r(n,e,function(){return u(),a[e]},!1)},d=function(){if(i>=l)for(;l<i;++l)c(l)},u=function(){var e,r,n=arguments,l=/\s+/;if(n.length)for(r=0;r<n.length;++r)if(l.test(n[r]))throw(e=new SyntaxError('String "'+n[r]+'" contains an invalid character')).code=5,e.name="InvalidCharacterError",e;for(""===(a="object"==typeof t[o]?(""+t[o].baseVal).replace(/^\s+|\s+$/g,"").split(l):(""+t[o]).replace(/^\s+|\s+$/g,"").split(l))[0]&&(a=[]),s={},r=0;r<a.length;++r)s[a[r]]=!0;i=a.length,d()};return u(),r(n,"length",function(){return u(),i}),n.toLocaleString=n.toString=function(){return u(),a.join(" ")},n.item=function(e){return u(),a[e]},n.contains=function(e){return u(),!!s[e]},n.add=function(){u.apply(n,e=arguments);for(var e,r,l=0,c=e.length;l<c;++l)r=e[l],s[r]||(a.push(r),s[r]=!0);i!==a.length&&(i=a.length>>>0,"object"==typeof t[o]?t[o].baseVal=a.join(" "):t[o]=a.join(" "),d())},n.remove=function(){u.apply(n,e=arguments);for(var e,r={},l=0,c=[];l<e.length;++l)r[e[l]]=!0,delete s[e[l]];for(l=0;l<a.length;++l)r[a[l]]||c.push(a[l]);a=c,i=c.length>>>0,"object"==typeof t[o]?t[o].baseVal=a.join(" "):t[o]=a.join(" "),d()},n.toggle=function(t,r){return u.apply(n,[t]),e!==r?r?(n.add(t),!0):(n.remove(t),!1):s[t]?(n.remove(t),!1):(n.add(t),!0)},n}}()),"classList"in(o=document.createElement("span"))&&(o.classList.toggle("x",!1),o.classList.contains("x")&&(o.classList.constructor.prototype.toggle=function(t){var r=arguments[1];if(r===e){var o=!this.contains(t);return this[o?"add":"remove"](t),o}return this[(r=!!r)?"add":"remove"](t),r})),function(){var e=document.createElement("span");if("classList"in e&&(e.classList.add("a","b"),!e.classList.contains("b"))){var t=e.classList.constructor.prototype.add;e.classList.constructor.prototype.add=function(){for(var e=arguments,r=arguments.length,o=0;o<r;o++)t.call(this,e[o])}}}(),function(){var e=document.createElement("span");if("classList"in e&&(e.classList.add("a"),e.classList.add("b"),e.classList.remove("a","b"),e.classList.contains("b"))){var t=e.classList.constructor.prototype.remove;e.classList.constructor.prototype.remove=function(){for(var e=arguments,r=arguments.length,o=0;o<r;o++)t.call(this,e[o])}}}())}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),function(e){"Document"in this||"undefined"==typeof WorkerGlobalScope&&"function"!=typeof importScripts&&(this.HTMLDocument?this.Document=this.HTMLDocument:(this.Document=this.HTMLDocument=document.constructor=new Function("return function Document() {}")(),this.Document.prototype=document))}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),function(e){"Element"in this&&"HTMLElement"in this||function(){if(!window.Element||window.HTMLElement){window.Element=window.HTMLElement=new Function("return function Element() {}")();var e,t=document.appendChild(document.createElement("body")),r=t.appendChild(document.createElement("iframe")).contentWindow.document,o=Element.prototype=r.appendChild(r.createElement("*")),n={},a=function(e,t){var r,o,s,i=e.childNodes||[],l=-1;if(1===e.nodeType&&e.constructor!==Element)for(r in e.constructor=Element,n)o=n[r],e[r]=o;for(;s=t&&i[++l];)a(s,t);return e},s=document.getElementsByTagName("*"),i=document.createElement,l=100;o.attachEvent("onpropertychange",function(e){for(var t,r=e.propertyName,a=!n.hasOwnProperty(r),i=o[r],l=n[r],c=-1;t=s[++c];)1===t.nodeType&&(a||t[r]===l)&&(t[r]=i);n[r]=i}),o.constructor=Element,o.hasAttribute||(o.hasAttribute=function(e){return null!==this.getAttribute(e)}),c()||(document.onreadystatechange=c,e=setInterval(c,25)),document.createElement=function(e){var t=i(String(e).toLowerCase());return a(t)},document.removeChild(t)}else window.HTMLElement=window.Element;function c(){return l--||clearTimeout(e),!(!document.body||document.body.prototype||!/(complete|interactive)/.test(document.readyState))&&(a(document,!0),e&&document.body.prototype&&clearTimeout(e),!!document.body.prototype)}}()}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),function(e){var t;"document"in this&&"classList"in document.documentElement&&"Element"in this&&"classList"in Element.prototype&&((t=document.createElement("span")).classList.add("a","b"),t.classList.contains("b"))||function(e){var t=!0,r=function(e,r,o,n){Object.defineProperty?Object.defineProperty(e,r,{configurable:!1===t||!!n,get:o}):e.__defineGetter__(r,o)};try{r({},"support")}catch(e){t=!1}var o=function(e,n,a){r(e.prototype,n,function(){var e,s="__defineGetter__DEFINE_PROPERTY"+n;if(this[s])return e;if(this[s]=!0,!1===t){for(var i,l=o.mirror||document.createElement("div"),c=l.childNodes,d=c.length,u=0;u<d;++u)if(c[u]._R===this){i=c[u];break}i||(i=l.appendChild(document.createElement("div"))),e=DOMTokenList.call(i,this,a)}else e=new DOMTokenList(this,a);return r(this,n,function(){return e}),delete this[s],e},!0)};o(e.Element,"classList","className"),o(e.HTMLElement,"classList","className"),o(e.HTMLLinkElement,"relList","rel"),o(e.HTMLAnchorElement,"relList","rel"),o(e.HTMLAreaElement,"relList","rel")}(this)}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),o.prototype.init=function(){if(this.$module){this.initControls(),this.initSectionHeaders();var e=this.checkIfAllSectionsOpen();this.updateOpenAllButton(e)}},o.prototype.initControls=function(){this.$openAllButton=document.createElement("button"),this.$openAllButton.setAttribute("type","button"),this.$openAllButton.innerHTML='Open all <span class="govuk-visually-hidden">sections</span>',this.$openAllButton.setAttribute("class",this.openAllClass),this.$openAllButton.setAttribute("aria-expanded","false"),this.$openAllButton.setAttribute("type","button");var e=document.createElement("div");e.setAttribute("class",this.controlsClass),e.appendChild(this.$openAllButton),this.$module.insertBefore(e,this.$module.firstChild),this.$openAllButton.addEventListener("click",this.onOpenOrCloseAllToggle.bind(this))},o.prototype.initSectionHeaders=function(){t(this.$sections,function(e,t){var r=e.querySelector("."+this.sectionHeaderClass);this.initHeaderAttributes(r,t),this.setExpanded(this.isExpanded(e),e),r.addEventListener("click",this.onSectionToggle.bind(this,e)),this.setInitialState(e)}.bind(this))},o.prototype.initHeaderAttributes=function(e,t){var r=this,o=e.querySelector("."+this.sectionButtonClass),n=e.querySelector("."+this.sectionHeadingClass),a=e.querySelector("."+this.sectionSummaryClass),s=document.createElement("button");s.setAttribute("type","button"),s.setAttribute("id",this.moduleId+"-heading-"+(t+1)),s.setAttribute("aria-controls",this.moduleId+"-content-"+(t+1));for(var i=0;i<o.attributes.length;i++){var l=o.attributes.item(i);s.setAttribute(l.nodeName,l.nodeValue)}s.addEventListener("focusin",function(t){e.classList.contains(r.sectionHeaderFocusedClass)||(e.className+=" "+r.sectionHeaderFocusedClass)}),s.addEventListener("blur",function(t){e.classList.remove(r.sectionHeaderFocusedClass)}),null!=a&&s.setAttribute("aria-describedby",this.moduleId+"-summary-"+(t+1)),s.innerHTML=o.innerHTML,n.removeChild(o),n.appendChild(s);var c=document.createElement("span");c.className=this.iconClass,c.setAttribute("aria-hidden","true"),s.appendChild(c)},o.prototype.onSectionToggle=function(e){var t=this.isExpanded(e);this.setExpanded(!t,e),this.storeState(e)},o.prototype.onOpenOrCloseAllToggle=function(){var e=this,r=this.$sections,o=!this.checkIfAllSectionsOpen();t(r,function(t){e.setExpanded(o,t),e.storeState(t)}),e.updateOpenAllButton(o)},o.prototype.setExpanded=function(e,t){t.querySelector("."+this.sectionButtonClass).setAttribute("aria-expanded",e),e?t.classList.add(this.sectionExpandedClass):t.classList.remove(this.sectionExpandedClass);var r=this.checkIfAllSectionsOpen();this.updateOpenAllButton(r)},o.prototype.isExpanded=function(e){return e.classList.contains(this.sectionExpandedClass)},o.prototype.checkIfAllSectionsOpen=function(){return this.$sections.length===this.$module.querySelectorAll("."+this.sectionExpandedClass).length},o.prototype.updateOpenAllButton=function(e){var t=e?"Close all":"Open all";t+='<span class="govuk-visually-hidden">sections</span>',this.$openAllButton.setAttribute("aria-expanded",e),this.$openAllButton.innerHTML=t};var n={checkForSessionStorage:function(){var e,t="this is the test string";try{return window.sessionStorage.setItem(t,t),e=window.sessionStorage.getItem(t)===t.toString(),window.sessionStorage.removeItem(t),e}catch(e){"undefined"!=typeof console&&void 0!==console.log||console.log("Notice: sessionStorage not available.")}}},a=0;o.prototype.storeState=function(e){if(this.browserSupportsSessionStorage){var t=e.querySelector("."+this.sectionButtonClass);if(t){var r=t.getAttribute("aria-controls"),o=t.getAttribute("aria-expanded");void 0!==r||"undefined"!=typeof console&&void 0!==console.log||console.error(new Error("No aria controls present in accordion section heading.")),void 0!==o||"undefined"!=typeof console&&void 0!==console.log||console.error(new Error("No aria expanded present in accordion section heading.")),r&&o&&window.sessionStorage.setItem(r,o)}}},o.prototype.setInitialState=function(e){if(this.browserSupportsSessionStorage){var t=e.querySelector("."+this.sectionButtonClass);if(t){var r=t.getAttribute("aria-controls"),o=r?window.sessionStorage.getItem(r):null;null!==o&&this.setExpanded("true"===o,e)}}},function(e){"Window"in this||"undefined"==typeof WorkerGlobalScope&&"function"!=typeof importScripts&&function(e){e.constructor?e.Window=e.constructor:(e.Window=e.constructor=new Function("return function Window() {}")()).prototype=this}(this)}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),function(e){(function(e){if(!("Event"in e))return!1;if("function"==typeof e.Event)return!0;try{return new Event("click"),!0}catch(e){return!1}})(this)||function(){var t={click:1,dblclick:1,keyup:1,keypress:1,keydown:1,mousedown:1,mouseup:1,mousemove:1,mouseover:1,mouseenter:1,mouseleave:1,mouseout:1,storage:1,storagecommit:1,textinput:1};if("undefined"!=typeof document&&"undefined"!=typeof window){var r=window.Event&&window.Event.prototype||null;window.Event=Window.prototype.Event=function(t,r){if(!t)throw new Error("Not enough arguments");var o;if("createEvent"in document){o=document.createEvent("Event");var n=!(!r||r.bubbles===e)&&r.bubbles,a=!(!r||r.cancelable===e)&&r.cancelable;return o.initEvent(t,n,a),o}return(o=document.createEventObject()).type=t,o.bubbles=!(!r||r.bubbles===e)&&r.bubbles,o.cancelable=!(!r||r.cancelable===e)&&r.cancelable,o},r&&Object.defineProperty(window.Event,"prototype",{configurable:!1,enumerable:!1,writable:!0,value:r}),"createEvent"in document||(window.addEventListener=Window.prototype.addEventListener=Document.prototype.addEventListener=Element.prototype.addEventListener=function(){var e=this,r=arguments[0],n=arguments[1];if(e===window&&r in t)throw new Error("In IE8 the event: "+r+" is not available on the window object. Please see https://github.com/Financial-Times/polyfill-service/issues/317 for more information.");e._events||(e._events={}),e._events[r]||(e._events[r]=function(t){var r,n=e._events[t.type].list,a=n.slice(),s=-1,i=a.length;for(t.preventDefault=function(){!1!==t.cancelable&&(t.returnValue=!1)},t.stopPropagation=function(){t.cancelBubble=!0},t.stopImmediatePropagation=function(){t.cancelBubble=!0,t.cancelImmediate=!0},t.currentTarget=e,t.relatedTarget=t.fromElement||null,t.target=t.target||t.srcElement||e,t.timeStamp=(new Date).getTime(),t.clientX&&(t.pageX=t.clientX+document.documentElement.scrollLeft,t.pageY=t.clientY+document.documentElement.scrollTop);++s<i&&!t.cancelImmediate;)s in a&&-1!==o(n,r=a[s])&&"function"==typeof r&&r.call(e,t)},e._events[r].list=[],e.attachEvent&&e.attachEvent("on"+r,e._events[r])),e._events[r].list.push(n)},window.removeEventListener=Window.prototype.removeEventListener=Document.prototype.removeEventListener=Element.prototype.removeEventListener=function(){var e,t=arguments[0],r=arguments[1];this._events&&this._events[t]&&this._events[t].list&&-1!==(e=o(this._events[t].list,r))&&(this._events[t].list.splice(e,1),this._events[t].list.length||(this.detachEvent&&this.detachEvent("on"+t,this._events[t]),delete this._events[t]))},window.dispatchEvent=Window.prototype.dispatchEvent=Document.prototype.dispatchEvent=Element.prototype.dispatchEvent=function(e){if(!arguments.length)throw new Error("Not enough arguments");if(!e||"string"!=typeof e.type)throw new Error("DOM Events Exception 0");var t=this,r=e.type;try{if(!e.bubbles){e.cancelBubble=!0;var o=function(e){e.cancelBubble=!0,(t||window).detachEvent("on"+r,o)};this.attachEvent("on"+r,o)}this.fireEvent("on"+r,e)}catch(o){e.target=t;do{e.currentTarget=t,"_events"in t&&"function"==typeof t._events[r]&&t._events[r].call(t,e),"function"==typeof t["on"+r]&&t["on"+r].call(t,e),t=9===t.nodeType?t.parentWindow:t.parentNode}while(t&&!e.cancelBubble)}return!0},document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&document.dispatchEvent(new Event("DOMContentLoaded",{bubbles:!0}))}))}function o(e,t){for(var r=-1,o=e.length;++r<o;)if(r in e&&e[r]===t)return r;return-1}}()}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{});function s(e){this.$module=e,this.debounceFormSubmitTimer=null}s.prototype.handleKeyDown=function(e){var t=e.target;"button"===t.getAttribute("role")&&32===e.keyCode&&(e.preventDefault(),t.click())},s.prototype.debounce=function(e){if("true"===e.target.getAttribute("data-prevent-double-click"))return this.debounceFormSubmitTimer?(e.preventDefault(),!1):void(this.debounceFormSubmitTimer=setTimeout(function(){this.debounceFormSubmitTimer=null}.bind(this),1e3))},s.prototype.init=function(){this.$module.addEventListener("keydown",this.handleKeyDown),this.$module.addEventListener("click",this.debounce)};function i(e){this.$module=e}function l(e){this.$module=e,this.$textarea=e.querySelector(".govuk-js-character-count"),this.$textarea&&(this.$countMessage=e.querySelector('[id="'+this.$textarea.id+'-info"]'))}function c(e){this.$module=e,this.$inputs=e.querySelectorAll('input[type="checkbox"]')}function d(e){this.$module=e}function u(e){this.$module=e}function m(e){this.$module=e,this.$menuButton=e&&e.querySelector(".govuk-js-header-toggle"),this.$menu=this.$menuButton&&e.querySelector("#"+this.$menuButton.getAttribute("aria-controls"))}function g(e){this.$module=e,this.$inputs=e.querySelectorAll('input[type="radio"]')}function _(e){this.$module=e,this.$tabs=e.querySelectorAll(".govuk-tabs__tab"),this.keys={left:37,right:39,up:38,down:40},this.jsHiddenClass="govuk-tabs__panel--hidden"}i.prototype.init=function(){this.$module&&("boolean"==typeof this.$module.open||this.polyfillDetails())},i.prototype.polyfillDetails=function(){var e,t=this.$module,o=this.$summary=t.getElementsByTagName("summary").item(0),n=this.$content=t.getElementsByTagName("div").item(0);o&&n&&(n.id||(n.id="details-content-"+(e=(new Date).getTime(),void 0!==window.performance&&"function"==typeof window.performance.now&&(e+=window.performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){let o=(new r).RandomNumber();var n=(e+16*(o/=100))%16|0;return e=Math.floor(e/16),("x"===t?n:3&n|8).toString(16)}))),t.setAttribute("role","group"),o.setAttribute("role","button"),o.setAttribute("aria-controls",n.id),o.tabIndex=0,!0===(null!==t.getAttribute("open"))?(o.setAttribute("aria-expanded","true"),n.setAttribute("aria-hidden","false")):(o.setAttribute("aria-expanded","false"),n.setAttribute("aria-hidden","true"),n.style.display="none"),this.polyfillHandleInputs(o,this.polyfillSetAttributes.bind(this)))},i.prototype.polyfillSetAttributes=function(){var e=this.$module,t=this.$summary,r=this.$content,o="true"===t.getAttribute("aria-expanded"),n="true"===r.getAttribute("aria-hidden");return t.setAttribute("aria-expanded",o?"false":"true"),r.setAttribute("aria-hidden",n?"false":"true"),r.style.display=o?"none":"",null!==e.getAttribute("open")?e.removeAttribute("open"):e.setAttribute("open","open"),!0},i.prototype.polyfillHandleInputs=function(e,t){e.addEventListener("keypress",function(e){var r=e.target;13!==e.keyCode&&32!==e.keyCode||"summary"===r.nodeName.toLowerCase()&&(e.preventDefault(),r.click?r.click():t(e))}),e.addEventListener("keyup",function(e){var t=e.target;32===e.keyCode&&"summary"===t.nodeName.toLowerCase()&&e.preventDefault()}),e.addEventListener("click",t)},l.prototype.defaults={characterCountAttribute:"data-maxlength",wordCountAttribute:"data-maxwords"},l.prototype.init=function(){var e=this.$module,t=this.$textarea,r=this.$countMessage;if(t&&r){t.insertAdjacentElement("afterend",r),this.options=this.getDataset(e);var o=this.defaults.characterCountAttribute;this.options.maxwords&&(o=this.defaults.wordCountAttribute),this.maxLength=e.getAttribute(o),this.maxLength&&(e.removeAttribute("maxlength"),"onpageshow"in window?window.addEventListener("pageshow",this.sync.bind(this)):window.addEventListener("DOMContentLoaded",this.sync.bind(this)),this.sync())}},l.prototype.sync=function(){this.bindChangeEvents(),this.updateCountMessage()},l.prototype.getDataset=function(e){var t={},r=e.attributes;if(r)for(var o=0;o<r.length;o++){var n=r[o],a=n.name.match(/^data-(.+)/);a&&(t[a[1]]=n.value)}return t},l.prototype.count=function(e){var t;this.options.maxwords?t=(e.match(/\S+/g)||[]).length:t=e.length;return t},l.prototype.bindChangeEvents=function(){var e=this.$textarea;e.addEventListener("keyup",this.checkIfValueChanged.bind(this)),e.addEventListener("focus",this.handleFocus.bind(this)),e.addEventListener("blur",this.handleBlur.bind(this))},l.prototype.checkIfValueChanged=function(){this.$textarea.oldValue||(this.$textarea.oldValue=""),this.$textarea.value!==this.$textarea.oldValue&&(this.$textarea.oldValue=this.$textarea.value,this.updateCountMessage())},l.prototype.updateCountMessage=function(){var e=this.$textarea,t=this.options,r=this.$countMessage,o=this.count(e.value),n=this.maxLength,a=n-o;n*(t.threshold?t.threshold:0)/100>o?(r.classList.add("govuk-character-count__message--disabled"),r.setAttribute("aria-hidden",!0)):(r.classList.remove("govuk-character-count__message--disabled"),r.removeAttribute("aria-hidden")),a<0?(e.classList.add("govuk-textarea--error"),r.classList.remove("govuk-hint"),r.classList.add("govuk-hint-error-message")):(e.classList.remove("govuk-textarea--error"),r.classList.remove("govuk-hint-error-message"),r.classList.add("govuk-hint"));var s,i,l="character";t.maxwords&&(l="word"),l+=-1===a||1===a?"":"s",s=a<0?"too many":"remaining",i=Math.abs(a),r.innerHTML="You have "+i+" "+l+" "+s,document.getElementById("page-heading").innerHTML.includes("Invite selected suppliers to stage 2: further assessment")&&(r.innerHTML=i+" "+l+" "+s)},l.prototype.handleFocus=function(){this.valueChecker=setInterval(this.checkIfValueChanged.bind(this),1e3)},l.prototype.handleBlur=function(){clearInterval(this.valueChecker)},c.prototype.init=function(){var e=this.$module;t(this.$inputs,function(t){var r=t.getAttribute("data-aria-controls");r&&e.querySelector("#"+r)&&(t.setAttribute("aria-controls",r),t.removeAttribute("data-aria-controls"))}),"onpageshow"in window?window.addEventListener("pageshow",this.syncAllConditionalReveals.bind(this)):window.addEventListener("DOMContentLoaded",this.syncAllConditionalReveals.bind(this)),this.syncAllConditionalReveals(),e.addEventListener("click",this.handleClick.bind(this))},c.prototype.syncAllConditionalReveals=function(){t(this.$inputs,this.syncConditionalRevealWithInputState.bind(this))},c.prototype.syncConditionalRevealWithInputState=function(e){var t=this.$module.querySelector("#"+e.getAttribute("aria-controls"));if(t&&t.classList.contains("govuk-checkboxes__conditional")){var r=e.checked;e.setAttribute("aria-expanded",r),t.classList.toggle("govuk-checkboxes__conditional--hidden",!r)}},c.prototype.unCheckAllInputsExcept=function(e){t(document.querySelectorAll('input[type="checkbox"][name="'+e.name+'"]'),function(t){e.form===t.form&&t!==e&&(t.checked=!1)}),this.syncAllConditionalReveals()},c.prototype.unCheckExclusiveInputs=function(e){t(document.querySelectorAll('input[data-behaviour="exclusive"][type="checkbox"][name="'+e.name+'"]'),function(t){e.form===t.form&&(t.checked=!1)}),this.syncAllConditionalReveals()},c.prototype.handleClick=function(e){var t=e.target;"checkbox"===t.type&&(t.getAttribute("aria-controls")&&this.syncConditionalRevealWithInputState(t),t.checked&&("exclusive"===t.getAttribute("data-behaviour")?this.unCheckAllInputsExcept(t):this.unCheckExclusiveInputs(t)))},function(e){"document"in this&&"matches"in document.documentElement||(Element.prototype.matches=Element.prototype.webkitMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.mozMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),r=0;t[r]&&t[r]!==this;)++r;return!!t[r]})}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),function(e){"document"in this&&"closest"in document.documentElement||(Element.prototype.closest=function(e){for(var t=this;t;){if(t.matches(e))return t;t="SVGElement"in window&&t instanceof SVGElement?t.parentNode:t.parentElement}return null})}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),d.prototype.init=function(){var e=this.$module;e&&(e.focus(),e.addEventListener("click",this.handleClick.bind(this)))},d.prototype.handleClick=function(e){var t=e.target;this.focusTarget(t)&&e.preventDefault()},d.prototype.focusTarget=function(e){if("A"!==e.tagName||!1===e.href)return!1;var t=this.getFragmentFromUrl(e.href),r=document.getElementById(t);if(!r)return!1;var o=this.getAssociatedLegendOrLabel(r);return!!o&&(o.scrollIntoView(),r.focus({preventScroll:!0}),!0)},d.prototype.getFragmentFromUrl=function(e){return-1!==e.indexOf("#")&&e.split("#").pop()},d.prototype.getAssociatedLegendOrLabel=function(e){var t=e.closest("fieldset");if(t){var r=t.getElementsByTagName("legend");if(r.length){var o=r[0];if("checkbox"===e.type||"radio"===e.type)return o;var n=o.getBoundingClientRect().top,a=e.getBoundingClientRect();if(a.height&&window.innerHeight)if(a.top+a.height-n<window.innerHeight/2)return o}}return document.querySelector("label[for='"+e.getAttribute("id")+"']")||e.closest("label")},u.prototype.init=function(){this.$module&&this.setFocus()},u.prototype.setFocus=function(){var e=this.$module;"true"!==e.getAttribute("data-disable-auto-focus")&&"alert"===e.getAttribute("role")&&(e.getAttribute("tabindex")||(e.setAttribute("tabindex","-1"),e.addEventListener("blur",function(){e.removeAttribute("tabindex")})),e.focus())},m.prototype.init=function(){this.$module&&this.$menuButton&&this.$menu&&(this.syncState(this.$menu.classList.contains("govuk-header__navigation--open")),this.$menuButton.addEventListener("click",this.handleMenuButtonClick.bind(this)))},m.prototype.syncState=function(e){this.$menuButton.classList.toggle("govuk-header__menu-button--open",e),this.$menuButton.setAttribute("aria-expanded",e)},m.prototype.handleMenuButtonClick=function(){var e=this.$menu.classList.toggle("govuk-header__navigation--open");this.syncState(e)},g.prototype.init=function(){var e=this.$module;t(this.$inputs,function(t){var r=t.getAttribute("data-aria-controls");r&&e.querySelector("#"+r)&&(t.setAttribute("aria-controls",r),t.removeAttribute("data-aria-controls"))}),"onpageshow"in window?window.addEventListener("pageshow",this.syncAllConditionalReveals.bind(this)):window.addEventListener("DOMContentLoaded",this.syncAllConditionalReveals.bind(this)),this.syncAllConditionalReveals(),e.addEventListener("click",this.handleClick.bind(this))},g.prototype.syncAllConditionalReveals=function(){t(this.$inputs,this.syncConditionalRevealWithInputState.bind(this))},g.prototype.syncConditionalRevealWithInputState=function(e){var t=document.querySelector("#"+e.getAttribute("aria-controls"));if(t&&t.classList.contains("govuk-radios__conditional")){var r=e.checked;e.setAttribute("aria-expanded",r),t.classList.toggle("govuk-radios__conditional--hidden",!r)}},g.prototype.handleClick=function(e){var r=e.target;"radio"===r.type&&t(document.querySelectorAll('input[type="radio"][aria-controls]'),function(e){var t=e.form===r.form;e.name===r.name&&t&&this.syncConditionalRevealWithInputState(e)}.bind(this))},function(e){"document"in this&&"nextElementSibling"in document.documentElement||Object.defineProperty(Element.prototype,"nextElementSibling",{get:function(){for(var e=this.nextSibling;e&&1!==e.nodeType;)e=e.nextSibling;return e}})}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),function(e){"document"in this&&"previousElementSibling"in document.documentElement||Object.defineProperty(Element.prototype,"previousElementSibling",{get:function(){for(var e=this.previousSibling;e&&1!==e.nodeType;)e=e.previousSibling;return e}})}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),_.prototype.init=function(){"function"==typeof window.matchMedia?this.setupResponsiveChecks():this.setup()},_.prototype.setupResponsiveChecks=function(){this.mql=window.matchMedia("(min-width: 40.0625em)"),this.mql.addListener(this.checkMode.bind(this)),this.checkMode()},_.prototype.checkMode=function(){this.mql.matches?this.setup():this.teardown()},_.prototype.setup=function(){var e=this.$module,r=this.$tabs,o=e.querySelector(".govuk-tabs__list"),n=e.querySelectorAll(".govuk-tabs__list-item");if(r&&o&&n){o.setAttribute("role","tablist"),t(n,function(e){e.setAttribute("role","presentation")}),t(r,function(e){this.setAttributes(e),e.boundTabClick=this.onTabClick.bind(this),e.boundTabKeydown=this.onTabKeydown.bind(this),e.addEventListener("click",e.boundTabClick,!0),e.addEventListener("keydown",e.boundTabKeydown,!0),this.hideTab(e)}.bind(this));var a=this.getTab(window.location.hash)||this.$tabs[0];this.showTab(a),e.boundOnHashChange=this.onHashChange.bind(this),window.addEventListener("hashchange",e.boundOnHashChange,!0)}},_.prototype.teardown=function(){var e=this.$module,r=this.$tabs,o=e.querySelector(".govuk-tabs__list"),n=e.querySelectorAll(".govuk-tabs__list-item");r&&o&&n&&(o.removeAttribute("role"),t(n,function(e){e.removeAttribute("role","presentation")}),t(r,function(e){e.removeEventListener("click",e.boundTabClick,!0),e.removeEventListener("keydown",e.boundTabKeydown,!0),this.unsetAttributes(e)}.bind(this)),window.removeEventListener("hashchange",e.boundOnHashChange,!0))},_.prototype.onHashChange=function(e){var t=window.location.hash,r=this.getTab(t);if(r)if(this.changingHash)this.changingHash=!1;else{var o=this.getCurrentTab();this.hideTab(o),this.showTab(r),r.focus()}},_.prototype.hideTab=function(e){this.unhighlightTab(e),this.hidePanel(e)},_.prototype.showTab=function(e){this.highlightTab(e),this.showPanel(e)},_.prototype.getTab=function(e){return this.$module.querySelector('.govuk-tabs__tab[href="'+e+'"]')},_.prototype.setAttributes=function(e){var t=this.getHref(e).slice(1);e.setAttribute("id","tab_"+t),e.setAttribute("role","tab"),e.setAttribute("aria-controls",t),e.setAttribute("aria-selected","false"),e.setAttribute("tabindex","-1");var r=this.getPanel(e);r.setAttribute("role","tabpanel"),r.setAttribute("aria-labelledby",e.id),r.classList.add(this.jsHiddenClass)},_.prototype.unsetAttributes=function(e){e.removeAttribute("id"),e.removeAttribute("role"),e.removeAttribute("aria-controls"),e.removeAttribute("aria-selected"),e.removeAttribute("tabindex");var t=this.getPanel(e);t.removeAttribute("role"),t.removeAttribute("aria-labelledby"),t.classList.remove(this.jsHiddenClass)},_.prototype.onTabClick=function(e){if(!e.target.classList.contains("govuk-tabs__tab"))return!1;e.preventDefault();var t=e.target,r=this.getCurrentTab();this.hideTab(r),this.showTab(t),this.createHistoryEntry(t)},_.prototype.createHistoryEntry=function(e){var t=this.getPanel(e),r=t.id;t.id="",this.changingHash=!0,window.location.hash=this.getHref(e).slice(1),t.id=r},_.prototype.onTabKeydown=function(e){switch(e.keyCode){case this.keys.left:case this.keys.up:this.activatePreviousTab(),e.preventDefault();break;case this.keys.right:case this.keys.down:this.activateNextTab(),e.preventDefault()}},_.prototype.activateNextTab=function(){var e=this.getCurrentTab(),t=e.parentNode.nextElementSibling;if(t)var r=t.querySelector(".govuk-tabs__tab");r&&(this.hideTab(e),this.showTab(r),r.focus(),this.createHistoryEntry(r))},_.prototype.activatePreviousTab=function(){var e=this.getCurrentTab(),t=e.parentNode.previousElementSibling;if(t)var r=t.querySelector(".govuk-tabs__tab");r&&(this.hideTab(e),this.showTab(r),r.focus(),this.createHistoryEntry(r))},_.prototype.getPanel=function(e){return this.$module.querySelector(this.getHref(e))},_.prototype.showPanel=function(e){this.getPanel(e).classList.remove(this.jsHiddenClass)},_.prototype.hidePanel=function(e){this.getPanel(e).classList.add(this.jsHiddenClass)},_.prototype.unhighlightTab=function(e){e.setAttribute("aria-selected","false"),e.parentNode.classList.remove("govuk-tabs__list-item--selected"),e.setAttribute("tabindex","-1")},_.prototype.highlightTab=function(e){e.setAttribute("aria-selected","true"),e.parentNode.classList.add("govuk-tabs__list-item--selected"),e.setAttribute("tabindex","0")},_.prototype.getCurrentTab=function(){return this.$module.querySelector(".govuk-tabs__list-item--selected .govuk-tabs__tab")},_.prototype.getHref=function(e){var t=e.getAttribute("href");return t.slice(t.indexOf("#"),t.length)},e.initAll=function(e){var r=void 0!==(e=void 0!==e?e:{}).scope?e.scope:document;t(r.querySelectorAll('[data-module="govuk-button"]'),function(e){new s(e).init()});var n=r.querySelectorAll('[data-module="govuk-accordion"]');t(n,function(e){a<n.length&&(new o(e).init(),a+=1)}),t(r.querySelectorAll('[data-module="govuk-details"]'),function(e){new i(e).init()}),t(r.querySelectorAll('[data-module="govuk-character-count"]'),function(e){new l(e).init()}),t(r.querySelectorAll('[data-module="govuk-checkboxes"]'),function(e){new c(e).init()}),new d(r.querySelector('[data-module="govuk-error-summary"]')).init(),new m(r.querySelector('[data-module="govuk-header"]')).init(),t(r.querySelectorAll('[data-module="govuk-notification-banner"]'),function(e){new u(e).init()}),t(r.querySelectorAll('[data-module="govuk-radios"]'),function(e){new g(e).init()}),t(r.querySelectorAll('[data-module="govuk-tabs"]'),function(e){new _(e).init()})},e.Accordion=o,e.Button=s,e.Details=i,e.CharacterCount=l,e.Checkboxes=c,e.ErrorSummary=d,e.Header=m,e.Radios=g,e.Tabs=_});let tagManagerCookiePrefrences=document.currentScript.getAttribute("tag-manager");window.readCookie=function(e){for(var t=e+"=",r=document.cookie.split(";"),o=0;o<r.length;o++){for(var n=r[o];" "==n.charAt(0);)n=n.substring(1,n.length);if(0==n.indexOf(t))return n.substring(t.length,n.length)}return null};var cookiePreferences=JSON.parse(readCookie("cookie_preferences"));null!==cookiePreferences&&!0===cookiePreferences.usage&&function(e,t,r,o,n){e[o]=e[o]||[],e[o].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var a=t.getElementsByTagName(r)[0],s=t.createElement(r);s.async=!0,s.src="https://www.googletagmanager.com/gtm.js?id="+n,a.parentNode.insertBefore(s,a)}(window,document,"script","dataLayer",tagManagerCookiePrefrences);let tagManager=document.currentScript.getAttribute("tag-manager");var docCookies={getItem:function(e){return e&&decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},setItem:function(e,t,r,o,n,a){if(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e))return!1;var s="";if(r)switch(r.constructor){case Number:s=r===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; expires="+new Date(1e3*r+Date.now()).toUTCString();break;case String:s="; expires="+r;break;case Date:s="; expires="+r.toUTCString()}const i=encodeURIComponent(e)+"="+t+s;return document.cookie=i,!0},removeItem:function(e,t,r){return!!this.hasItem(e)&&(document.cookie=encodeURIComponent(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(r?"; domain="+r:"")+(t?"; path="+t:""),!0)},hasItem:function(e){return!(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e))&&new RegExp("(?:^|;\\s*)"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},keys:function(){for(var e=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),t=e.length,r=0;r<t;r++)e[r]=decodeURIComponent(e[r]);return e}};let inputs,index,container;!function(){var e=[{title:"Cookies that measure website use",description:"<p>We use Google Analytics to measure how you use the website so we can improve it based on user needs. Google Analytics sets cookies that store anonymised information about:</p><ul><li>how you got to the site</li><li>the pages you visit on Crown Commercial Service (CCS), and how long you spend on each page</li><li>what you click on while you're visiting the site</li></ul><p>We do not allow Google to use or share the data about how you use this site.</p>",cookie_type:"usage",enabled:null,adjustable:!0,cookies:[{name:"1P_JAR",path:"/",domain:".google.com"}]},{title:"",description:"<p>We use Glassbox software to collect information about how you use CCS. We do this to help make sure the site is meeting the needs of its users and to help us make improvements.</p><p> Glassbox stores information about:</p><ul><li>browsing activity</li><li>click-stream activity,</li><li>session heatmaps and</li><li>scrolls</li></ul><p>This information can’t be used to identify who you are.</p><p>We don’t allow Glassbox to use or share our analytics data.</p>",cookie_type:"glassbox",enabled:null,adjustable:!0,cookies:null},{title:"Cookies that help with our communications and marketing",description:"These cookies may be set by third party websites and do things like measure how you view YouTube videos that are on Crown Commercial Service (CCS) - Contract Award Service (CAS).",cookie_type:"marketing",enabled:null,adjustable:!0,cookies:null},{title:"Strictly necessary cookies",description:"<p>These essential cookies do things like:</p><ul><li>remember the notifications you've seen so we do not show them to you again</li><li>remember your progress through a form (for example a licence application)</li></ul><p>They always need to be on.</p>",cookie_type:"essential",enabled:null,adjustable:!1,cookies:null}],t=3154e4,r=172800,o={essentials:!0,usage:!1,glassbox:!1,marketing:!1};function n(){var e,t;(e=document.getElementById("cookie-consent-container"))&&(e.innerHTML='<div class="cookie-message__inner cookie-message__inner--accepted govuk-width-container"><p>You&rsquo;ve accepted all cookies. You can <a href="/cookie-settings">change your cookie settings</a> at any time.</p></div>'),a(),function(e,t,r,o,n){e[o]=e[o]||[],e[o].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var a=t.getElementsByTagName(r)[0],s=t.createElement(r);s.async=!0,s.src="https://www.googletagmanager.com/gtm.js?id="+n,a.parentNode.insertBefore(s,a)}(window,document,"script","dataLayer",tagManager),(t=document.createElement("script")).id="_cls_detector",t.src="https://cdn2.gbqofs.com/crown-comm/p/detector-dom.min.js",t.setAttribute("data-clsconfig","reportURI=https://report.crown-comm.gbqofs.io/reporting/9b255ae9-73b0-4a79-d907-c3c35f8e23b0/cls_report"),document.head.appendChild(t)}function a(){if(docCookies.hasItem("cookie_preferences_set")){var e=!1===o.marketing&&!1===o.usage&&!1===o.glassbox?r:t;docCookies.setItem("cookie_preferences",JSON.stringify(o),e,"/",".crowncommercial.gov.uk"),docCookies.setItem("cookies_timer_reset",JSON.stringify(!0),e,"/",".crowncommercial.gov.uk"),docCookies.setItem("seen_cookie_message",!0,e,"/",".crowncommercial.gov.uk")}else{docCookies.setItem("cookie_preferences",JSON.stringify({essentials:!0,usage:!0,glassbox:!0,marketing:!0}),t,"/",".crowncommercial.gov.uk"),docCookies.setItem("cookies_timer_reset",JSON.stringify(!0),t,"/",".crowncommercial.gov.uk"),docCookies.setItem("seen_cookie_message",!0,t,"/",".crowncommercial.gov.uk")}}function s(){e.forEach(function(t,r){if(t.adjustable){var n=document.getElementById(t.cookie_type);n.checked?o[t.cookie_type]="true"===n.value:(o[t.cookie_type]=!1,a=t.cookie_type,e.forEach(function(e,t){e.cookie_type===a&&null!==e.cookies&&e.cookies.forEach(function(e,t){docCookies.removeItem(e.name,e.path,e.domain)})}))}var a});var n=!1===o.usage&&!1===o.glassbox&&!1===o.marketing?r:t;docCookies.setItem("cookie_preferences",JSON.stringify(o),n,"/",".crowncommercial.gov.uk"),docCookies.hasItem("cookie_preferences_set")||docCookies.setItem("cookie_preferences_set",!0,n,"/",".crowncommercial.gov.uk"),document.getElementsByClassName("js-live-area")[0].innerHTML="<p>Your cookie settings were saved.</p>"}function i(t){var r=document.createDocumentFragment(),o=JSON.parse(docCookies.getItem("cookie_preferences"));e.forEach(function(e,t){null!==o&&(e.enabled=o[e.cookie_type]);var n=function(e,t){if(!0===e.adjustable)return'\n<fieldset class="govuk-fieldset" aria-describedby="'.concat(e.cookie_type,'-hint">\n    <legend class="govuk-fieldset__legend">\n      <h3 class="heading size--xl">\n        ').concat(e.title,'\n      </h3>\n    </legend>\n    <span id="').concat(e.cookie_type,'-hint" class="govuk-hint">\n      ').concat(e.description,'\n    </span>\n    <div class="govuk-radios govuk-radios--inline">\n      <div class="govuk-radios__item">\n                <input class="govuk-radios__input" id="').concat(e.cookie_type,'" name="').concat(e.cookie_type,'" type="radio"\n                ').concat(!0===e.enabled?"checked":"",'\n                value="true">\n                <label class="govuk-label govuk-radios__label" for="').concat(e.cookie_type,'">\n          On\n        </label>\n      </div>\n      <div class="govuk-radios__item">\n        <input class="govuk-radios__input" id="').concat(e.cookie_type,'-2" name="').concat(e.cookie_type,'" type="radio"\n        ').concat(!0===e.enabled?"":"checked",'\n                value="false">\n                <label class="govuk-label govuk-radios__label" for="').concat(e.cookie_type,'-2">\n          Off\n        </label>\n      </div>\n    </div>\n  </fieldset>\n            ');if(!1===e.adjustable)return'\n                <h3 class="heading size--xl">'.concat(e.title,"</h3>\n                <div>").concat(e.description,"</div>\n                ")}(e),a=document.createElement("div");a.classList.add("govuk-form-group"),a.innerHTML=n,r.appendChild(a)});var n=document.createElement("button");n.classList.add("govuk-!-font-size-18","govuk-!-font-weight-bold","govuk-button","gtm--accept-cookies-in-banner"),n.innerHTML="Save changes",n.addEventListener("click",function(){s(),a()});var i=document.createElement("div");i.classList.add("cookie-updated-notice","js-live-area"),i.setAttribute("aria-label","Notice"),i.setAttribute("aria-live","polite"),i.setAttribute("role","region"),r.appendChild(n),r.appendChild(i),t.innerHTML="",t.appendChild(r)}function l(){var e=document.createElement("div");e.classList.add("cookie-message"),e.setAttribute("id","cookie-consent-container"),e.setAttribute("aria-label","Cookie Policy"),e.setAttribute("aria-live","polite");var t=document.createElement("div");t.classList.add("cookie-message__inner","govuk-width-container"),t.classList.add("site-container"),t.innerHTML='<h2 class="govuk-heading-m">Cookies on Contract Award Service (CAS) / crowncommercial.gov.uk</h2><div class="cookie-message__intro"><p>We use cookies to collect information about how you use crowncommercial.gov.uk.<br><br> We use this information to make the website work as well as possible and improve government services.</p></div>';var r=document.createElement("button");r.classList.add("govuk-!-font-size-18","govuk-!-font-weight-bold","govuk-button","gtm--accept-cookies-in-banner"),r.innerHTML="Accept all cookies",r.addEventListener("click",n);var o=document.createElement("a");o.classList.add("govuk-!-font-size-18","govuk-!-font-weight-bold","govuk-button"),o.setAttribute("href","/cookie-settings"),o.innerHTML="Set cookie preferences";var a=document.createElement("div");a.classList.add("cookie-message__actions"),a.appendChild(r),a.appendChild(o),t.appendChild(a),e.appendChild(t);var s=document.getElementById("skiplink-container");document.body.insertBefore(e,s),e.style.display="block"}docCookies.hasItem("seen_cookie_message")||-1!==window.location.href.indexOf("cookie-settings")||l(),docCookies.hasItem("cookie_preferences")||docCookies.setItem("cookie_preferences",JSON.stringify(o),r,"/",".crowncommercial.gov.uk"),docCookies.hasItem("seen_cookie_message")&&!docCookies.hasItem("cookies_timer_reset")&&-1===window.location.href.indexOf("cookie-settings")&&l();for(var c=document.getElementsByClassName("cookie-consent-information"),d=0;d<c.length;d++)i(c[d])}(),document.addEventListener("DOMContentLoaded",()=>{let e,t;function r(e){$(".pop").slideFadeToggle(function(){e.removeClass("selected")})}e=$("#ccs_ca_menu_tabs_form .weight"),$(function(){$(".nav-popup").on("click",function(){if($(this).hasClass("selected"))r($(this)),$(".backdrop-nav-menu").fadeOut(200);else{$(".backdrop-nav-menu").fadeTo(200,1);let e=document.querySelector("#redirect-button-nav-menu");e&&"logo nav-popup"!=this.className&&"govuk-footer__link logo nav-popup"!=this.className?e.setAttribute("name",this.innerHTML):(e.setAttribute("name","CCS website"),document.body.scrollTop=document.documentElement.scrollTop=0),$(".pop").slideFadeToggle()}return!1}),$(".ca_da_service_cap").on("click",function(){if($(this).hasClass("selected"))r($(this)),$(".backdrop-vetting").fadeOut(200);else{$(".backdrop-vetting").fadeTo(200,1);let e=document.querySelector("#redirect-button-vetting");e&&"logo rfp_vetting-popup"!=this.className&&"govuk-footer__link logo rfp_vetting-popup"!=this.className?e.setAttribute("name",this.innerHTML):(e.setAttribute("name","CCS website"),document.body.scrollTop=document.documentElement.scrollTop=0),$(".pop").slideFadeToggle()}return!1}),$(".dialog-close-vetting").on("click",function(){return $(".backdrop-vetting").fadeOut(200),r($(".dialog-close-vetting")),!1}),$(".dialog-close-nav-menu").on("click",function(){return $(".backdrop-nav-menu").fadeOut(200),r($(".dialog-close-nav-menu")),!1}),$("#redirect-button-nav-menu").on("click",function(){r($(".dialog-close-nav-menu")),$(".backdrop-nav-menu").fadeOut(200);var e=this.name;if("Home"==e)document.location.href="/";else if("My Projects"==e)document.location.href="/dashboard";else if("CCS website"==e)document.location.href="https://www.crowncommercial.gov.uk/";else if("Guidance"==e)document.location.href="#";else{if("Get help"!=e)return!1;document.location.href="https://www.crowncommercial.gov.uk/contact"}$(".backdrop-nav-menu").fadeOut(200)}),$("#redirect-button-vetting").on("click",function(){if($(".rfp_cap").attr("checked",!1),r($(".dialog-close-vetting")),$(".backdrop-vetting").fadeOut(200),"Clear form"!=this.name)return!1;for(function(){var e="",t="",r=document.querySelectorAll(".da-service-capabilities"),o=document.querySelectorAll(".ca-service-capabilities");null!==r&&r.length>0?(e=r,t=$("#da_total_weighting")):null!==o&&o.length>0&&(e=o,t=$("#ca_total_weighting"));t.text("0 of 100% total weighting for service capabilities");for(let t=0;t<e.length;t++)document.getElementsByClassName("table-item-subtext")[t].innerHTML="[ 0 % ]"}(),t=0;t<e.length;++t)e[t].value=""})}),$.fn.slideFadeToggle=function(e,t){return this.animate({opacity:"toggle",height:"toggle"},"fast",e,t)}});let resources=[],weightingStaff=[],weightingVetting=[];function deselect(e){$(".pop").slideFadeToggle(function(){e.removeClass("selected")})}function removeClass(){var e=document.querySelectorAll(".nav-popup");for(i=0;i<e.length;i++)e[i].classList.remove("nav-popup")}function deselect(e){$(".pop").slideFadeToggle(function(){e.removeClass("selected")})}function removeClass(){var e=document.querySelectorAll(".nav-popup");for(i=0;i<e.length;i++)e[i].classList.remove("nav-popup")}null!==(container=document.getElementById("ccs_ca_menu_tabs_form_later")||document.getElementById("ccs_rfp_scoring_criteria")||document.getElementById("ccs_da_menu_tabs_form_later"))&&(inputs=container.getElementsByTagName("input")),$(function(){$('body:contains("Save and continue")').length<1&&removeClass()}),$(function(){$(".nav-popup").on("click",function(){if($(this).hasClass("selected"))deselect($(this)),$(".backdrop-nav-menu").fadeOut(200);else{$(".backdrop-nav-menu").fadeTo(200,1);let e=document.querySelector("#redirect-button-nav-menu");e&&"logo nav-popup"!=this.className&&"govuk-footer__link logo nav-popup"!=this.className?e.setAttribute("name",this.innerHTML):(e.setAttribute("name","CCS website"),document.body.scrollTop=document.documentElement.scrollTop=0),$(".pop").slideFadeToggle()}return!1}),$(".vetting-popup").on("click",function(){if($(this).hasClass("selected"))deselect($(this)),$(".backdrop-vetting").fadeOut(200);else{$(".backdrop-vetting").fadeTo(200,1);let e=document.querySelector("#redirect-button-vetting");e&&"logo vetting-popup"!=this.className&&"govuk-footer__link logo vetting-popup"!=this.className?e.setAttribute("name",this.innerHTML):(e.setAttribute("name","CCS website"),document.body.scrollTop=document.documentElement.scrollTop=0),$(".pop").slideFadeToggle()}return!1}),$(".tier-4-popup").on("click",function(){if($(this).hasClass("selected"))deselect($(this)),$(".backdrop-tier-4").fadeOut(200);else{$(".backdrop-tier-4").fadeTo(200,1);let e=document.querySelector("#redirect-button-tier-4");e&&"logo tier-4-popup"!=this.className&&"govuk-footer__link logo tier-4-popup"!=this.className?e.setAttribute("name",this.innerHTML):(e.setAttribute("name","Tier 4"),document.body.scrollTop=document.documentElement.scrollTop=0),$(".pop").slideFadeToggle()}return!1}),$(".tier-5-popup").on("click",function(){if($(this).hasClass("selected"))deselect($(this)),$(".backdrop-tier-5").fadeOut(200);else{$(".backdrop-tier-5").fadeTo(200,1);let e=document.querySelector("#redirect-button-tier-5");e&&"logo tier-5-popup"!=this.className&&"govuk-footer__link logo tier-5-popup"!=this.className?e.setAttribute("name",this.innerHTML):(e.setAttribute("name","Tier 5"),document.body.scrollTop=document.documentElement.scrollTop=0),$(".pop").slideFadeToggle()}return!1}),$(".dialog-close-vetting").on("click",function(){return $(".backdrop-vetting").fadeOut(200),deselect($(".dialog-close-vetting")),!1}),$(".dialog-close-tier-4").on("click",function(){return $(".backdrop-tier-4").fadeOut(200),deselect($(".dialog-close-tier-4")),!1}),$(".dialog-close-tier-5").on("click",function(){return $(".backdrop-tier-5").fadeOut(200),deselect($(".dialog-close-tier-5")),!1}),$(".dialog-close-tier").on("click",function(){return $(".backdrop-tier").fadeOut(200),deselect($(".dialog-close-tier")),!1}),$(".dialog-close-nav-menu").on("click",function(){return $(".backdrop-nav-menu").fadeOut(200),deselect($(".dialog-close-nav-menu")),!1}),$("#redirect-button-nav-menu").on("click",function(){deselect($(".dialog-close-nav-menu")),$(".backdrop-nav-menu").fadeOut(200);var e=this.name;if("Home"==e)document.location.href="/";else if("My Projects"==e)document.location.href="/dashboard";else if("CCS website"==e)document.location.href="https://www.crowncommercial.gov.uk/";else if("Guidance"==e)document.location.href="#";else{if("Get help"!=e)return!1;document.location.href="https://www.crowncommercial.gov.uk/contact"}$(".backdrop-nav-menu").fadeOut(200)}),$("#redirect-button-vetting").on("click",function(){const e=document.getElementById("da-total-staff"),t=document.getElementById("da-total-vetting"),r=document.getElementById("da-total-resources"),o=document.getElementById("ca-total-staff"),n=document.getElementById("ca-total-vetting"),a=document.getElementById("ca-total-resources");if(null!=e&&(e.innerHTML=0),null!=t&&(t.innerHTML=0),null!=r&&(r.innerHTML=0),null!=o&&(o.innerHTML=0),null!=n&&(n.innerHTML=0),null!=a&&(a.innerHTML=0),staffs=[],vettings=[],deselect($(".dialog-close-vetting")),$(".backdrop-vetting").fadeOut(200),"Clear form"!=this.name)return!1;for(index=0;index<inputs.length;++index)"hidden"!=inputs[index].type&&(inputs[index].value="");var s,i=document.querySelectorAll(".ca-vetting-weighting");null!=(s=document.querySelectorAll(".da-vetting-weighting"))&&s.length>0&&(s=document.querySelectorAll(".ons-list__item")).forEach(e=>{e.getElementsByClassName("table-item-subtext")[0].innerHTML="0 resources added,0% / 0%"}),null!=i&&i.length>0&&(i=document.querySelectorAll(".ons-list__item")).forEach(e=>{e.getElementsByClassName("table-item-subtext")[0].innerHTML="0 resources added,0% / 0%"})}),$("#redirect-button-tier-4").on("click",function(){if(deselect($(".dialog-close-tier-4")),$(".backdrop-tier-4").fadeOut(200),"Use a 4-tier scoring criteria"!=this.name)return!1;document.location.href="/rfp/set-scoring-criteria?id=4"}),$("#redirect-button-tier-5").on("click",function(){if(deselect($(".dialog-close-tier-5")),$(".backdrop-tier-5").fadeOut(200),"Use a 5-tier scoring criteria"!=this.name)return!1;document.location.href="/rfp/set-scoring-criteria?id=5"}),$("#redirect-button-tier").on("click",function(){deselect($(".dialog-close-tier")),$(".backdrop-tier").fadeOut(200);var e=this.name;if("Use a 5-tier scoring criteria"==e)document.location.href="/rfp/set-scoring-criteria?id=5";else{if("Use a 4-tier scoring criteria"!=e)return!1;document.location.href="/rfp/set-scoring-criteria?id=4"}})}),$.fn.slideFadeToggle=function(e,t){return this.animate({opacity:"toggle",height:"toggle"},"fast",e,t)},$(function(){$('body:contains("Save and continue")').length<1&&removeClass()}),$(function(){$(".close-event").on("click",function(){if("close"==document.querySelector('input[name="event_management_next_step"]:checked').value){if($(this).hasClass("selected"))deselect($(this)),$(".backdrop-close").fadeOut(200);else{$(".backdrop-close").fadeTo(200,1);let e=document.querySelector("#redirect-dutton");e&&"logo nav-popup"!=this.className&&"govuk-footer__link logo nav-popup"!=this.className?e.setAttribute("name",this.innerHTML):(e.setAttribute("name","CCS website"),document.body.scrollTop=document.documentElement.scrollTop=0),$(".pop").slideFadeToggle()}return!1}return!0}),$(".close-dialog-close").on("click",function(){return $(".backdrop-close").fadeOut(200),deselect($(".close-dialog-close")),!1}),$("#redirect-dutton").on("click",function(){deselect($(".close-dialog-close")),$(".backdrop-close").fadeOut(200),document.location.href="/dashboard"})}),$.fn.slideFadeToggle=function(e,t){return this.animate({opacity:"toggle",height:"toggle"},"fast",e,t)};const showEvaluateSuppliersPopup=e=>{if(e.preventDefault(),$(this).hasClass("selected"))deselect($(this)),$(".backdrop-evaluatesuppliers").fadeOut(200),document.getElementById("evaluatesupplierspopup").style.paddingTop="1000";else{$(".backdrop-evaluatesuppliers").fadeTo(200,1),document.getElementById("evaluatesupplierspopup").style.paddingTop="1000";let e=document.querySelector("#redirect-button-evaluatesuppliers");e&&"logo rfp_vetting-popup"!=this.className&&"govuk-footer__link logo rfp_vetting-popup"!=this.className?(e.setAttribute("name","Evaluate Suppliers"),document.body.scrollTop=document.documentElement.scrollTop=0):e.setAttribute("name","CCS website"),$(this).addClass("selected"),$(".pop").slideFadeToggle()}},supplierMsgCancelPopup=e=>{if(console.log("CANCEL"),e.preventDefault(),$(this).hasClass("selected"))deselect($(this)),$(".backdrop-evaluatesuppliers").fadeOut(200),document.getElementById("suplierevaluatesupplierspopup").style.paddingTop="1000";else{$(".backdrop-evaluatesuppliers").fadeTo(200,1);let e=document.querySelector("#supplierredirect-button-evaluatesuppliers");e&&"logo rfp_vetting-popup"!=this.className&&"govuk-footer__link logo rfp_vetting-popup"!=this.className&&(e.setAttribute("name","Evaluate Suppliers"),document.body.scrollTop=document.documentElement.scrollTop=0),$(this).addClass("selected")}};function deselect(e){$(".pop").slideFadeToggle(function(){e.removeClass("selected")})}function removeClass(){var e=document.querySelectorAll(".nav-popup");for(i=0;i<e.length;i++)e[i].classList.remove("nav-popup")}$(function(){$('body:contains("Confirm Scores")').length<1&&removeClass()}),$(".dialog-close-evaluatesuppliers").on("click",function(){return $(".backdrop-evaluatesuppliers").fadeOut(200),!1}),$("#redirect-button-evaluatesuppliers").on("click",function(){return deselect($(".dialog-close-evaluatesuppliers")),$(".backdrop-evaluatesuppliers").fadeOut(200),document.body.classList.add("pageblur"),document.location.href="/evaluate-confirm",!1}),$("#supplierredirect-button-evaluatesuppliers").on("click",function(){return deselect($(".dialog-close-evaluatesuppliers")),$(".backdrop-evaluatesuppliers").fadeOut(200),document.location.href="/message/inbox",!1}),$.fn.slideFadeToggle=function(e,t){return this.animate({opacity:"toggle",height:"toggle"},"fast",e,t)};const showSuppliersAwardPopup=(e,t)=>{var r=document.querySelector(".backdrop-confirmLowScoreSupplierPopup").querySelector(".nodeDialogTitle");let o=document.createElement("h2");o.textContent=e,r.after(o);const n=document.querySelector(".backdrop-confirmLowScoreSupplierPopup");n.classList.add("showpopup"),$(".dialog-close-confirmLowScoreSupplierPopup").on("click",function(){n.classList.remove("showpopup")}),$(".close-dialog-close").on("click",function(){n.classList.remove("showpopup")}),deconf=document.getElementById("redirect-button-confirmLowScoreSupplierPopup"),deconf.addEventListener("click",e=>{n.classList.remove("showpopup"),document.location.href=t})},showPopup=e=>{if(e.preventDefault(),"Close this event and the whole project"==document.querySelector('input[type="radio"]:checked').value)if($(this).hasClass("selected"))deselect($(this)),$(".backdrop-nextsteps").fadeOut(200),document.getElementById("nextstepspopup").style.paddingTop="1000";else{$(".backdrop-nextsteps").fadeTo(200,1),document.getElementById("nextstepspopup").style.paddingTop="1000";let e=document.querySelector("#redirect-button-nextsteps");e&&"logo rfp_vetting-popup"!=this.className&&"govuk-footer__link logo rfp_vetting-popup"!=this.className?(e.setAttribute("name","Next Step"),document.body.scrollTop=document.documentElement.scrollTop=0):e.setAttribute("name","CCS website"),$(this).addClass("selected"),$(".pop").slideFadeToggle()}else document.forms.ccs_rfi_next_steps.submit()},loseyouprojectShowPopup=e=>{e.preventDefault();const t=document.querySelector(".backdrop-nextstepspopup");t.classList.add("showpopup"),$(".dialog-close-nextstepspopup").on("click",function(){t.classList.remove("showpopup")}),$(".close-dialog-close").on("click",function(){t.classList.remove("showpopup")}),deconf=document.getElementById("redirect-button-nextstepspopup"),deconf.addEventListener("click",e=>{t.classList.remove("showpopup"),document.location.href="/rfi/closerfi"})};function deselect(e){$(".pop").slideFadeToggle(function(){e.removeClass("selected")})}function removeClass(){var e=document.querySelectorAll(".nav-popup");for(i=0;i<e.length;i++)e[i].classList.remove("nav-popup")}$(function(){$('body:contains("Save and continue")').length<1&&removeClass()}),$(".dialog-close-nextsteps").on("click",function(){return $(".backdrop-nextsteps").fadeOut(200),deselect($(".dialog-close-nextsteps")),!1}),$("#redirect-button-nextsteps").on("click",function(){return deselect($(".dialog-close-nextsteps")),$(".backdrop-nextsteps").fadeOut(200),document.location.href="../rfi/closerfi",!1}),$.fn.slideFadeToggle=function(e,t){return this.animate({opacity:"toggle",height:"toggle"},"fast",e,t)},document.addEventListener("DOMContentLoaded",()=>{let e,t;function r(e){$(".pop").slideFadeToggle(function(){e.removeClass("selected")})}e=$("#ccs_ca_menu_tabs_form_rfp_vetting .weight_vetting_class"),null!==document.querySelectorAll(".ons-list__item")&&ccsTabMenuNaviation(),$(function(){$('body:contains("Save and continue")').length<1&&function(){var e=document.querySelectorAll(".nav-popup");for(i=0;i<e.length;i++)e[i].classList.remove("nav-popup")}()}),$(function(){$(".nav-popup").on("click",function(){if($(this).hasClass("selected"))r($(this)),$(".backdrop-nav-menu").fadeOut(200);else{$(".backdrop-nav-menu").fadeTo(200,1);let e=document.querySelector("#redirect-button-nav-menu");e&&"logo nav-popup"!=this.className&&"govuk-footer__link logo nav-popup"!=this.className?e.setAttribute("name",this.innerHTML):(e.setAttribute("name","CCS website"),document.body.scrollTop=document.documentElement.scrollTop=0),$(".pop").slideFadeToggle()}return!1}),$(".rfp_vetting-popup").on("click",function(){if($(this).hasClass("selected"))r($(this)),$(".backdrop-vetting").fadeOut(200);else{$(".backdrop-vetting").fadeTo(200,1);let e=document.querySelector("#redirect-button-vetting");e&&"logo rfp_vetting-popup"!=this.className&&"govuk-footer__link logo rfp_vetting-popup"!=this.className?e.setAttribute("name",this.innerHTML):(e.setAttribute("name","CCS website"),document.body.scrollTop=document.documentElement.scrollTop=0),$(".pop").slideFadeToggle()}return!1}),$(".dialog-close-vetting").on("click",function(){return $(".backdrop-vetting").fadeOut(200),r($(".dialog-close-vetting")),!1}),$(".dialog-close-nav-menu").on("click",function(){return $(".backdrop-nav-menu").fadeOut(200),r($(".dialog-close-nav-menu")),!1}),$("#redirect-button-nav-menu").on("click",function(){r($(".dialog-close-nav-menu")),$(".backdrop-nav-menu").fadeOut(200);var e=this.name;if("Home"==e)document.location.href="/";else if("My Projects"==e)document.location.href="/dashboard";else if("CCS website"==e)document.location.href="https://www.crowncommercial.gov.uk/";else if("Guidance"==e)document.location.href="#";else{if("Get help"!=e)return!1;document.location.href="https://www.crowncommercial.gov.uk/contact"}$(".backdrop-nav-menu").fadeOut(200)}),$("#redirect-button-vetting").on("click",function(){if(r($(".dialog-close-vetting")),$(".backdrop-vetting").fadeOut(200),"Clear form"!=this.name)return!1;{let r=document.querySelectorAll(".rfp-vetting-weighting");if(null!=r)!function(e){$("#rfp_total_resource").text("0"),$("#rfp_total_resource2").text("0");for(var t=0;t<e.length;t++)document.getElementsByClassName("table-item-subtext")[t].innerHTML="0 resources added";let r=$(".rfp_weight_vetting_class");for(t=0;t<r.length;++t)r[t].value=""}(r);else for(t=0;t<e.length;++t)e[t].value=""}})}),$.fn.slideFadeToggle=function(e,t){return this.animate({opacity:"toggle",height:"toggle"},"fast",e,t)}}),$(document).ready(function(){$("#active-data").after('<div class="ccs-pagination" id="nav"><p class="govuk-visually-hidden" aria-labelledby="pagination-label">Pagination navigation</p></div>');var e=$("#active-data tbody tr").length,t=e/5,r=0;for($("#nav").append('<a id="active-data-previous" rel="0" class="ccs-pagination__link" href="#">Previous<span class="govuk-visually-hidden"> set of pages</span></a>'),i=0;i<t;i++)r=i+1,$("#nav").append('<a class="ccs-pagination__link" id="pageId_'+i+'" href="#" rel="'+i+'">'+r+"</a> ");$("#nav").append('<a id="active-data-next" rel="1" class="ccs-pagination__link" href="#">Next<span class="govuk-visually-hidden"> set of pages</span></a>'),$("#active-data-previous").addClass("govuk-visually-hidden"),$("#nav").append('<span class="govuk-visually-hidden" id="total_page_active_event">'+r+"</span> "),$("#nav").append('<p class="ccs-pagination__results">Showing <b><label id="start_count">1</label></b> to <b><label id="end_count">5</label></b> of <b><label id="total_count">'+e+"</label></b> results</p>"),$("#active-data tbody tr").hide(),$("#active-data tbody tr").slice(0,5).show(),$("#nav a:nth-child(3)").addClass("ccs-pagination__item--active"),$("#nav a").bind("click",function(){var e=$(this).attr("rel"),t="#pageId_"+e;$("#nav a").removeClass("ccs-pagination__item--active"),$(t).addClass("ccs-pagination__item--active"),0!=e?($("#active-data-previous").attr("rel",parseInt(e)-1),$("#active-data-previous").removeClass("govuk-visually-hidden")):$("#active-data-previous").addClass("govuk-visually-hidden"),parseInt($("#total_page_active_event")[0].innerHTML)-parseInt(e)!=1?($("#active-data-next").attr("rel",parseInt(e)+1),$("#active-data-next").removeClass("govuk-visually-hidden")):($("#active-data-next").addClass("govuk-visually-hidden"),$("#active-data-next").attr("rel",parseInt(e)+1));var r=5*e,o=r+5;return document.getElementById("start_count").innerHTML=r+1,document.getElementById("total_count").innerHTML<o?document.getElementById("end_count").innerHTML=document.getElementById("total_count").innerHTML:document.getElementById("end_count").innerHTML=o,$("#active-data tbody tr").css("opacity","0.0").hide().slice(r,o).css("display","table-row").animate({opacity:1},300),!1})}),$(document).ready(function(){$("#historical-data").after('<div class="ccs-pagination" id="historical-nav"><p class="govuk-visually-hidden" aria-labelledby="pagination-label">Pagination historical-navigation</p></div>');var e=$("#historical-data tbody tr").length,t=e/5,r=0;for($("#historical-nav").append('<a id="historical-data-previous" rel="0" class="ccs-pagination__link" href="#">Previous<span class="govuk-visually-hidden"> set of pages</span></a>'),i=0;i<t;i++)r=i+1,$("#historical-nav").append('<a class="ccs-pagination__link" id="pageId_'+i+'" href="#" rel="'+i+'">'+r+"</a> ");$("#historical-nav").append('<a id="historical-data-next" rel="1" class="ccs-pagination__link" href="#">Next<span class="govuk-visually-hidden"> set of pages</span></a>'),$("#historical-data-previous").addClass("govuk-visually-hidden"),$("#historical-nav").append('<span class="govuk-visually-hidden" id="total_page_active_event">'+r+"</span> "),$("#historical-nav").append('<p class="ccs-pagination__results">Showing <b><label id="start_count">1</label></b> to <b><label id="end_count">5</label></b> of <b><label id="total_count">'+e+"</label></b> results</p>"),$("#historical-data tbody tr").hide(),$("#historical-data tbody tr").slice(0,5).show(),$("#historical-nav a:nth-child(3)").addClass("ccs-pagination__item--active"),$("#historical-nav a").bind("click",function(){var e=$(this).attr("rel"),t="#pageId_"+e;$("#historical-nav a").removeClass("ccs-pagination__item--active"),$(t).addClass("ccs-pagination__item--active"),0!=e?($("#historical-data-previous").attr("rel",parseInt(e)-1),$("#historical-data-previous").removeClass("govuk-visually-hidden")):$("#historical-data-previous").addClass("govuk-visually-hidden"),parseInt($("#total_page_active_event")[0].innerHTML)-parseInt(e)!=1?($("#historical-data-next").attr("rel",parseInt(e)+1),$("#historical-data-next").removeClass("govuk-visually-hidden")):($("#historical-data-next").addClass("govuk-visually-hidden"),$("#historical-data-next").attr("rel",parseInt(e)+1));var r=5*e,o=r+5;return document.getElementById("start_count").innerHTML=r+1,document.getElementById("total_count").innerHTML<o?document.getElementById("end_count").innerHTML=document.getElementById("total_count").innerHTML:document.getElementById("end_count").innerHTML=o,$("#historical-data tbody tr").css("opacity","0.0").hide().slice(r,o).css("display","table-row").animate({opacity:1},300),!1})}),$(document).ready(function(){$("#sent-message").after('<div class="ccs-pagination" id="historical-nav2"><p class="govuk-visually-hidden" aria-labelledby="pagination-label">Pagination historical-navigation</p></div>');var e=10,t=$("#sent-message tbody tr").length,r=t/e,o=0;for(t<=e&&(e=t),$("#historical-nav2").append('<a id="sent-message-previous" rel="0" class="ccs-pagination__link" href="#">Previous<span class="govuk-visually-hidden"> set of pages</span></a>'),i=0;i<r;i++)o=i+1,$("#historical-nav2").append('<a class="ccs-pagination__link" id="pageId_'+i+'" href="#" rel="'+i+'">'+o+"</a> ");t!=e&&$("#historical-nav2").append('<a id="sent-message-next" rel="1" class="ccs-pagination__link" href="#">Next<span class="govuk-visually-hidden"> set of pages</span></a>'),$("#sent-message-previous").addClass("govuk-visually-hidden"),$("#historical-nav2").append('<span class="govuk-visually-hidden" id="total_page_active_event">'+o+"</span> "),$("#historical-nav2").append('<p class="ccs-pagination__results">Showing <b><label id="start_count">1</label></b> to <b><label id="end_count">'+e+'</label></b> of <b><label id="total_count">'+t+"</label></b> results</p>"),$("#sent-message tbody tr").hide(),$("#sent-message tbody tr").slice(0,e).show(),$("#historical-nav2 a:nth-child(3)").addClass("ccs-pagination__item--active"),$("#historical-nav2 a").bind("click",function(){var t=$(this).attr("rel"),r="#pageId_"+t;$("#historical-nav2 a").removeClass("ccs-pagination__item--active"),$(r).addClass("ccs-pagination__item--active"),0!=t?($("#sent-message-previous").attr("rel",parseInt(t)-1),$("#sent-message-previous").removeClass("govuk-visually-hidden")):$("#sent-message-previous").addClass("govuk-visually-hidden"),parseInt($("#total_page_active_event")[0].innerHTML)-parseInt(t)!=1?($("#sent-message-next").attr("rel",parseInt(t)+1),$("#sent-message-next").removeClass("govuk-visually-hidden")):($("#sent-message-next").addClass("govuk-visually-hidden"),$("#sent-message-next").attr("rel",parseInt(t)+1));var o=t*e,n=o+e;return document.getElementById("start_count").innerHTML=o+1,document.getElementById("total_count").innerHTML<n?document.getElementById("end_count").innerHTML=document.getElementById("total_count").innerHTML:document.getElementById("end_count").innerHTML=n,$("#sent-message tbody tr").css("opacity","0.0").hide().slice(o,n).css("display","table-row").animate({opacity:1},300),!1})}),$(document).ready(function(){$("#received-message").after('<div class="ccs-pagination" id="nav-received"><p class="govuk-visually-hidden" aria-labelledby="pagination-label">Pagination nav-receivedigation</p></div>');var e=$("#received-message tbody tr").length,t=e/10,r=0;for($("#nav-received").append('<a id="received-message-previous" rel="0" class="ccs-pagination__link" href="#">Previous<span class="govuk-visually-hidden"> set of pages</span></a>'),i=0;i<t;i++)r=i+1,$("#nav-received").append('<a class="ccs-pagination__link" id="pageId_'+i+'" href="#" rel="'+i+'">'+r+"</a> ");$("#nav-received").append('<a id="received-message-next" rel="1" class="ccs-pagination__link" href="#">Next<span class="govuk-visually-hidden"> set of pages</span></a>'),$("#received-message-previous").addClass("govuk-visually-hidden"),$("#nav-received").append('<span class="govuk-visually-hidden" id="total_page_active_event">'+r+"</span> "),$("#nav-received").append('<p class="ccs-pagination__results">Showing <b><label id="start_count">1</label></b> to <b><label id="end_count">10</label></b> of <b><label id="total_count">'+e+"</label></b> results</p>"),$("#received-message tbody tr").hide(),$("#received-message tbody tr").slice(0,10).show(),$("#nav-received a:nth-child(3)").addClass("ccs-pagination__item--active"),$("#nav-received a").bind("click",function(){var e=$(this).attr("rel"),t="#pageId_"+e;$("#nav-received a").removeClass("ccs-pagination__item--active"),$(t).addClass("ccs-pagination__item--active"),0!=e?($("#received-message-previous").attr("rel",parseInt(e)-1),$("#received-message-previous").removeClass("govuk-visually-hidden")):$("#received-message-previous").addClass("govuk-visually-hidden"),parseInt($("#total_page_active_event")[0].innerHTML)-parseInt(e)!=1?($("#received-message-next").attr("rel",parseInt(e)+1),$("#received-message-next").removeClass("govuk-visually-hidden")):($("#received-message-next").addClass("govuk-visually-hidden"),$("#received-message-next").attr("rel",parseInt(e)+1));var r=10*e,o=r+10;return document.getElementById("start_count").innerHTML=r+1,document.getElementById("total_count").innerHTML<o?document.getElementById("end_count").innerHTML=document.getElementById("total_count").innerHTML:document.getElementById("end_count").innerHTML=o,$("#received-message tbody tr").css("opacity","0.0").hide().slice(r,o).css("display","table-row").animate({opacity:1},300),!1})});var inactiviyTime=0;let logoutlocationURL=window.location.origin+"/oauth/logout";var inactivateAfter=60;function timerIncrement(){(inactiviyTime+=1)>inactivateAfter&&(window.location.href=logoutlocationURL)}$(document).ready(function(){setInterval(timerIncrement,6e4);$(this).mousemove(function(e){inactiviyTime=0}),$(this).keypress(function(e){inactiviyTime=0})});for(var allListOfHeading=new Set,a=0;a<document.getElementsByClassName("headings").length;a++)allListOfHeading.add(document.getElementsByClassName("headings")[a].innerHTML);allListOfHeading=[...allListOfHeading].map(e=>({partial:e.split(" ").join("_").concat("_partial"),whole:e.split(" ").join("_").concat("_whole")}));const weight_whole_len=$(".weight_vetting_whole").length+1,weight_partial_len=$(".weight_vetting_partial").length+1,weight=$(".weight"),TotalFieldOnScreen=$(".govuk-radios__input").length/2+1;for(a=0;a<document.getElementsByClassName("weight_vetting_whole").length;a++)document.getElementsByClassName("weight_vetting_whole")[a].checked=!0;for(a=1;a<weight_whole_len;a++)if(""!==$(`#weight_vetting_whole${a}`).val()){$("#whole_weightage_"+a).attr("checked","checked"),$("#whole_cluster_"+a).fadeIn()}var itemSubText="",itemText="",tabLinks="",totalWeighting="",daServiceCapaTabLinks=document.querySelectorAll(".da-service-capabilities"),caServiceCapaTabLinks=document.querySelectorAll(".ca-service-capabilities");function clearAllTextboxes(){for(var e=$(".dimensions"),t=0;t<e.length;t++)e[t].value=""}null!==daServiceCapaTabLinks&&daServiceCapaTabLinks.length>0?(tabLinks=daServiceCapaTabLinks,ccsTabMenuNaviation(),totalWeighting=$("#da_total_weighting")):null!==caServiceCapaTabLinks&&caServiceCapaTabLinks.length>0&&(tabLinks=caServiceCapaTabLinks,ccsTabMenuNaviation(),totalWeighting=$("#ca_total_weighting")),document.addEventListener("DOMContentLoaded",()=>{function e(){let e=0;for(index=0;index<weight.length;++index)""!=weight[index].value&&weight[index].value>0&&weight[index].value<=100&&(e+=Number(weight[index].value));let t=e+" of 100% total weighting for service capabilities";totalWeighting.text(t)}function t(t){let a="weight_vetting_partial"+t;const i="weight_vetting_whole_"+t;for(var l=1;l<weight_whole_len;l++){let r="weight_vetting_whole_"+t+l,n=t+"whole"+l,i=$(`#${r}`);i.on("blur",()=>{null!=i.val()&&null!==i.val()&&""!==i.val()?(o(weight_partial_len,a),s(r,n,i.val())&&(e(),itemSubText.innerHTML="[ "+i.val()+" % ]")):null!=i.val()&&""==i.val()&&(itemSubText.innerHTML="[ 0 % ]",$(`#${r}`).removeClass("govuk-input--error"),$(`.${n}`).text(""),e())})}for(l=1;l<weight_partial_len;l++){let c=a+l,d=$(`#${a}${l}`),u=t+l;d.on("blur",()=>{r(t),null!=d.val()&&null!==d.val()&&""!==d.val()?(o(weight_whole_len,i),s(c,u,d.val())&&(n(a),e())):null!=d.val()&&""==d.val()&&(n(a),e(),$(`#${c}`).removeClass("govuk-input--error"),$(`.${u}`).text(""))})}}function r(e){for(var t=1;t<weight_whole_len;t++){let r=$(`#${"weight_vetting_whole_"+e+t}`);null!=r&&null!=r&&r.text("")}}function o(e,t){for(var r=1;r<e;r++)$(`#${t}${r}`).val("")}function n(e){let t=0;for(var r=1;r<weight_partial_len;r++){let o=$(`#${e}${r}`);null!=o.val()&&""!=o.val()&&o.val()>0&&o.val()<=100&&(t+=Number(o.val()))}itemSubText.innerHTML="[ "+t+" % ]"}null!==tabLinks&&tabLinks.length>0&&(itemSubText=document.getElementsByClassName("table-item-subtext")[0],null!=(itemText=tabLinks[0].getElementsByTagName("a")[0].childNodes[0].data)&&""!=itemText&&t(itemText=itemText.replaceAll(" ","_")),Array.from(tabLinks).forEach(e=>{e.addEventListener("click",function(e){let r=e.currentTarget,o=$(this).index();return itemSubText=r.getElementsByClassName("table-item-subtext")[0],t(itemText=(itemText=tabLinks[o].getElementsByTagName("a")[0].childNodes[0].data).replaceAll(" ","_")),function(){for(var e=0;e<TotalFieldOnScreen;e++){const t="#whole_cluster_"+e,r="#partial_cluster_"+e;$("#whole_weightage_"+e).prop("checked",!1),$("#partial_weightage_"+e).prop("checked",!1),$(r).fadeOut(),$(t).fadeOut()}}(),!1})})),weight.on("keydown",e=>{"."!==e.key&&69!==e.keyCode||e.preventDefault()});for(var a=0;a<TotalFieldOnScreen;a++){const e="#whole_cluster_"+a,t="#partial_cluster_"+a;$(t).fadeOut(),$(e).fadeOut(),$("#whole_weightage_"+a).click(function(){$(this).is(":checked")&&($(t).fadeOut(),$(e).fadeIn())}),$("#partial_weightage_"+a).click(function(){$(this).is(":checked")&&($(t).fadeIn(),$(e).fadeOut())})}for(a=0;a<allListOfHeading.length;a++){const e=document.getElementsByClassName(allListOfHeading[a].whole)[a];if(null!=e&&null!=e){e.getAttribute("class");""!=e.value&&null!=$(`.${allListOfHeading[index].whole}_div`)&&$(`.${allListOfHeading[a].whole}_div`).fadeIn()}}function s(e,t,r){if(r<=0)$(`#${e}`).addClass("govuk-input--error"),$(`.${t}`).text("Please enter a positive integer"),$("#service_capability_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#summary_list").html('<li><a href="#">The weighting value(s) for the service capabilities must be a positive integer</a></li> '),$("html, body").animate({scrollTop:0},"fast");else if(Number(r)>100)$(`#${e}`).addClass("govuk-input--error"),$(`.${t}`).text("Please enter an integer >0 and <=100 %"),$("#service_capability_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#summary_list").html('<li><a href="#">The weighting value(s) for the service capabilities must be less or equal 100 %</a></li> '),$("html, body").animate({scrollTop:0},"fast");else{if(r.match(/^\d+$/))return $(`#${e}`).removeClass("govuk-input--error"),$(`.${t}`).text(""),$("#service_capability_error_summary").addClass("hide-block"),$(".govuk-error-summary__title").text(""),$("#summary_list").html(""),!0;$(`#${e}`).addClass("govuk-input--error"),$(`.${t}`).text("Please enter only intergers"),$("#service_capability_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#summary_list").html('<li><a href="#">The weighting value(s) for the service capabilities must not contain alphabets</a></li>'),$("html, body").animate({scrollTop:0},"fast")}return!1}$("#ccs_ca_menu_tabs_form").on("submit",e=>{let t=[],r=[],o=[],n=[],a=[],s=[];var i=!0,l=totalWeighting.text().trim().substring(0,4).match(/\d/g);l=l.join("");let c=Number(l);var d=[];const u=document.getElementsByClassName("weight");for(var m=0;m<u.length;m++)""==u[m].value&&d.push(!0);for(var g=/^\d+$/,_=1;_<weight_whole_len;_++){const e=document.getElementsByClassName("weight_vetting_whole")[_-1];e.value<=0&&""!==e.value?t.push(!0):e.value>100&&""!=e.value?r.push(!0):e.value.match(g)||""==e.value||o.push(!0)}for(_=1;_<weight_partial_len;_++){const e=document.getElementsByClassName("weight_vetting_partial")[_-1];e.value<=0&&""!==e.value?n.push(!0):e.value>100&&""!=e.value?a.push(!0):e.value.match(g)||""==e.value||s.push(!0)}if(t.length>0||r.length>0||o.length>0||n.length>0||a.length>0||s.length>0)switch(i=!1,e.preventDefault(),!0){case(t.length>0||n.length>0)&&(r.length>0||a.length>0)&&(o.length>0||s.length>0):e.preventDefault(),$("#service_capability_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#summary_list").html('<li><a href="#">The input field must be a number less than or equal to 100 </a></li><br><li><a href="#">The input field must be greater than 0</a></li><br><li><a href="#">The input field must be a number</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;case(t.length>0||n.length>0)&&(r.length>0||a.length>0):e.preventDefault(),$("#service_capability_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#summary_list").html('<li><a href="#">The input field must be a number less than 100</a></li><br><li><a href="#">The input field  must be  greater than 0</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;case(t.length>0||n.length>0)&&(o.length>0||s.length>0):e.preventDefault(),$("#service_capability_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#summary_list").html('<li><a href="#">The input field must be must be  greater than 0</a></li><br><li><a href="#">The input field must be a number</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;case(r.length>0||a.length>0)&&(o.length>0||s.length>0):e.preventDefault(),$("#service_capability_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#summary_list").html('<li><a href="#">The input field should  must be a number less than 100</a></li><br><li><a href="#">The input field must be a number</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;case t.length>0||n.length>0:e.preventDefault(),$("#service_capability_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#summary_list").html('<li><a href="#">The input field must be  greater than 0</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;case o.length>0||s.length>0:e.preventDefault(),$("#service_capability_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#summary_list").html('<li><a href="#">The input field must be a number</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;case r.length>0||a.length>0:e.preventDefault(),$("#service_capability_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#summary_list").html('<li><a href="#">The input field must be a number less than 100</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;default:console.log("If all else fails")}else 100!=c?(i=!1,e.preventDefault(),$("#service_capability_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#summary_list").html('<li><a href="#">The weighting value(s) for the service capabilities must be equal to 100%</a></li> '),$([document.documentElement,document.body]).animate({scrollTop:$("#summary_list").offset().top},1e3)):d.length==u.length?(i=!1,e.preventDefault(),$("#service_capability_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#summary_list").html('<li><a href="#">Atleast one of the service capability must be selected</a></li> '),$([document.documentElement,document.body]).animate({scrollTop:$("#summary_list").offset().top},1e3)):i&&$("#ccs_ca_menu_tabs_form").submit()})}),document.addEventListener("DOMContentLoaded",()=>{if($("#ca_where_work_done").length>0||$("#da_where_work_done").length>0){var e=$(".dimensions");updateLocationTotal(e),e.on("blur",()=>{updateLocationTotal(e)})}function t(e){$(".pop").slideFadeToggle(function(){e.removeClass("selected")})}$(".ca_whereworkdone_popup").on("click",function(){if($(this).hasClass("selected"))t($(this)),$(".backdrop-vetting").fadeOut(200);else{$(".backdrop-vetting").fadeTo(200,1);let e=document.querySelector("#redirect-button-vetting");e&&"logo rfp_vetting-popup"!=this.className&&"govuk-footer__link logo rfp_vetting-popup"!=this.className?e.setAttribute("name",this.innerHTML):(e.setAttribute("name","CCS website"),document.body.scrollTop=document.documentElement.scrollTop=0),$(this).addClass("selected"),$(".pop").slideFadeToggle()}return!1}),$(".da_whereworkdone_popup").on("click",function(){if($(this).hasClass("selected"))t($(this)),$(".backdrop-vetting").fadeOut(200);else{$(".backdrop-vetting").fadeTo(200,1);let e=document.querySelector("#redirect-button-vetting");e&&"logo rfp_vetting-popup"!=this.className&&"govuk-footer__link logo rfp_vetting-popup"!=this.className?e.setAttribute("name",this.innerHTML):(e.setAttribute("name","CCS website"),document.body.scrollTop=document.documentElement.scrollTop=0),$(this).addClass("selected"),$(".pop").slideFadeToggle()}return!1}),$(".dialog-close-vetting").on("click",function(){return $(".backdrop-vetting").fadeOut(200),t($(".dialog-close-vetting")),!1}),$("#redirect-button-vetting").on("click",function(){if(t($(".dialog-close-vetting")),$(".backdrop-vetting").fadeOut(200),"Clear form"!=this.name)return!1;clearAllTextboxes()}),$(".nav-popup").on("click",function(){if($(this).hasClass("selected"))t($(this)),$(".backdrop-nav-menu").fadeOut(200);else{$(".backdrop-nav-menu").fadeTo(200,1);let e=document.querySelector("#redirect-button-nav-menu");e&&"logo nav-popup"!=this.className&&"govuk-footer__link logo nav-popup"!=this.className?e.setAttribute("name",this.innerHTML):(e.setAttribute("name","CCS website"),document.body.scrollTop=document.documentElement.scrollTop=0),$(".pop").slideFadeToggle()}return!1}),$(".dialog-close-nav-menu").on("click",function(){return $(".backdrop-nav-menu").fadeOut(200),t($(".dialog-close-nav-menu")),!1})}),$.fn.slideFadeToggle=function(e,t){return this.animate({opacity:"toggle",height:"toggle"},"fast",e,t)};const updateLocationTotal=e=>{let t=0;e.each(function(){!isNaN($(this).val())&&$(this).val()>0&&(t+=Number($(this).val()))}),$("#totalPercentage").text(t)},ccsZvalidateDAWhereWorkDone=e=>{e.preventDefault();var t=$(".dimensions");let r="",o=[],n=0;emptycontent=[],t.each(function(){var e=document.getElementById($(this).attr("id"));ccsZremoveErrorMessage(e);let t="";isNaN($(this).val())&&""!=e.value?(t="Dimension value entered must be an integer",emptycontent.push("false")):e.value.includes(".")&&""!=e.value?(t="Dimension value entered must not contain decimal values",emptycontent.push("false")):e.value>100&&""!=e.value?(t="Dimension value entered must be <100",emptycontent.push("false")):e.value<=0&&""!=e.value?(t="Dimension value entered must be >0",emptycontent.push("false")):""!=e.value&&(n+=Number(e.value),emptycontent.push("true")),""!==t&&(ccsZaddErrorMessage(e,t),r=[$(this).attr("id"),t],o.push(r))}),!emptycontent.length>0?(r=["","Entry box must contain a value"],o.push(r)):100!==n&&(r=["totalPercentage","Dimension value entered does not total to 100%"],o.push(r)),0===o.length?document.forms.da_where_work_done.submit():ccsZPresentErrorSummary(o)},ccsZvalidateCAWhereWorkDone=e=>{e.preventDefault();var t=$(".dimensions");let r="",o=[],n=0;emptycontent=[],t.each(function(){var e=document.getElementById($(this).attr("id"));ccsZremoveErrorMessage(e);let t="";isNaN($(this).val())&&""!=e.value?(t="Dimension value entered must be an integer",emptycontent.push("false")):e.value.includes(".")&&""!=e.value?(t="Dimension value entered must not contain decimal values",emptycontent.push("false")):e.value>100&&""!=e.value?(t="Dimension value entered must be <100",emptycontent.push("false")):e.value<=0&&""!=e.value?(t="Dimension value entered must be >0",emptycontent.push("false")):""!=e.value&&(n+=Number(e.value),emptycontent.push("true")),""!==t&&(ccsZaddErrorMessage(e,t),r=[$(this).attr("id"),t],o.push(r))}),!emptycontent.length>0?(r=["","Entry box must contain a value"],o.push(r)):100!==n&&(r=["totalPercentage","Dimension value entered does not total to 100%"],o.push(r)),0===o.length?document.forms.ca_where_work_done.submit():ccsZPresentErrorSummary(o)};document.addEventListener("DOMContentLoaded",()=>{if($("#ccs_ca_weighting").length>0||$("#ccs_daa_weighting").length>0){var e=$(".dimensionweightings");updateTotal(e),e.on("blur",()=>{updateTotal(e)})}});const updateTotal=e=>{let t=0;e.each(function(){!isNaN($(this).val())&&$(this).val()>0&&$(this).val()<100&&(t+=Number($(this).val()))}),$("#totalPercentage").text(t)},ccsZvalidateCAWeightings=e=>{e.preventDefault();var t=$(".dimensionweightings");let r="",o=[],n=0;emptycontent=[],t.each(function(){var e=document.getElementById($(this).attr("id")),t=e.min,a=e.max,s=Number(e.value);ccsZremoveErrorMessage(e);let i="";isNaN($(this).val())&&""!=s?(i="Dimension value entered must be an integer",emptycontent.push("false")):e.value.includes(".")&&""!=s?(i="Dimension value entered must not contain decimal values",emptycontent.push("false")):s>100&&""!=s?(i="Dimension value entered must be <100",emptycontent.push("false")):s<=0&&""!=s?(i="Dimension value entered must be >0",emptycontent.push("false")):s<t||s>a?(i="Dimension value is not in the range.",emptycontent.push("false")):""!=s&&(n+=Number(s),emptycontent.push("true")),""!==i&&(ccsZaddErrorMessage(e,i),r=[$(this).attr("id"),i],o.push(r))}),!emptycontent.length>0?(r=["","Entry box must contain a value"],o.push(r)):100!==n&&(r=["totalPercentage","Your total weighting must add up to 100%"],o.push(r)),0===o.length?document.forms.ccs_ca_weighting.submit():ccsZPresentErrorSummary(o)},ccsZvalidateDAAWeightings=e=>{e.preventDefault();var t=$(".dimensionweightings");let r="",o=[],n=0;emptycontent=[],t.each(function(){var e=document.getElementById($(this).attr("id")),t=e.min,a=e.max,s=Number(e.value);ccsZremoveErrorMessage(e);let i="";isNaN($(this).val())&&""!=s?(i="Dimension value entered must be an integer",emptycontent.push("false")):e.value.includes(".")&&""!=s?(i="Dimension value entered must not contain decimal values",emptycontent.push("false")):s>100&&""!=s?(i="Dimension value entered must be <100",emptycontent.push("false")):s<=0&&""!=s?(i="Dimension value entered must be >0",emptycontent.push("false")):s<t||s>a?(i="Dimension value is not in the range.",emptycontent.push("false")):""!=s&&(n+=Number(s),emptycontent.push("true")),""!==i&&(ccsZaddErrorMessage(e,i),r=[$(this).attr("id"),i],o.push(r))}),!emptycontent.length>0?(r=["","Entry box must contain a value"],o.push(r)):100!==n&&(r=["totalPercentage","Your total weighting must add up to 100%"],o.push(r)),0===o.length?document.forms.ccs_daa_weighting.submit():ccsZPresentErrorSummary(o)};document.addEventListener("DOMContentLoaded",()=>{if(null!==document.getElementById("ccs_ca_procurement_lead")){document.getElementById("ccs_ca_procurement_lead").addEventListener("change",function(t){t.preventDefault(),$.ajax({url:"/ca/users-procurement-lead?id="+t.target.value,type:"GET",contentType:"application/json"}).done(function(t){e(t)}).fail(e=>{document.getElementById("ca-lead-email").innerText="",document.getElementById("ca-lead-telephone").innerText=""})});const e=e=>{document.getElementById("ca-lead-email").innerText=e.userName,document.getElementById("ca-lead-telephone").innerText="1",document.getElementById("ca_procurement_lead_input").value=e.userName}}}),$(".add").addClass("ccs-dynaform-hidden");const updateToViewCA=(e,t)=>{$("#ca-total-staff").html(e),$("#ca-total-vetting").html(t),$("#ca-total-resources").html(CAtotalSFIA)},CAstaffweightPercentage=$(".ca_weight_staff_class"),CAvettingPercentage=$(".ca_weight_vetting_class_p"),CASFIA=$(".ca_weight_vetting_class");var CAtotalStaffWeight=null!=$("#ca-total-staff")[0]&&null!=$("#ca-total-staff")[0]?Number($("#ca-total-staff")[0].innerHTML):0,CAtotalVetting=null!=$("#ca-total-vetting")[0]&&null!=$("#ca-total-vetting")[0]?Number($("#ca-total-vetting")[0].innerHTML):0,CAtotalSFIA=null!=$("#ca-total-resources")[0]&&null!=$("#ca-total-resources")[0]?Number($("#ca-total-resources")[0].innerHTML):0;for(a=0;a<CAstaffweightPercentage.length;a++)CAstaffweightPercentage[a].addEventListener("blur",e=>{CAtotalStaffWeight=0;for(var t=0;t<CAstaffweightPercentage.length;t++)CAtotalStaffWeight+=Number(CAstaffweightPercentage[t].value);updateToViewCA(CAtotalStaffWeight,CAtotalVetting)});for(var b=0;b<CAvettingPercentage.length;b++)CAvettingPercentage[b].addEventListener("blur",e=>{CAtotalVetting=0;for(var t=0;t<CAvettingPercentage.length;t++)CAtotalVetting+=Number(CAvettingPercentage[t].value);updateToViewCA(CAtotalStaffWeight,CAtotalVetting)});for(a=0;a<CASFIA.length;a++)CASFIA[a].addEventListener("blur",e=>{CAtotalSFIA=0;for(var t=0;t<CASFIA.length;t++)CAtotalSFIA+=Number(CASFIA[t].value);updateToViewCA(CAtotalStaffWeight,CAtotalVetting)});if(null!=(tabLinks=document.querySelectorAll(".ca-vetting-weighting"))&&tabLinks.length>0){tabLinks=document.querySelectorAll(".ons-list__item");var tabContainer=document.getElementById("vertical_tab_nav");if(null!=tabLinks&&null!=tabLinks&&tabLinks.length>0){tabLinks[0].getElementsByTagName("a")[0].classList.add("selected");const e=tabContainer.getElementsByTagName("article");for(var i=0;i<e.length;i++)0===i?(e[i].style.display="block",itemSubText=tabLinks[0].getElementsByClassName("table-item-subtext")[0],resourceItemOnClick(e[i],itemSubText)):e[i].style.display="none";Array.from(tabLinks).forEach(e=>{e.addEventListener("click",function(e){let t=e.currentTarget,r=$(this).index();return $("#vertical_tab_nav > div > aside > nav > ol > li > a").removeClass("selected"),t.getElementsByTagName("a")[0].classList.add("selected"),$("#vertical_tab_nav > div > article").css("display","none"),$("#vertical_tab_nav > div > article").eq(r).fadeIn(),$(this).blur(),!1})})}Array.from(tabLinks).forEach(e=>{e.addEventListener("click",function(e){let t=e.currentTarget,r=$(this).index();return itemSubText=t.getElementsByClassName("table-item-subtext")[0],resourceItemOnClick(tabContainer.getElementsByTagName("article")[r],itemSubText),!1})})}function resourceItemOnClick(e,t){const r=e.querySelectorAll('[id^="ca_sfia_weight_vetting_"]'),o=e.querySelectorAll('[id^="ca_weight_staff_"]'),n=e.querySelectorAll('[id^="ca_weight_vetting_"]');for(var a=0;a<r.length;a++){let e=$(`#${r[a].id}`);e.on("blur",()=>{null!=e.val()&&null!==e.val()&&""!==e.val()&&updateWeightVetting(r,o,n,t)})}for(a=0;a<o.length;a++){let e=$(`#${o[a].id}`);e.on("blur",()=>{null!=e.val()&&null!==e.val()&&""!==e.val()&&updateWeightVetting(r,o,n,t)})}for(a=0;a<n.length;a++){let e=$(`#${n[a].id}`);e.on("blur",()=>{null!=e.val()&&null!==e.val()&&""!==e.val()&&updateWeightVetting(r,o,n,t)})}}function updateWeightVetting(e,t,r,o){let n=0,a=0,s=0;for(var i=0;i<e.length;i++){let t=$(`#${e[i].id}`);null!=t.val()&&""!=t.val()&&(t.val()<0||isNaN(t.val())?n=n:n+=Number(t.val()))}for(i=0;i<t.length;i++){let e=$(`#${t[i].id}`);null!=e.val()&&""!=e.val()&&(a+=Number(e.val()))}for(i=0;i<r.length;i++){let e=$(`#${r[i].id}`);null!=e.val()&&""!=e.val()&&(s+=Number(e.val()))}o.innerHTML=n+" resources added,"+a+"% / "+s+"%"}function updateTotalResourceAdded(){let e=0;for(let r=0;r<tabLinks.length;r++){var t=tabLinks[r].getElementsByTagName("div")[0].childNodes[0].data.match(/\d/g);null!=t&&(t=t.join(""),e+=Number(t))}totalResourceAdded.text(e)}document.addEventListener("DOMContentLoaded",()=>{$("#ca_review_ranked_suppliers").on("submit",e=>{var t=document.getElementById("supplierID"),r=document.getElementById("ca_justification"),o=$("#ca_p7").html().match(/(\d+)/);void 0!==t&&null!=t&&void 0!==r&&null!=r&&(0==$("input[type=checkbox]:checked").length?(e.preventDefault(),$("#ca_reviewrankedsuppliers_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#ca_rank_summary_list").html('<li><a href="#">Please select the suppliers</a></li>'),$("html, body").animate({scrollTop:0},"fast")):$("input[type=checkbox]:checked").length>0&&$("input[type=checkbox]:checked").length<o[0]?(e.preventDefault(),$("#ca_reviewrankedsuppliers_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#ca_rank_summary_list").html('<li><a href="#">Please select the '+o[0]+" suppliers</a></li>"),$("html, body").animate({scrollTop:0},"fast")):$("input[type=checkbox]:checked").length>=o[0]&&""===$("#ca_justification").val()&&(e.preventDefault(),$("#ca_reviewrankedsuppliers_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#ca_rank_summary_list").html('<li><a href="#">A justification must be provided whether or not a supplier from this tie rank is selected to take forward or not</a></li>'),$("html, body").animate({scrollTop:0},"fast")))})});const ccsZCountCAReviewRank=e=>{e.preventDefault();const t=document.getElementById("ca_justification");let r=document.getElementById("ca_textarea_reviewrank"),o=5e3-t.value.length;r.innerText=o+" remaining of 5000"};document.addEventListener("DOMContentLoaded",()=>{$("#ccs_ca_suppliers_form").on("submit",e=>{e.preventDefault();let t="";let r=[];const o=$("#ca-supplier-count").val();var n=$("#ca_max_suppliers").val();0===o.length||o<3||o>parseInt(n)?!0!==(t=ccsZvalidateWithRegex("ca-supplier-count","Enter a valid value",null))&&r.push(t):o.match(/^\d+$/)?o.includes(".")&&!0!==(t=ccsZvalidateWithRegex("ca-supplier-count","Please enter only numbers",null))&&r.push(t):!0!==(t=ccsZvalidateWithRegex("ca-supplier-count","Please enter only numbers",null))&&r.push(t),0===r.length?document.forms.ccs_ca_suppliers_form.submit():($(".govuk-error-summary__title").text("There is a problem"),$("#summary_list").html('<li><a href="#summary">There is a problem with the value below</a></li> '),$([document.documentElement,document.body]).animate({scrollTop:$("#summary_list").offset().top},1e3),$("#service_capability_error_summary").removeClass("hide-block"))})}),document.addEventListener("DOMContentLoaded",()=>{null!==document.getElementById("ccs_ca_menu_tabs_form_later")&&$("#ccs_ca_menu_tabs_form_later").on("submit",e=>{const t=$(".error_check_weight"),r=$(".error_check_staff"),o=$(".error_check_vetting"),n=(t.length,[]),a=[],s=[],i=[];for(var l=1;l<t.length;l++){const e=document.getElementsByClassName("error_check_weight")[l-1];""!=e.value&&a.push(!0),e.value.includes(".")?(document.getElementsByClassName("weight_class")[l-1].classList.add("govuk-input--error"),document.getElementsByClassName("ca_weight_class_error")[l-1].innerHTML="All entry boxes are integer numeric  ",s.push(!0)):isNaN(e.value)&&""!==e.value?(document.getElementsByClassName("weight_class")[l-1].classList.add("govuk-input--error"),document.getElementsByClassName("ca_weight_class_error")[l-1].innerHTML="Alphabetical value is entered. Please enter number <100 and >0",i.push(!0)):e.value>99&&""!=e.value?(document.getElementsByClassName("weight_class")[l-1].classList.add("govuk-input--error"),document.getElementsByClassName("ca_weight_class_error")[l-1].innerHTML="Please enter number <100 and >0",n.push(!0)):e.value<=0&&""!==e.value?(document.getElementsByClassName("weight_class")[l-1].classList.add("govuk-input--error"),document.getElementsByClassName("ca_weight_class_error")[l-1].innerHTML="Please enter number <100 and >0",n.push(!0)):(document.getElementsByClassName("weight_class")[l-1].classList.remove("govuk-input--error"),document.getElementsByClassName("ca_weight_class_error")[l-1].innerHTML="")}for(l=1;l<r.length;l++){const e=document.getElementsByClassName("error_check_staff")[l-1];""!=e.value&&a.push(!0),e.value.includes(".")?(document.getElementsByClassName("weight_staff_class")[l-1].classList.add("govuk-input--error"),document.getElementsByClassName("ca_weight_staff_class_error")[l-1].innerHTML="Decimal value is entered. Please enter number <100 and >0 ",s.push(!0)):isNaN(e.value)&&""!==e.value?(document.getElementsByClassName("weight_staff_class")[l-1].classList.add("govuk-input--error"),document.getElementsByClassName("ca_weight_staff_class_error")[l-1].innerHTML="Alphabetical value is entered. Please enter number <100 and >0",i.push(!0)):e.value<=0&&""!==e.value?(document.getElementsByClassName("weight_staff_class")[l-1].classList.add("govuk-input--error"),document.getElementsByClassName("ca_weight_staff_class_error")[l-1].innerHTML="Please enter number <100 and >0",n.push(!0)):(document.getElementsByClassName("weight_staff_class")[l-1].classList.remove("govuk-input--error"),document.getElementsByClassName("ca_weight_staff_class_error")[l-1].innerHTML="")}for(l=1;l<o.length;l++){const e=document.getElementsByClassName("error_check_vetting")[l-1];""!=e.value&&a.push(!0),e.value.includes(".")?(document.getElementsByClassName("weight_vetting_class")[l-1].classList.add("govuk-input--error"),document.getElementsByClassName("ca_weight_vetting_class_p_error")[l-1].innerHTML="Decimal value is entered. Please enter number <100 and >0 ",s.push(!0)):isNaN(e.value)&&""!==e.value?(document.getElementsByClassName("weight_vetting_class")[l-1].classList.add("govuk-input--error"),document.getElementsByClassName("ca_weight_vetting_class_p_error")[l-1].innerHTML="Alphabetical value is entered. Please enter number <100 and >0",i.push(!0)):e.value<=0&&""!==e.value?(document.getElementsByClassName("weight_vetting_class")[l-1].classList.add("govuk-input--error"),document.getElementsByClassName("ca_weight_vetting_class_p_error")[l-1].innerHTML="Please enter number <100 and >0",n.push(!0)):(document.getElementsByClassName("weight_vetting_class")[l-1].classList.remove("govuk-input--error"),document.getElementsByClassName("ca_weight_vetting_class_p_error")[l-1].innerHTML="")}switch(!0){case n.length>0&&s.length>0&&i.length>0:e.preventDefault(),$("#ca_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#ca_summary_list").html('<li><a href="#">The input field must be a number less than 100 and greater than 0</a></li><br><li><a href="#">The input field should not contain decimal values</a></li><br><li><a href="#">The input field must be a number</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;case n.length>0&&s.length>0:e.preventDefault(),$("#ca_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#ca_summary_list").html('<li><a href="#">The input field must be a number less than 100 and greater than 0</a></li><br><li><a href="#">The input field should not contain decimal values</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;case n.length>0&&i.length>0:e.preventDefault(),$("#ca_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#ca_summary_list").html('<li><a href="#">The input field must be a number less than 100 and greater than 0</a></li><br><li><a href="#">The input field must be a number</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;case s.length>0&&i.length>0:e.preventDefault(),$("#ca_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#ca_summary_list").html('<li><a href="#">The input field should not contain decimal values</a></li><br><li><a href="#">The input field must be a number</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;case n.length>0:e.preventDefault(),$("#ca_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#ca_summary_list").html('<li><a href="#">The input field must be a number less than 100 and greater than 0</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;case i.length>0:e.preventDefault(),$("#ca_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#ca_summary_list").html('<li><a href="#">The input field must be a number</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;case s.length>0:e.preventDefault(),$("#ca_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#ca_summary_list").html('<li><a href="#">The input field should not contain decimal values</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;default:console.log("If all else fails")}!a.length>0&&(e.preventDefault(),$("#ca_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#ca_summary_list").html("You must enter atleast on value"),$("html, body").animate({scrollTop:0},"fast"))})}),document.addEventListener("DOMContentLoaded",()=>{$("#ccs_ca_menu_tabs_form_later").on("submit",e=>{const t=$(".error_check_weight"),r=$(".error_check_staff"),o=$(".error_check_vetting"),n=(t.length,document.querySelectorAll('[id^="ca_weight_staff_"]')),a=(document.querySelectorAll('[id^="ca_sfia_weight_vetting_"]'),document.querySelectorAll('[id^="ca_weight_vetting_"]')),s=document.querySelectorAll('[id^="ca_hidden_vetting"]');var i=[],l=[],c=[],d=[],u=[];let m=0,g=0;for(var _=0;_<n.length;_++){let e=$(`#${n[_].id}`);null!=e.val()&&""!=e.val()&&(m+=Number(e.val()))}(m<100||m>100)&&(e.preventDefault(),$("#ca_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#ca_summary_list").html('<li><a href="#">The number of staff weightings for all Role Family entries must = 100%</a></li>'),$("html, body").animate({scrollTop:0},"fast"));for(_=0;_<a.length;_++){let e=$(`#${a[_].id}`);null!=e.val()&&""!=e.val()&&(g+=Number(e.val()))}(g<100||g>100)&&(e.preventDefault(),$("#ca_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#ca_summary_list").html('<li><a href="#">The vetting requirement weightings for all Role Family entries must = 100%</a></li>'),$("html, body").animate({scrollTop:0},"fast"));for(_=0;_<n.length;_++){let e=$(`#${n[_].id}`);if(null!=e.val()&&""!=e.val()){let e=$(`#${a[_].id}`);if(null!=e.val()&&""!=e.val()){let e=$(`#${s[_].id}`).val(),t=document.querySelectorAll('[id^="ca_sfia_weight_vetting_"][id$='+e+"]"),r=!1;for(var p=0;p<t.length;p++){let e=$(`#${t[p].id}`);null!=e.val()&&""!=e.val()&&(r=!0)}0==r&&u.push(!0)}}}for(_=1;_<t.length;_++){const e=document.getElementsByClassName("error_check_weight")[_-1];""!=e.value&&l.push(!0),e.value.includes(".")?(document.getElementsByClassName("weight_class")[_-1].classList.add("govuk-input--error"),document.getElementsByClassName("ca_weight_class_error")[_-1].innerHTML="All entry boxes are integer numeric  ",c.push(!0)):isNaN(e.value)&&""!==e.value?(document.getElementsByClassName("weight_class")[_-1].classList.add("govuk-input--error"),document.getElementsByClassName("ca_weight_class_error")[_-1].innerHTML="Alphabetical value is entered. Please enter number <100 and >0",d.push(!0)):e.value>99&&""!=e.value?(document.getElementsByClassName("weight_class")[_-1].classList.add("govuk-input--error"),document.getElementsByClassName("ca_weight_class_error")[_-1].innerHTML="Please enter number <100 and >0",i.push(!0)):e.value<=0&&""!==e.value?(document.getElementsByClassName("weight_class")[_-1].classList.add("govuk-input--error"),document.getElementsByClassName("ca_weight_class_error")[_-1].innerHTML="Please enter number <100 and >0",i.push(!0)):(document.getElementsByClassName("weight_class")[_-1].classList.remove("govuk-input--error"),document.getElementsByClassName("ca_weight_class_error")[_-1].innerHTML="")}for(_=1;_<r.length;_++){const e=document.getElementsByClassName("error_check_staff")[_-1];""!=e.value&&l.push(!0),e.value.includes(".")?(document.getElementsByClassName("weight_staff_class")[_-1].classList.add("govuk-input--error"),document.getElementsByClassName("ca_weight_staff_class_error")[_-1].innerHTML="Decimal value is entered. Please enter number <100 and >0 ",c.push(!0)):isNaN(e.value)&&""!==e.value?(document.getElementsByClassName("weight_staff_class")[_-1].classList.add("govuk-input--error"),document.getElementsByClassName("ca_weight_staff_class_error")[_-1].innerHTML="Alphabetical value is entered. Please enter number <100 and >0",d.push(!0)):e.value<=0&&""!==e.value?(document.getElementsByClassName("weight_staff_class")[_-1].classList.add("govuk-input--error"),document.getElementsByClassName("ca_weight_staff_class_error")[_-1].innerHTML="Please enter number <100 and >0",i.push(!0)):(document.getElementsByClassName("weight_staff_class")[_-1].classList.remove("govuk-input--error"),document.getElementsByClassName("ca_weight_staff_class_error")[_-1].innerHTML="")}for(_=1;_<o.length;_++){const e=document.getElementsByClassName("error_check_vetting")[_-1];""!=e.value&&l.push(!0),e.value.includes(".")?(document.getElementsByClassName("weight_vetting_class")[_-1].classList.add("govuk-input--error"),document.getElementsByClassName("ca_weight_vetting_class_p_error")[_-1].innerHTML="Decimal value is entered. Please enter number <100 and >0 ",c.push(!0)):isNaN(e.value)&&""!==e.value?(document.getElementsByClassName("weight_vetting_class")[_-1].classList.add("govuk-input--error"),document.getElementsByClassName("ca_weight_vetting_class_p_error")[_-1].innerHTML="Alphabetical value is entered. Please enter number <100 and >0",d.push(!0)):e.value<=0&&""!==e.value?(document.getElementsByClassName("weight_vetting_class")[_-1].classList.add("govuk-input--error"),document.getElementsByClassName("ca_weight_vetting_class_p_error")[_-1].innerHTML="Please enter number <100 and >0",i.push(!0)):(document.getElementsByClassName("weight_vetting_class")[_-1].classList.remove("govuk-input--error"),document.getElementsByClassName("ca_weight_vetting_class_p_error")[_-1].innerHTML="")}switch(!0){case i.length>0&&c.length>0&&d.length>0:e.preventDefault(),$("#ca_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#ca_summary_list").html('<li><a href="#">The input field must be a number less than 100 and greater than 0</a></li><br><li><a href="#">The input field should not contain decimal values</a></li><br><li><a href="#">The input field must be a number</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;case i.length>0&&c.length>0:e.preventDefault(),$("#ca_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#ca_summary_list").html('<li><a href="#">The input field must be a number less than 100 and greater than 0</a></li><br><li><a href="#">The input field should not contain decimal values</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;case i.length>0&&d.length>0:e.preventDefault(),$("#ca_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#ca_summary_list").html('<li><a href="#">The input field must be a number less than 100 and greater than 0</a></li><br><li><a href="#">The input field must be a number</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;case c.length>0&&d.length>0:e.preventDefault(),$("#ca_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#ca_summary_list").html('<li><a href="#">The input field should not contain decimal values</a></li><br><li><a href="#">The input field must be a number</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;case i.length>0:e.preventDefault(),$("#ca_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#ca_summary_list").html('<li><a href="#">The input field must be a number less than 100 and greater than 0</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;case d.length>0:e.preventDefault(),$("#ca_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#ca_summary_list").html('<li><a href="#">The input field must be a number</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;case c.length>0:e.preventDefault(),$("#ca_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#ca_summary_list").html('<li><a href="#">The input field should not contain decimal values</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;case u.length>0:e.preventDefault(),$("#ca_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#ca_summary_list").html('<li><a href="#">At least 1 DDaT role must be populated with a quantity value</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;default:console.log("If all else fails")}!l.length>0&&(e.preventDefault(),$("#ca_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#ca_summary_list").html("You must enter atleast on value"),$("html, body").animate({scrollTop:0},"fast"))})}),document.addEventListener("DOMContentLoaded",()=>{$('input:radio[name="ccs_rfp_choose_security"]').on("change",function(){$(this).is(":checked")&&$(".rfp_choosesecurity_resources").val(" ")}),$('input:radio[name="ccs_ca_choose_security"]').on("change",function(){$(this).is(":checked")&&$(".ca_choosesecurity_resources").val(" ")}),$('input:radio[name="ccs_da_choose_security"]').on("change",function(){$(this).is(":checked")&&$(".da_choosesecurity_resources").val(" ")}),$("#rfp_choose_security_form").on("submit",e=>{for(var t="",r=0;r<4;r++){var o=document.getElementsByClassName("rfp_choosesecurity_resources")[r].value;null!=o&&""!=o&&(t=o)}var n=$("#totalQuantityrfp").val(),a=$('input[name="ccs_rfp_choose_security"]:checked').val(),s=a?a.replace(/[^0-9.]/g,""):null;0==$('input:radio[name="ccs_rfp_choose_security"]:checked').length?(e.preventDefault(),$("#rfp_choose_security_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#rfp_choose_security_summary_list").html('<li><a href="#">You must select the highest level of security clearance that staff supplied to the project will need to have.</a></li>'),$("html, body").animate({scrollTop:0},"fast")):s&&["1","2","3","4"].includes(s)&&!t?(e.preventDefault(),$("#rfp_choose_security_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#rfp_choose_security_summary_list").html('<li><a href="#">You must enter the number of staffs who will need a lower security and vetting requirement.</a></li>'),$("html, body").animate({scrollTop:0},"fast")):s&&["1","2","3","4"].includes(s)&&(t<0||t>n-1)&&(e.preventDefault(),$("#rfp_choose_security_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#rfp_choose_security_summary_list").html('<li><a href="#">A Quantity must be between 1 to Quantity('+n+") - 1</a></li>"),$("html, body").animate({scrollTop:0},"fast"))}),$("#ca_choose_security_form").on("submit",e=>{for(var t="",r=0;r<4;r++){var o=document.getElementsByClassName("ca_choosesecurity_resources")[r].value;null!=o&&""!=o&&(t=o)}var n=$("#totalQuantityca").val(),a=$('input[name="ccs_ca_choose_security"]:checked').val(),s=a?a.replace(/[^0-9.]/g,""):null;0==$('input:radio[name="ccs_ca_choose_security"]:checked').length?(e.preventDefault(),$("#ca_choose_security_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#ca_choose_security_summary_list").html('<li><a href="#">You must select the highest level of security clearance that staff supplied to the project will need to have.</a></li>'),$("html, body").animate({scrollTop:0},"fast")):s&&["1","2","3","4"].includes(s)&&!t?(e.preventDefault(),$("#ca_choose_security_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#ca_choose_security_summary_list").html('<li><a href="#">You must enter the number of staffs who will need a lower security and vetting requirement.</a></li>'),$("html, body").animate({scrollTop:0},"fast")):s&&["1","2","3","4"].includes(s)&&(t<0||t>n-1)&&(e.preventDefault(),$("#ca_choose_security_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#ca_choose_security_summary_list").html('<li><a href="#">A Quantity must be between 1 to Quantity('+n+") - 1</a></li>"),$("html, body").animate({scrollTop:0},"fast"))}),$("#da_choose_security_form").on("submit",e=>{for(var t="",r=0;r<4;r++){var o=document.getElementsByClassName("da_choosesecurity_resources")[r].value;null!=o&&""!=o&&(t=o)}var n=$("#totalQuantityda").val(),a=$('input[name="ccs_da_choose_security"]:checked').val(),s=a?a.replace(/[^0-9.]/g,""):null;0==$('input:radio[name="ccs_da_choose_security"]:checked').length?(e.preventDefault(),$("#da_choose_security_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#da_choose_security_summary_list").html('<li><a href="#">You must select the highest level of security clearance that staff supplied to the project will need to have.</a></li>'),$("html, body").animate({scrollTop:0},"fast")):s&&["1","2","3","4"].includes(s)&&!t?(e.preventDefault(),$("#da_choose_security_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#da_choose_security_summary_list").html('<li><a href="#">You must enter the number of staffs who will need a lower security and vetting requirement.</a></li>'),$("html, body").animate({scrollTop:0},"fast")):s&&["1","2","3","4"].includes(s)&&(t<0||t>n-1)&&(e.preventDefault(),$("#da_choose_security_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#da_choose_security_summary_list").html('<li><a href="#">A Quantity must be between 1 to Quantity('+n+") - 1</a></li>"),$("html, body").animate({scrollTop:0},"fast"))})}),document.addEventListener("DOMContentLoaded",()=>{if(null!==document.getElementById("ccs_add_collab")){let t=5,r=0,o=document.querySelectorAll("a.del");for(var e=5;e>1;e--){let r=document.querySelector(".collab_"+e);""!==document.getElementById("proj_collab_name_"+e).value?(r.classList.remove("ccs-dynaform-hidden"),5===e&&document.getElementById("ccs_collab_add").classList.add("ccs-dynaform-hidden")):(r.classList.add("ccs-dynaform-hidden"),t=e)}document.getElementById("ccs_collab_add").addEventListener("click",e=>{e.preventDefault(),document.querySelector(".collab_"+t).classList.remove("ccs-dynaform-hidden"),t>2&&(r=t-1,document.querySelector(".collab_"+r+" a.del").classList.add("ccs-dynaform-hidden")),6===++t&&document.getElementById("ccs_collab_add").classList.add("ccs-dynaform-hidden")}),o.forEach(e=>{e.addEventListener("click",r=>{r.preventDefault();let o=e.href.replace(/^(.+\/)(\d{1,2})$/,"$2"),n=Number(o)-1;e.closest("fieldset").classList.add("ccs-dynaform-hidden"),document.getElementById("proj_collab_name_"+o).value="",document.getElementById("proj_collab_email_"+o).value="",document.getElementById("proj_collab_tel_"+o).value="",n>1&&document.querySelector(".collab_"+n+" a.del").classList.remove("ccs-dynaform-hidden"),document.getElementById("ccs_collab_add").classList.remove("ccs-dynaform-hidden"),t--})})}});const ccsZvalidateTeamMems=e=>{e.preventDefault();let t="",r=[],o=["zero","one","two","three","four","five"];for(var n=1;n<6;n++){-1===document.getElementById("proj_collab_name_"+n).closest("fieldset").classList.value.indexOf("ccs-dynaform-hidden")&&(!0!==(t=ccsZvalidateWithRegex("proj_collab_name_"+n,"Provide the name of team member "+o[n],/^[a-z| ]{3,}$/i))&&r.push(t),!0!==(t=ccsZvalidateWithRegex("proj_collab_email_"+n,"Provide the email of team member "+o[n],/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/))&&r.push(t))}0===r.length?document.forms.ccs_add_collab.submit():ccsZPresentErrorSummary(r)},updateToViewDA=(e,t)=>{$("#da-total-staff").html(e),$("#da-total-vetting").html(t),$("#da-total-resources").html(DAtotalSFIA)},DAstaffweightPercentage=$(".da_weight_staff_class"),DAvettingPercentage=$(".da_weight_vetting_class_p"),DASFIA=$(".da_weight_vetting_class");var DAtotalStaffWeight=null!=$("#da-total-staff")[0]&&null!=$("#da-total-staff")[0]?Number($("#da-total-staff")[0].innerHTML):0,DAtotalVetting=null!=$("#da-total-vetting")[0]&&null!=$("#da-total-vetting")[0]?Number($("#da-total-vetting")[0].innerHTML):0,DAtotalSFIA=null!=$("#da-total-resources")[0]&&null!=$("#da-total-resources")[0]?Number($("#da-total-resources")[0].innerHTML):0;for(a=0;a<DAstaffweightPercentage.length;a++)DAstaffweightPercentage[a].addEventListener("blur",e=>{DAtotalStaffWeight=0;for(var t=0;t<DAstaffweightPercentage.length;t++)DAtotalStaffWeight+=Number(DAstaffweightPercentage[t].value);updateToViewDA(DAtotalStaffWeight,DAtotalVetting)});for(b=0;b<DAvettingPercentage.length;b++)DAvettingPercentage[b].addEventListener("blur",e=>{DAtotalVetting=0;for(var t=0;t<DAvettingPercentage.length;t++)DAtotalVetting+=Number(DAvettingPercentage[t].value);updateToViewDA(DAtotalStaffWeight,DAtotalVetting)});for(a=0;a<DASFIA.length;a++)DASFIA[a].addEventListener("blur",e=>{DAtotalSFIA=0;for(var t=0;t<DASFIA.length;t++)DAtotalSFIA+=Number(DASFIA[t].value);updateToViewDA(DAtotalStaffWeight,DAtotalVetting)});if(null!=(tabLinks=document.querySelectorAll(".da-vetting-weighting"))&&tabLinks.length>0){tabLinks=document.querySelectorAll(".ons-list__item"),tabContainer=document.getElementById("vertical_tab_nav");if(null!=tabLinks&&null!=tabLinks&&tabLinks.length>0){tabLinks[0].getElementsByTagName("a")[0].classList.add("selected");const e=tabContainer.getElementsByTagName("article");for(i=0;i<e.length;i++)0===i?(e[i].style.display="block",itemSubText=tabLinks[0].getElementsByClassName("table-item-subtext")[0],resourceItemOnClickDA(e[i],itemSubText)):e[i].style.display="none";Array.from(tabLinks).forEach(e=>{e.addEventListener("click",function(e){let t=e.currentTarget,r=$(this).index();return $("#vertical_tab_nav > div > aside > nav > ol > li > a").removeClass("selected"),t.getElementsByTagName("a")[0].classList.add("selected"),$("#vertical_tab_nav > div > article").css("display","none"),$("#vertical_tab_nav > div > article").eq(r).fadeIn(),$(this).blur(),!1})})}Array.from(tabLinks).forEach(e=>{e.addEventListener("click",function(e){let t=e.currentTarget,r=$(this).index();return itemSubText=t.getElementsByClassName("table-item-subtext")[0],resourceItemOnClickDA(tabContainer.getElementsByTagName("article")[r],itemSubText),!1})})}function resourceItemOnClickDA(e,t){const r=e.querySelectorAll('[id^="da_sfia_weight_vetting_"]'),o=e.querySelectorAll('[id^="da_weight_staff_"]'),n=e.querySelectorAll('[id^="da_weight_vetting_"]');for(var a=0;a<r.length;a++){let e=$(`#${r[a].id}`);e.on("blur",()=>{null!=e.val()&&null!==e.val()&&""!==e.val()&&updateWeightVettingDA(r,o,n,t)})}for(a=0;a<o.length;a++){let e=$(`#${o[a].id}`);e.on("blur",()=>{null!=e.val()&&null!==e.val()&&""!==e.val()&&updateWeightVettingDA(r,o,n,t)})}for(a=0;a<n.length;a++){let e=$(`#${n[a].id}`);e.on("blur",()=>{null!=e.val()&&null!==e.val()&&""!==e.val()&&updateWeightVettingDA(r,o,n,t)})}}function updateWeightVettingDA(e,t,r,o){let n=0,a=0,s=0;for(var i=0;i<e.length;i++){let t=$(`#${e[i].id}`);null!=t.val()&&""!=t.val()&&(t.val()<0||isNaN(t.val())?n=n:n+=Number(t.val()))}for(i=0;i<t.length;i++){let e=$(`#${t[i].id}`);null!=e.val()&&""!=e.val()&&(a+=Number(e.val()))}for(i=0;i<r.length;i++){let e=$(`#${r[i].id}`);null!=e.val()&&""!=e.val()&&(s+=Number(e.val()))}o.innerHTML=n+" resources added,"+a+"% / "+s+"%"}function updateTotalResourceAdded(){let e=0;for(let r=0;r<tabLinks.length;r++){var t=tabLinks[r].getElementsByTagName("div")[0].childNodes[0].data.match(/\d/g);null!=t&&(t=t.join(""),e+=Number(t))}totalResourceAdded.text(e)}document.addEventListener("DOMContentLoaded",()=>{if(null!==document.getElementById("ccs_da_procurement_lead")){document.getElementById("ccs_da_procurement_lead").addEventListener("change",function(t){t.preventDefault(),$.ajax({url:"/da/users-procurement-lead?id="+t.target.value,type:"GET",contentType:"application/json"}).done(function(t){e(t)}).fail(e=>{document.getElementById("da-lead-email").innerText="",document.getElementById("da-lead-telephone").innerText=""})});const e=e=>{document.getElementById("da-lead-email").innerText=e.userName,document.getElementById("da-lead-telephone").innerText="1",document.getElementById("da_procurement_lead_input").value=e.userName}}}),$(".add").addClass("ccs-dynaform-hidden"),document.addEventListener("DOMContentLoaded",()=>{const e=()=>{$(".govuk-error-message").remove(),$(".govuk-form-group--error").removeClass("govuk-form-group--error"),$(".govuk-error-summary").remove(),$(".govuk-input").removeClass("govuk-input--error"),$(".govuk-form-group textarea").removeClass("govuk-textarea--error")},t=$("#da_multianswer_question_form");if(void 0!==t&&t.length>0){$(".additional").addClass("ccs-dynaform-hidden");let t=10,n=0,a=document.querySelectorAll("a.del"),s=[],i=document.querySelectorAll(".weightage"),l=()=>{let t=[],r=0;e(),i.forEach(e=>{r+=isNaN(e.value)?0:Number(e.value)}),r>100&&(t.push(["There is a problem","The total weighting is exceeded more than 100%"]),ccsZPresentErrorSummary(t)),$("#totalPercentage").html(r)};i.forEach(e=>{e.addEventListener("focusout",l),e.addEventListener("keydown",e=>{"."!==e.key&&69!==e.keyCode||e.preventDefault()})});const c=()=>{$("#questionsCount").html($(".order_1").filter(function(){return""!==this.value}).length)};c(),l(),a.forEach(e=>{e.classList.add("ccs-dynaform-hidden"),e.addEventListener("click",r=>{r.preventDefault();let o=r.target.href.replace(/^(.+\/)(\d{1,2})$/,"$2"),n=Number(o)-1,a=e.closest("div"),s=a.nextElementSibling,i=Number(o),l=Number(o);if(20!=o){let e=1,t=[];for(;s;){let r=s.classList;if(void 0!==Object.keys(r).find(e=>"closeCCS"===r[e])&&void 0===Object.keys(r).find(e=>"ccs-dynaform-hidden"===r[e])){let r=l;if(l+=1,t.push(l),1==e){let t,o,n;if(console.log(`First: ${e} - ${i}`),document.getElementsByClassName("class_question_remove_"+l)[0]&&(t=document.getElementsByClassName("class_question_remove_"+l)[0].value,document.getElementsByClassName("class_question_remove_"+r)[0].value=t),document.getElementsByClassName("class_question_remove_"+l)[1]){var d=document.getElementsByClassName("class_question_remove_"+l)[1].value;document.getElementsByClassName("class_question_remove_"+r)[1].value=d}document.getElementsByClassName("class_question_remove_"+l)[2]&&(n=document.getElementsByClassName("class_question_remove_"+l)[2].value,document.getElementsByClassName("class_question_remove_"+r)[2].value=n),document.getElementById("fc_question_precenate_"+l)&&(o=document.getElementById("fc_question_precenate_"+l).value,document.getElementById("fc_question_precenate_"+r).value=o)}else{let t,o,n;if(i+=1,console.log(`Usual: ${e} - ${i}`),document.getElementsByClassName("class_question_remove_"+l)[0]&&(t=document.getElementsByClassName("class_question_remove_"+l)[0].value,document.getElementsByClassName("class_question_remove_"+r)[0].value=t),document.getElementsByClassName("class_question_remove_"+l)[1]){d=document.getElementsByClassName("class_question_remove_"+l)[1].value;document.getElementsByClassName("class_question_remove_"+r)[1].value=d}document.getElementsByClassName("class_question_remove_"+l)[2]&&(n=document.getElementsByClassName("class_question_remove_"+l)[2].value,document.getElementsByClassName("class_question_remove_"+r)[2].value=n),document.getElementById("fc_question_precenate_"+l)&&(o=document.getElementById("fc_question_precenate_"+l).value,document.getElementById("fc_question_precenate_"+r).value=o)}s=s.nextElementSibling}else s=!1;e++}if(t.length>0){let e=t.at(-1);document.getElementsByClassName("class_question_remove_"+e)[0]&&(document.getElementsByClassName("class_question_remove_"+e)[0].value=""),document.getElementsByClassName("class_question_remove_"+e)[1]&&(document.getElementsByClassName("class_question_remove_"+e)[1].value=""),document.getElementsByClassName("class_question_remove_"+e)[2]&&(document.getElementsByClassName("class_question_remove_"+e)[2].value=""),document.getElementById("fc_question_precenate_"+e)&&(document.getElementById("fc_question_precenate_"+e).value=""),document.querySelector("#fc_question_"+e).classList.add("ccs-dynaform-hidden")}else{a.classList.add("ccs-dynaform-hidden"),document.getElementsByClassName("class_question_remove_"+i)[0]&&(document.getElementsByClassName("class_question_remove_"+i)[0].value=""),document.getElementsByClassName("class_question_remove_"+i)[1]&&(document.getElementsByClassName("class_question_remove_"+i)[1].value=""),document.getElementsByClassName("class_question_remove_"+i)[2]&&(document.getElementsByClassName("class_question_remove_"+i)[2].value=""),document.getElementById("fc_question_precenate_"+i)&&(document.getElementById("fc_question_precenate_"+i).value=""),n>1&&document.querySelector("#fc_question_"+n+" a.del").classList.remove("ccs-dynaform-hidden"),$(".add-another-btn").removeClass("ccs-dynaform-hidden")}}else{a.classList.add("ccs-dynaform-hidden"),document.getElementsByClassName("class_question_remove_"+i)[0]&&(document.getElementsByClassName("class_question_remove_"+i)[0].value=""),document.getElementsByClassName("class_question_remove_"+i)[1]&&(document.getElementsByClassName("class_question_remove_"+i)[1].value=""),document.getElementsByClassName("class_question_remove_"+i)[2]&&(document.getElementsByClassName("class_question_remove_"+i)[2].value=""),document.getElementById("fc_question_precenate_"+i)&&(document.getElementById("fc_question_precenate_"+i).value=""),n>1&&document.querySelector("#fc_question_"+n+" a.del").classList.remove("ccs-dynaform-hidden"),$(".add-another-btn").removeClass("ccs-dynaform-hidden")}t--,c(),11!=t&&$(".add-another-btn").removeClass("ccs-dynaform-hidden")})});for(var r=10;r>1;r--){let e=document.getElementById("fc_question_"+r);if(""!==e.querySelector(".order_1").value){if(e.classList.remove("ccs-dynaform-hidden"),document.getElementById("del_fc_question_"+r).classList.remove("ccs-dynaform-hidden"),10===r)$(".add-another-btn").addClass("ccs-dynaform-hidden"),$(".add-another-btn").closest(".ccs-page-section").length&&$(".add-another-btn").closest(".ccs-page-section").css("border-bottom","0px");s.push(r)}else t=r;2===r&&s.length>0&&$("#del_fc_question_"+s[0]).removeClass("ccs-dynaform-hidden")}t>1&&$("#del_fc_question_"+t).removeClass("ccs-dynaform-hidden"),$(".add-another-btn").on("click",function(){e(),Number($("#totalPercentage").text())>=100?errorStore.push(["There is a problem","The total weighting is 100% so you can not add more questions"]):errorStore=o("add_more"),10===t&&$(".add-another-btn").addClass("ccs-dynaform-hidden"),11===t&&""!=document.getElementById("fc_question_10_1").value?($(".add-another-btn").addClass("ccs-dynaform-hidden"),errorStore.push(["There is a problem","Cannot add another question already 10 questions created"])):errorStore=o("add_more");const r=document.getElementById("page-heading").innerHTML;if(0==errorStore.length){if(document.getElementById("fc_question_"+t).classList.remove("ccs-dynaform-hidden"),t>2&&(n=t-1),r.includes("Write your social value questions")&&null!=document.getElementById("questionsCount")&&(document.getElementById("questionsCount").innerHTML=t),r.includes("Write your technical questions")&&null!=document.getElementById("questionsCount")&&(document.getElementById("questionsCount").innerHTML=t),document.querySelector("label[for=fc_question_"+t+"] a.del").classList.remove("ccs-dynaform-hidden"),11===++t&&""!=document.getElementById("fc_question_10_1").value)return errorStore.push(["There is a problem","Cannot add another question already 10 questions created"]),void ccsZPresentErrorSummary(errorStore)}else ccsZPresentErrorSummary(errorStore)})}const o=(t="")=>{e();let r="",o=[],n=0;const a=document.getElementById("page-heading").innerHTML;for(var s=1;s<11;s++){let e=document.getElementById("fc_question_"+s);const i=document.querySelector("#fc_question_"+s);if(!e.classList.contains("ccs-dynaform-hidden"))if(Number($("#totalPercentage").text)>100&&!0!==(r=ccsZvalidateWithRegex("fc_question_"+s+"_4","You cannot add / submit  question as your weightings exceed 100%",/\w+/))&&o.push(r),a.includes("Enter your project requirements")){const e=i.querySelectorAll("textarea");if(null!=e&&null!=e&&e.length>0)for(let t=0;t<e.length;t++){const r=e[t];0===t?""!=r.value&&void 0!==r.value&&null!==r.value||o.push([r.id,"Please enter name of the group"]):1===t?""!=r.value&&void 0!==r.value&&null!==r.value||o.push([r.id,"Please enter name of the requirement"]):""!=r.value&&void 0!==r.value&&null!==r.value||o.push([r.id,"Please enter description of the requirement"])}n+=1}else{if(e.querySelector(".order_1")){e.querySelector(".order_1");if(""==e.querySelector(".order_1").value&&!a.includes("Optional")||"add_more"==t)if(a.includes("Write your social value questions")){const t=e.querySelector(".order_1").value?"Entry is limited to 50 words":"You must enter your social value question";!0!==(r=ccsZvalidateWithRegex("fc_question_"+s+"_1",t,/\w+/))&&o.push(r)}else if(a.includes("Write your technical questions")){const t=e.querySelector(".order_1").value?"Entry is limited to 50 words":"You must enter your technical question";!0!==(r=ccsZvalidateWithRegex("fc_question_"+s+"_1",t,/\w+/))&&o.push(r)}}if(e.querySelector(".order_2")&&""==e.querySelector(".order_2").value){const t=e.querySelector(".order_2").value?"Entry is limited to 50 words":"You must enter valid additional information";!0!==(r=ccsZvalidateWithRegex("fc_question_"+s+"_2",t,/\w+/))&&o.push(r)}if(e.querySelector(".order_3")&&""==e.querySelector(".order_3").value){const t=e.querySelector(".order_3").value?"Entry is limited to 50 words":"You must enter valid information";!0!==(r=ccsZvalidateWithRegex("fc_question_"+s+"_3",t,/\w+/))&&o.push(r)}if(e.querySelector(".weightage")){const t=e.querySelector(".weightage").value>100;if(""===e.querySelector(".weightage").value||t||e.querySelector(".weightage").value<0){const n=e.querySelector(".weightage").value?"Enter a weighting for this question <= 100%":"You must enter valid weightage";!0!==(r=ccsZvalidateWithRegex("fc_question_"+s+"_4",n,/\w+/,!t))&&o.push(r)}}}}return o};$("#da_multianswer_question_form").on("submit",e=>{e.preventDefault();let t=[];if(null!=$("#totalPercentage")&&null!=$("#totalPercentage")&&$("#totalPercentage").length>0&&Number($("#totalPercentage").text())>100&&t.push(["There is a problem","The total weighting is more than 100% "]),0===(t=t.length<=0?o():t).length){if(0!=document.getElementsByClassName("govuk-hint-error-message").length)return!1;document.forms.da_multianswer_question_form.submit()}else ccsZPresentErrorSummary(t)})}),document.addEventListener("DOMContentLoaded",()=>{$("#da_review_ranked_suppliers").on("submit",e=>{for(var t=document.getElementById("supplierID"),r=$(".da_justification_text"),o=[],n=0;n<r.length;n++)""!=r[n].value&&null!=r[n].value&&o.push(!0);void 0!==t&&null!=t&&(0==$("input[type=radio]:checked").length?(e.preventDefault(),$("#da_reviewrankedsuppliers_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#da_rank_summary_list").html('<li><a href="#">Please select the supplier</a></li>'),$("html, body").animate({scrollTop:0},"fast")):$("input[type=radio]:checked").length>0&&0==o.length&&(e.preventDefault(),$("#da_reviewrankedsuppliers_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#da_rank_summary_list").html('<li><a href="#">A justification must be provided for the selected supplier</a></li>'),$("html, body").animate({scrollTop:0},"fast")))}),$("input[type=radio]").on("change",function(){for(var t=$(".da_justification_text"),r=0;r<t.length;r++)t[r].value="";var o=$(this).attr("value"),n=$("."+o);$(".da_justification").not(n).hide(),$(n).show();let a=$("input[type=radio]:checked").val();justification_text=document.getElementById("da_textarea_reviewrank_"+a),null!=justification_text&&justification_text.addEventListener("input",e)});const e=e=>{e.preventDefault();const t=e.srcElement.id,r=document.getElementById(t),o=t.split("da_textarea_reviewrank_");let n=document.getElementById("da_textarea_"+o[1]),a=5e3-r.value.length;n.innerText=a+" remaining of 5000"};let t=$("input[type=radio]:checked").val();justification_text=document.getElementById("da_textarea_reviewrank_"+t),null!=justification_text&&null!=justification_text&&justification_text.addEventListener("input",e)}),document.addEventListener("DOMContentLoaded",()=>{null!==document.getElementById("ccs_ca_menu_tabs_form_later")&&$("#ccs_da_menu_tabs_form_later").on("submit",e=>{const t=$(".error_check_weight"),r=$(".error_check_staff"),o=$(".error_check_vetting"),n=(t.length,[]),a=[],s=[],i=[];for(var l=1;l<t.length;l++){const e=document.getElementsByClassName("error_check_weight")[l-1];""!=e.value&&a.push(!0),e.value.includes(".")?(document.getElementsByClassName("weight_class")[l-1].classList.add("govuk-input--error"),document.getElementsByClassName("da_weight_class_error")[l-1].innerHTML="All entry boxes are integer numeric ",s.push(!0)):isNaN(e.value)&&""!==e.value?(document.getElementsByClassName("weight_class")[l-1].classList.add("govuk-input--error"),document.getElementsByClassName("da_weight_class_error")[l-1].innerHTML="Alphabetical value is entered. Please enter number <100 and >0",i.push(!0)):e.value>99&&""!=e.value?(document.getElementsByClassName("weight_class")[l-1].classList.add("govuk-input--error"),document.getElementsByClassName("da_weight_class_error")[l-1].innerHTML="Please enter number <100 and >0",n.push(!0)):e.value<=0&&""!==e.value?(document.getElementsByClassName("weight_class")[l-1].classList.add("govuk-input--error"),document.getElementsByClassName("da_weight_class_error")[l-1].innerHTML="Please enter number <100 and >0",n.push(!0)):(document.getElementsByClassName("weight_class")[l-1].classList.remove("govuk-input--error"),document.getElementsByClassName("da_weight_class_error")[l-1].innerHTML="")}for(l=1;l<r.length;l++){const e=document.getElementsByClassName("error_check_staff")[l-1];""!=e.value&&a.push(!0),e.value.includes(".")?(document.getElementsByClassName("weight_staff_class")[l-1].classList.add("govuk-input--error"),document.getElementsByClassName("da_weight_staff_class_error")[l-1].innerHTML="All entry boxes are integer numeric  ",s.push(!0)):isNaN(e.value)&&""!==e.value?(document.getElementsByClassName("weight_staff_class")[l-1].classList.add("govuk-input--error"),document.getElementsByClassName("da_weight_staff_class_error")[l-1].innerHTML="Alphabetical value is entered. Please enter number <100 and >0",i.push(!0)):e.value<=0&&""!==e.value?(document.getElementsByClassName("weight_staff_class")[l-1].classList.add("govuk-input--error"),document.getElementsByClassName("da_weight_staff_class_error")[l-1].innerHTML="Please enter number <100 and >0",n.push(!0)):(document.getElementsByClassName("weight_staff_class")[l-1].classList.remove("govuk-input--error"),document.getElementsByClassName("da_weight_staff_class_error")[l-1].innerHTML="")}for(l=1;l<o.length;l++){const e=document.getElementsByClassName("error_check_vetting")[l-1];""!=e.value&&a.push(!0),e.value.includes(".")?(document.getElementsByClassName("weight_vetting_class")[l-1].classList.add("govuk-input--error"),document.getElementsByClassName("da_weight_vetting_class_p_error")[l-1].innerHTML="All entry boxes are integer numeric  ",s.push(!0)):isNaN(e.value)&&""!==e.value?(document.getElementsByClassName("weight_vetting_class")[l-1].classList.add("govuk-input--error"),document.getElementsByClassName("ca_weight_vetting_class_p_error")[l-1].innerHTML="Alphabetical value is entered. Please enter number <100 and >0",i.push(!0)):e.value<=0&&""!==e.value?(document.getElementsByClassName("weight_vetting_class")[l-1].classList.add("govuk-input--error"),document.getElementsByClassName("da_weight_vetting_class_p_error")[l-1].innerHTML="Please enter number <100 and >0",n.push(!0)):(document.getElementsByClassName("weight_vetting_class")[l-1].classList.remove("govuk-input--error"),document.getElementsByClassName("da_weight_vetting_class_p_error")[l-1].innerHTML="")}switch(!0){case n.length>0&&s.length>0&&i.length>0:e.preventDefault(),$("#da_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#da_summary_list").html('<li><a href="#">The input field must be a number less than 100 and greater than 0</a></li><br><li><a href="#">The input field should not contain decimal values</a></li><br><li><a href="#">The input field must be a number</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;case n.length>0&&s.length>0:e.preventDefault(),$("#da_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#da_summary_list").html('<li><a href="#">The input field must be a number less than 100 and greater than 0</a></li><br><li><a href="#">The input field should not contain decimal values</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;case n.length>0&&i.length>0:e.preventDefault(),$("#da_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#da_summary_list").html('<li><a href="#">The input field must be a number less than 100 and greater than 0</a></li><br><li><a href="#">The input field must be a number</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;case s.length>0&&i.length>0:e.preventDefault(),$("#da_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#da_summary_list").html('<li><a href="#">The input field should not contain decimal values</a></li><br><li><a href="#">The input field must be a number</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;case n.length>0:e.preventDefault(),$("#da_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#da_summary_list").html('<li><a href="#">The input field must be a number less than 100 and greater than 0</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;case i.length>0:e.preventDefault(),$("#da_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#da_summary_list").html('<li><a href="#">The input field must be a number</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;case s.length>0:e.preventDefault(),$("#da_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#da_summary_list").html('<li><a href="#">The input field should not contain decimal values</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;default:console.log("If all else fails")}!a.length>0&&(e.preventDefault(),$("#ca_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#ca_summary_list").html("You must enter atleast on value"),$("html, body").animate({scrollTop:0},"fast"))})}),document.addEventListener("DOMContentLoaded",()=>{$("#ccs_da_menu_tabs_form_later").on("submit",e=>{const t=$(".error_check_weight"),r=$(".error_check_staff"),o=$(".error_check_vetting"),n=(t.length,document.querySelectorAll('[id^="da_weight_staff_"]')),a=(document.querySelectorAll('[id^="da_sfia_weight_vetting_"]'),document.querySelectorAll('[id^="da_weight_vetting_"]')),s=document.querySelectorAll('[id^="da_hidden_vetting"]'),i=[],l=[],c=[],d=[];var u=[];let m=0,g=0;for(var _=0;_<n.length;_++){let e=$(`#${n[_].id}`);null!=e.val()&&""!=e.val()&&(m+=Number(e.val()))}(m<100||m>100)&&(e.preventDefault(),$("#da_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#da_summary_list").html('<li><a href="#">The number of staff weightings for all Role Family entries must = 100%</a></li>'),$("html, body").animate({scrollTop:0},"fast"));for(_=0;_<a.length;_++){let e=$(`#${a[_].id}`);null!=e.val()&&""!=e.val()&&(g+=Number(e.val()))}(g<100||g>100)&&(e.preventDefault(),$("#da_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#da_summary_list").html('<li><a href="#">The vetting requirement weightings for all Role Family entries must = 100%</a></li>'),$("html, body").animate({scrollTop:0},"fast"));for(_=0;_<n.length;_++){let e=$(`#${n[_].id}`);if(null!=e.val()&&""!=e.val()){let e=$(`#${a[_].id}`);if(null!=e.val()&&""!=e.val()){let e=$(`#${s[_].id}`).val(),t=document.querySelectorAll('[id^="da_sfia_weight_vetting_"][id$='+e+"]"),r=!1;for(var p=0;p<t.length;p++){let e=$(`#${t[p].id}`);null!=e.val()&&""!=e.val()&&(r=!0)}0==r&&u.push(!0)}}}for(_=1;_<t.length;_++){const e=document.getElementsByClassName("error_check_weight")[_-1];""!=e.value&&l.push(!0),e.value.includes(".")?(document.getElementsByClassName("weight_class")[_-1].classList.add("govuk-input--error"),document.getElementsByClassName("da_weight_class_error")[_-1].innerHTML="All entry boxes are integer numeric ",c.push(!0)):isNaN(e.value)&&""!==e.value?(document.getElementsByClassName("weight_class")[_-1].classList.add("govuk-input--error"),document.getElementsByClassName("da_weight_class_error")[_-1].innerHTML="Alphabetical value is entered. Please enter number <100 and >0",d.push(!0)):e.value>99&&""!=e.value?(document.getElementsByClassName("weight_class")[_-1].classList.add("govuk-input--error"),document.getElementsByClassName("da_weight_class_error")[_-1].innerHTML="Please enter number <100 and >0",i.push(!0)):e.value<=0&&""!==e.value?(document.getElementsByClassName("weight_class")[_-1].classList.add("govuk-input--error"),document.getElementsByClassName("da_weight_class_error")[_-1].innerHTML="Please enter number <100 and >0",i.push(!0)):(document.getElementsByClassName("weight_class")[_-1].classList.remove("govuk-input--error"),document.getElementsByClassName("da_weight_class_error")[_-1].innerHTML="")}for(_=1;_<r.length;_++){const e=document.getElementsByClassName("error_check_staff")[_-1];""!=e.value&&l.push(!0),e.value.includes(".")?(document.getElementsByClassName("weight_staff_class")[_-1].classList.add("govuk-input--error"),document.getElementsByClassName("da_weight_staff_class_error")[_-1].innerHTML="All entry boxes are integer numeric  ",c.push(!0)):isNaN(e.value)&&""!==e.value?(document.getElementsByClassName("weight_staff_class")[_-1].classList.add("govuk-input--error"),document.getElementsByClassName("da_weight_staff_class_error")[_-1].innerHTML="Alphabetical value is entered. Please enter number <100 and >0",d.push(!0)):e.value<=0&&""!==e.value?(document.getElementsByClassName("weight_staff_class")[_-1].classList.add("govuk-input--error"),document.getElementsByClassName("da_weight_staff_class_error")[_-1].innerHTML="Please enter number <100 and >0",i.push(!0)):(document.getElementsByClassName("weight_staff_class")[_-1].classList.remove("govuk-input--error"),document.getElementsByClassName("da_weight_staff_class_error")[_-1].innerHTML="")}for(_=1;_<o.length;_++){const e=document.getElementsByClassName("error_check_vetting")[_-1];""!=e.value&&l.push(!0),e.value.includes(".")?(document.getElementsByClassName("weight_vetting_class")[_-1].classList.add("govuk-input--error"),document.getElementsByClassName("da_weight_vetting_class_p_error")[_-1].innerHTML="All entry boxes are integer numeric  ",c.push(!0)):isNaN(e.value)&&""!==e.value?(document.getElementsByClassName("weight_vetting_class")[_-1].classList.add("govuk-input--error"),document.getElementsByClassName("ca_weight_vetting_class_p_error")[_-1].innerHTML="Alphabetical value is entered. Please enter number <100 and >0",d.push(!0)):e.value<=0&&""!==e.value?(document.getElementsByClassName("weight_vetting_class")[_-1].classList.add("govuk-input--error"),document.getElementsByClassName("da_weight_vetting_class_p_error")[_-1].innerHTML="Please enter number <100 and >0",i.push(!0)):(document.getElementsByClassName("weight_vetting_class")[_-1].classList.remove("govuk-input--error"),document.getElementsByClassName("da_weight_vetting_class_p_error")[_-1].innerHTML="")}switch(!0){case i.length>0&&c.length>0&&d.length>0:e.preventDefault(),$("#da_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#da_summary_list").html('<li><a href="#">The input field must be a number less than 100 and greater than 0</a></li><br><li><a href="#">The input field should not contain decimal values</a></li><br><li><a href="#">The input field must be a number</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;case i.length>0&&c.length>0:e.preventDefault(),$("#da_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#da_summary_list").html('<li><a href="#">The input field must be a number less than 100 and greater than 0</a></li><br><li><a href="#">The input field should not contain decimal values</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;case i.length>0&&d.length>0:e.preventDefault(),$("#da_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#da_summary_list").html('<li><a href="#">The input field must be a number less than 100 and greater than 0</a></li><br><li><a href="#">The input field must be a number</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;case c.length>0&&d.length>0:e.preventDefault(),$("#da_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#da_summary_list").html('<li><a href="#">The input field should not contain decimal values</a></li><br><li><a href="#">The input field must be a number</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;case i.length>0:e.preventDefault(),$("#da_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#da_summary_list").html('<li><a href="#">The input field must be a number less than 100 and greater than 0</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;case d.length>0:e.preventDefault(),$("#da_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#da_summary_list").html('<li><a href="#">The input field must be a number</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;case c.length>0:e.preventDefault(),$("#da_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#da_summary_list").html('<li><a href="#">The input field should not contain decimal values</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;case u.length>0:e.preventDefault(),$("#da_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#da_summary_list").html('<li><a href="#">At least 1 DDaT role must be populated with a quantity value</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;default:console.log("If all else fails")}!l.length>0&&(e.preventDefault(),$("#ca_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#ca_summary_list").html("You must enter atleast on value"),$("html, body").animate({scrollTop:0},"fast"))})}),$("#ccs_collab_view").hide();let formURL="/eoi/get-collaborator-detail/js-enabled";$("#potential-collaborator").hide(),null!==document.getElementById("eoi_collaborators")&&document.getElementById("eoi_collaborators").addEventListener("change",function(){let e=this.value;if(""!==e){let t={eoi_collaborators:e};$.post(formURL,t,function(e){let{userName:t,firstName:r,lastName:o,tel:n}=e,a=r+" "+o,s=t;$("#potential-collaborator").show(),$("#eoi_show_collab_name").html(a),$("#eoi_show_collab_email").html(s),$("#eoi_show_collab-phone").html(n),$("#eoi_collaborator_append").val(s),$("#ccs_collab_add").prop("disabled",!1)}).fail(function(){console.log("failed")}).always(function(){console.log("finsihed")})}else $("#eoi_show_collab_name").html(""),$("#eoi_show_collab_email").html(""),$("#eoi_show_collab-phone").html(""),$("#ccs_collab_add").prop("disabled",!0)}),$("#eoi_keyterm").length>0&&($(".eoi_form").attr("id","ccs_eoi_acronyms_form"),$(".eoi_form").attr("name","ccs_eoi_acronyms_form")),document.addEventListener("DOMContentLoaded",()=>{if(null!==document.getElementById("ccs_eoi_acronyms_form")){let r=20,o=0,n=0,a=document.querySelectorAll("a.del"),s=document.querySelectorAll("a.clear-fields");for(var e=20;e>1;e--){let t=document.querySelector(".acronym_"+e);""!==document.getElementById("eoi_term_"+e).value?20===e&&document.getElementById("ccs_eoiTerm_add").classList.add("ccs-dynaform-hidden"):(t.classList.add("ccs-dynaform-hidden"),r=e,n++)}if(document.getElementById("ccs_eoiTerm_add").classList.remove("ccs-dynaform-hidden"),0===n&&document.getElementById("ccs_eoiTerm_add").classList.add("ccs-dynaform-hidden"),document.getElementById("ccs_eoiTerm_add").addEventListener("click",e=>{$(".govuk-form-group textarea").removeClass("govuk-textarea--error"),checkFieldsEoi(),e.preventDefault(),0==(errorStore=emptyFieldCheckEoi("add_more")).length?(removeErrorFieldsEoi(),document.querySelector(".acronym_"+r).classList.remove("ccs-dynaform-hidden"),r>2&&(o=r-1),21===++r&&document.getElementById("ccs_eoiTerm_add").classList.add("ccs-dynaform-hidden")):ccsZPresentErrorSummary(errorStore)}),a.forEach(e=>{e.classList.remove("ccs-dynaform-hidden"),e.addEventListener("click",t=>{t.preventDefault();let o=e.href.replace(/^(.+\/)(\d{1,2})$/,"$2"),n=Number(o)-1,a=e.closest("fieldset"),s=a.nextElementSibling;if(console.log(`target: ${o}`),20!=o){let e=1,t=Number(o),r=Number(o),c=[];for(;s;){let o=s.classList;if(void 0!==Object.keys(o).find(e=>"closeCCS"===o[e])&&void 0===Object.keys(o).find(e=>"ccs-dynaform-hidden"===o[e])){let o=r;if(r+=1,c.push(r),1==e){console.log(`First: ${e} - ${t}`);var i=s.querySelector("[name='term']"),l=s.querySelector("[name='value']");console.log(i.value),console.log(l.value),document.getElementById("eoi_term_"+o).value=i.value,document.getElementById("eoi_term_definition_"+o).value=l.value}else{t+=1,console.log(`Usual: ${e} - ${t}`);i=s.querySelector("[name='term']"),l=s.querySelector("[name='value']");console.log(i.value),console.log(l.value),document.getElementById("eoi_term_"+t).value=i.value,document.getElementById("eoi_term_definition_"+t).value=l.value}console.log(s.classList),s=s.nextElementSibling}else s=!1;e++}if(c.length>0){console.log(c);let e=c.at(-1);console.log(`removeLogic: ${e}`),document.getElementById("eoi_term_"+e).value="",document.getElementById("eoi_term_definition_"+e).value="",document.getElementById("eoi_term_"+e).closest("fieldset").classList.add("ccs-dynaform-hidden")}else a.classList.add("ccs-dynaform-hidden"),document.getElementById("eoi_term_"+o).value="",document.getElementById("eoi_term_definition_"+o).value="",n>1&&document.querySelector(".acronym_"+n+" a.del").classList.remove("ccs-dynaform-hidden"),document.getElementById("ccs_eoiTerm_add").classList.remove("ccs-dynaform-hidden")}else a.classList.add("ccs-dynaform-hidden"),document.getElementById("eoi_term_"+o).value="",document.getElementById("eoi_term_definition_"+o).value="",n>1&&document.querySelector(".acronym_"+n+" a.del").classList.remove("ccs-dynaform-hidden"),document.getElementById("ccs_eoiTerm_add").classList.remove("ccs-dynaform-hidden");21!=--r&&document.getElementById("ccs_eoiTerm_add").classList.remove("ccs-dynaform-hidden")})}),s.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();let r=e.href.replace(/^(.+\/)(\d{1,2})$/,"$2");e.closest("fieldset").classList.add("ccs-dynaform"),document.getElementById("eoi_term_"+r).value="",document.getElementById("eoi_term_definition_"+r).value="",removeErrorFieldsEoi()})}),document.getElementsByClassName("term_acronym_fieldset").length>0){let e=document.getElementsByClassName("term_acronym_fieldset"),r=e.length;for(;r--;){let o=r+1;e[r].querySelector("#eoi_term_"+o).addEventListener("focusout",e=>{let r=e.target,n="eoi_term_definition_"+o,a=document.getElementById(n);t(r,a)}),e[r].querySelector("#eoi_term_definition_"+o).addEventListener("focusout",e=>{let r=e.target,n="eoi_term_"+o,a=document.getElementById(n);t(a,r)});var t=function(e,t){if(""!==e.value&&""!==t.value){let e=document.getElementById("ccs_eoi_acronyms_form").getAttribute("action");e+="&stop_page_navigate=true",$.ajax({type:"POST",url:e,data:$("#ccs_eoi_acronyms_form").serialize(),success:function(){}})}}}}}});const checkFieldsEoi=()=>{for(var e=1;e<=20;e++){let t=$(`#eoi_term_${e}`),r=$(`#eoi_term_definition_${e}`);""!==t.val()&&($(`#eoi_term_${e}-error`).remove(),$(`.acronym_${e} div`).removeClass("govuk-form-group--error"),$(`.acronym_${e} input`).removeClass("govuk-input--error")),""!==r.val()&&($(`#eoi_term_definition_${e}-error`).remove(),$(`.acronym_${e} div`).removeClass("govuk-form-group--error"),$(`.acronym_${e} textarea`).removeClass("govuk-input--error"),$(`.acronym_${e} textarea`).removeClass("govuk-textarea--error"))}},removeErrorFieldsEoi=()=>{$(".govuk-error-message").remove(),$(".govuk-form-group--error").removeClass("govuk-form-group--error"),$(".govuk-error-summary").remove(),$(".govuk-input").removeClass("govuk-input--error"),$(".govuk-form-group textarea").removeClass("govuk-textarea--error")},emptyFieldCheckEoi=(e="")=>{let t="",r=[];for(var o=1;o<21;o++){let n=document.getElementById("eoi_term_"+o),a=document.getElementById("eoi_term_definition_"+o);-1===n.closest("fieldset").classList.value.indexOf("ccs-dynaform-hidden")&&(checkFieldsEoi(),""==n.value.trim()&&""==a.value.trim()&&"add_more"==e&&(ccsZaddErrorMessage(n,"Enter a term or acronym"),ccsZaddErrorMessage(a,"Enter a definition for the term or acronym"),t=[n,"Enter a term or acronym"],r.push(t),t=[a,"Enter a definition for the term or acronym"],r.push(t)),""!==n.value.trim()&&""===a.value.trim()&&(ccsZaddErrorMessage(a,"Enter a definition for the term or acronym"),t=[a.id,"Enter a definition for the term or acronym"],r.push(t)),""===n.value.trim()&&""!==a.value.trim()&&(ccsZaddErrorMessage(n,"Enter a term or acronym"),t=[n.id,"Enter a term or acronym"],r.push(t)))}return r},ccsZvalidateEoiAcronyms=e=>{e.preventDefault(),0===(errorStore=emptyFieldCheckEoi()).length?document.forms.ccs_eoi_acronyms_form.submit():ccsZPresentErrorSummary(errorStore)};document.addEventListener("DOMContentLoaded",()=>{if(null!==document.getElementById("ccs_eoi_confid_form")){if("Request for Information"===document.getElementById("event_type_label").value)document.querySelectorAll(".govuk-label").forEach(e=>{let t=e.innerHTML.replace("requirement","requirement (optional)");e.innerHTML=t});let t=6,r=0,o=document.querySelectorAll("a.del");for(var e=6;e>1;e--){let r=document.getElementById("eoi_confid_"+e);if(""!==r.value)r.classList.remove("ccs-dynaform-hidden"),6===e&&document.getElementById("ccs_eoi_criteria_add").classList.add("ccs-dynaform-hidden");else{document.querySelector("label[for='eoi_confid_"+e+"']").classList.add("ccs-dynaform-hidden"),t=e}}document.getElementById("ccs_eoi_confid_add").addEventListener("click",e=>{e.preventDefault(),document.getElementById("eoi_confid_"+t).classList.remove("ccs-dynaform-hidden"),document.querySelector("label[for='eoi_confid_"+t+"']").classList.remove("ccs-dynaform-hidden"),t>2&&(r=t-1,document.querySelector("label[for='eoi_confid_"+r+"'] a.del").classList.add("ccs-dynaform-hidden")),7===++t&&document.getElementById("ccs_eoi_confid_add").classList.add("ccs-dynaform-hidden")}),o.forEach(e=>{e.addEventListener("click",r=>{r.preventDefault();let o=e.href.replace(/^(.+\/)(\d{1,2})$/,"$2"),n=Number(o)-1;document.getElementById("eoi_confid_"+o).value="",document.getElementById("eoi_confid_"+o).classList.add("ccs-dynaform-hidden"),document.getElementById("eoi_confid_"+o+"-error").parentNode.removeChild(document.getElementById("eoi_confid_"+o+"-error")),document.querySelector("label[for='eoi_confid_"+o+"']").classList.add("ccs-dynaform-hidden"),n>1&&document.querySelector("label[for='eoi_confid_"+n+"'] a.del").classList.remove("ccs-dynaform-hidden"),document.getElementById("ccs_eoi_confid_add").classList.remove("ccs-dynaform-hidden"),t--})})}});const ccsZvalidateEoiConf=e=>{e.preventDefault();let t="",r=[];if("Request for Information"!==document.getElementById("event_type_label").value){!0!==(t=ccsZvalidateWithRegex("eoi_confid_1","Enter confidentiality requirement "+o,/\w+/))&&r.push(t);for(var o=2;o<7;o++)document.getElementById("eoi_confid_"+o).classList.contains("ccs-dynaform-hidden")||!0!==(t=ccsZvalidateWithRegex("eoi_confid_"+o,"Enter confidentiality requirement "+o,/\w+/))&&r.push(t)}0===r.length?document.forms.ccs_eoi_confid_form.submit():ccsZPresentErrorSummary(r)};document.addEventListener("DOMContentLoaded",()=>{if(null!==document.getElementById("ccs_eoi_criteria_form")){if("Request for Information"===document.getElementById("event_type_label").value)document.querySelectorAll(".govuk-label").forEach(e=>{let t=e.innerHTML.replace("requirement","requirement (optional)");e.innerHTML=t});let t=6,r=0,o=document.querySelectorAll("a.del");for(var e=6;e>1;e--){let r=document.getElementById("eoi_eval_criterion_"+e);if(""!==r.value)r.classList.remove("ccs-dynaform-hidden"),6===e&&document.getElementById("ccs_eoi_criteria_add").classList.add("ccs-dynaform-hidden");else{document.querySelector("label[for='eoi_eval_criterion_"+e+"']").classList.add("ccs-dynaform-hidden"),t=e}}document.getElementById("ccs_eoi_criteria_add").addEventListener("click",e=>{e.preventDefault(),document.getElementById("eoi_eval_criterion_"+t).classList.remove("ccs-dynaform-hidden"),document.querySelector("label[for='eoi_eval_criterion_"+t+"']").classList.remove("ccs-dynaform-hidden"),t>2&&(r=t-1,document.querySelector("label[for='eoi_eval_criterion_"+r+"'] a.del").classList.add("ccs-dynaform-hidden")),7===++t&&document.getElementById("ccs_eoi_criteria_add").classList.add("ccs-dynaform-hidden")}),o.forEach(e=>{e.addEventListener("click",r=>{r.preventDefault();let o=e.href.replace(/^(.+\/)(\d{1,2})$/,"$2"),n=Number(o)-1;document.getElementById("eoi_eval_criterion_"+o).value="",document.getElementById("eoi_eval_criterion_"+o).classList.add("ccs-dynaform-hidden"),document.getElementById("eoi_eval_criterion_"+o+"-error").parentNode.removeChild(document.getElementById("eoi_eval_criterion_"+o+"-error")),document.querySelector("label[for='eoi_eval_criterion_"+o+"']").classList.add("ccs-dynaform-hidden"),n>1&&document.querySelector("label[for='eoi_eval_criterion_"+n+"'] a.del").classList.remove("ccs-dynaform-hidden"),document.getElementById("ccs_eoi_criteria_add").classList.remove("ccs-dynaform-hidden"),t--})})}});const ccsZvalidateEoiCriteria=e=>{e.preventDefault();let t="",r=[];if("Request for Information"!==document.getElementById("event_type_label").value){!0!==(t=ccsZvalidateWithRegex("eoi_eval_criterion_1","Enter evaluation criterion "+o,/\w+/))&&r.push(t);for(var o=2;o<7;o++)document.getElementById("eoi_eval_criterion_"+o).classList.contains("ccs-dynaform-hidden")||!0!==(t=ccsZvalidateWithRegex("eoi_eval_criterion_"+o,"Enter evaluation criterion "+o,/\w+/))&&r.push(t)}0===r.length?document.forms.ccs_eoi_criteria_form.submit():ccsZPresentErrorSummary(r)},DaySelector=$("#eoi_resource_start_date-day"),MonthSelector=$("#eoi_resource_start_date-month"),YearSelector=$("#eoi_resource_start_date-year");DaySelector.on("keydown",e=>{"."!==e.key&&69!==e.keyCode&&189!==e.keyCode&&109!==e.keyCode||e.preventDefault()}),MonthSelector.on("keydown",e=>{"."!==e.key&&69!==e.keyCode&&189!==e.keyCode&&109!==e.keyCode||e.preventDefault()}),YearSelector.on("keydown",e=>{"."!==e.key&&69!==e.keyCode&&189!==e.keyCode&&109!==e.keyCode||e.preventDefault()});let agreementData,eoiDurationField=$(".eoi_duration");eoiDurationField.on("keydown",e=>{"."!==e.key&&69!==e.keyCode&&189!==e.keyCode&&109!==e.keyCode||e.preventDefault()}),$(".agreement_no").attr("id")&&(agreementData=$(".agreement_no").attr("id").split("-"));let expiryYears=null,expiryMonth=null,expiryDate=null;null!=agreementData&&agreementData.length>0&&(expiryYears=Number(agreementData[0]),expiryMonth=Number(agreementData[1]),expiryDate=Number(agreementData[2]));const ExpiryDates=new Date(expiryYears,expiryMonth-1,expiryDate),getMSOfExpiryDate=ExpiryDates.getTime();DaySelector.on("blur",()=>{DateCheck(),MonthCheck()}),MonthSelector.on("blur",()=>{DateCheck(),MonthCheck()}),YearSelector.on("blur",()=>{DateCheck(),MonthCheck(),YearCheck()});const DateCheck=()=>{const e=DaySelector.val();e>31||e<0?(DaySelector.addClass("govuk-form-group--error"),$(".durations").addClass("govuk-form-group--error"),$("#event-name-error-date").html("Enter a valid date")):(DaySelector.removeClass("govuk-form-group--error"),$(".durations").removeClass("govuk-form-group--error"),$("#event-name-error-date").html(""))},MonthCheck=()=>{const e=MonthSelector.val();e>12||e<0?(MonthSelector.addClass("govuk-form-group--error"),$(".durations").addClass("govuk-form-group--error"),$("#event-name-error-month").html("Enter a valid month")):(MonthSelector.removeClass("govuk-form-group--error"),$(".durations").removeClass("govuk-form-group--error"),$("#event-name-error-month").html(""))};$(".startdateyearlimitEoi").keyup(function(e){var t=$(this).val().length;$(this).val();e.which;if(t>=4)return!1}),$(".startdateyearlimitEoi").keypress(function(e){var t=$(this).val().length;$(this).val();e.which;if(t>=4)return!1});const currentYearDate=new Date,currentYear=currentYearDate.getFullYear(),YearCheck=()=>{const e=YearSelector.val();let t=!YearSelector.val().match(/^\d{4}$/);e<1||t?(YearSelector.addClass("govuk-form-group--error"),$(".durations").addClass("govuk-form-group--error"),$("#event-name-error-year").html("Enter a year using the YYYY format")):(YearSelector.removeClass("govuk-form-group--error"),$(".durations").removeClass("govuk-form-group--error"),$("#event-name-error-year").html(""))},projectYears=$("#eoi_duration-years"),projectMonths=$("#eoi_duration-months"),projectDays=$("#eoi_duration-days");projectYears.on("blur",()=>{projectYears.val()<0?(projectYears.addClass("govuk-form-group--error"),$(".p_durations").addClass("govuk-form-group--error"),$("#eoi-event-name-error-pdate").html("Enter a valid year")):(projectYears.removeClass("govuk-form-group--error"),$(".p_durations").removeClass("govuk-form-group--error"),$("#eoi-event-name-error-pdate").html(""))}),projectMonths.on("blur",()=>{projectMonths.val()<0?(projectMonths.addClass("govuk-form-group--error"),$(".p_durations").addClass("govuk-form-group--error"),$("#eoi-event-name-error-pdate").html("Enter a valid month")):(projectMonths.removeClass("govuk-form-group--error"),$(".p_durations").removeClass("govuk-form-group--error"),$("#eoi-event-name-error-pdate").html(""))}),projectDays.on("blur",()=>{projectDays.val()<0?(projectDays.addClass("govuk-form-group--error"),$(".p_durations").addClass("govuk-form-group--error"),$("#eoi-event-name-error-pdate").html("Enter a valid date")):(projectDays.removeClass("govuk-form-group--error"),$(".p_durations").removeClass("govuk-form-group--error"),$("#eoi-event-name-error-pdate").html(""))}),$(".save-button").on("click",e=>{if(null!=document.getElementById("eoi_resource_start_date-day")){e.preventDefault();const t=$("#eoi_resource_start_date-day").val(),r=$("#eoi_resource_start_date-month").val(),o=$("#eoi_resource_start_date-year").val(),n=new Date(o,r-1,t).getTime(),a=new Date;DaySelector.removeClass("govuk-form-group--error"),MonthSelector.removeClass("govuk-form-group--error"),YearSelector.removeClass("govuk-form-group--error"),$(".durations").removeClass("govuk-form-group--error"),$("#event-name-error-date").html(""),$("#event-name-error-month").html(""),$("#event-name-error-year").html(""),ccsZPresentErrorSummary();const s=YearSelector.val();let i=!YearSelector.val().match(/^\d{4}$/);if(""==t&&""==r&&""==o){const e=[["eoi_resource_start_date","Enter a project start date"]];DaySelector.addClass("govuk-form-group--error"),$(".durations").addClass("govuk-form-group--error"),$("#event-name-error-date").html("Enter a project start date"),ccsZPresentErrorSummary(e)}else if(""==t&&""!=r&&""!=o){const e=[["eoi_resource_start_date","Enter a project start day"]];DaySelector.addClass("govuk-form-group--error"),$(".durations").addClass("govuk-form-group--error"),$("#event-name-error-date").html("Enter a project start day"),ccsZPresentErrorSummary(e)}else if(""!=t&&""==r&&""!=o){const e=[["eoi_resource_start_date-month","Enter a project start month"]];MonthSelector.addClass("govuk-form-group--error"),$(".durations").addClass("govuk-form-group--error"),$("#event-name-error-month").html("Enter a project start month"),ccsZPresentErrorSummary(e)}else if(""!=t&&""!=r&&""==o){const e=[["eoi_resource_start_date-year","Enter a project start year"]];YearSelector.addClass("govuk-form-group--error"),$(".durations").addClass("govuk-form-group--error"),$("#event-name-error-year").html("Enter a project start year"),ccsZPresentErrorSummary(e)}else if(""!=t&&""==r&&""==o){const e=[["eoi_resource_start_date-month","Enter a project start month and year"]];MonthSelector.addClass("govuk-form-group--error"),$(".durations").addClass("govuk-form-group--error"),$("#event-name-error-month").html("Enter a project start month and year"),ccsZPresentErrorSummary(e)}else if(""==t&&""!=r&&""==o){const e=[["eoi_resource_start_date","Enter a project start day and year"]];DaySelector.addClass("govuk-form-group--error"),$(".durations").addClass("govuk-form-group--error"),$("#event-name-error-date").html("Enter a project start day and year"),ccsZPresentErrorSummary(e)}else if(""==t&&""==r&&""!=o){const e=[["eoi_resource_start_date","Enter a project start day and month"]];DaySelector.addClass("govuk-form-group--error"),$(".durations").addClass("govuk-form-group--error"),$("#event-name-error-date").html("Enter a project start day and month"),ccsZPresentErrorSummary(e)}else if(s<1||i){const e=[["eoi_resource_start_date-year","Enter a year using the YYYY format"]];DaySelector.addClass("govuk-form-group--error"),MonthSelector.addClass("govuk-form-group--error"),YearSelector.addClass("govuk-form-group--error"),$(".durations").addClass("govuk-form-group--error"),$("#event-name-error-year").html("Enter a year using the YYYY format"),ccsZPresentErrorSummary(e)}else if(n<a.getTime()){$("#event-name-error-year").html("Enter a project start date in the future"),DaySelector.addClass("govuk-form-group--error"),MonthSelector.addClass("govuk-form-group--error"),YearSelector.addClass("govuk-form-group--error"),$(".durations").addClass("govuk-form-group--error"),ccsZPresentErrorSummary([["eoi_resource_start_date","Enter a project start date in the future"]])}else document.forms.ccs_eoi_date_form.submit();null!=document.forms.ccs_eoi_date_form&&document.forms.ccs_eoi_date_form}});const ccsZvalidateEoiDate=e=>{e.preventDefault();let t="",r=[];let o="";if(o=getDate(document.getElementById("eoi_resource_start_date-day"),document.getElementById("eoi_resource_start_date-month"),document.getElementById("eoi_resource_start_date-year"),o),null!=document.getElementById("eoi_resource_start_date-day")&&null!=document.getElementById("eoi_resource_start_date-day")&&0===document.getElementById("eoi_resource_start_date-day").value.trim().length&&!0!==(t=ccsZvalidateWithRegex("eoi_resource_start_date-day","Enter a day",/^\d{1,}$/))&&r.push(t),null!=document.getElementById("eoi_resource_start_date-month")&&null!=document.getElementById("eoi_resource_start_date-month")&&0===document.getElementById("eoi_resource_start_date-month").value.trim().length&&!0!==(t=ccsZvalidateWithRegex("eoi_resource_start_date-month","Enter a month",/^\d{1,}$/))&&r.push(t),null!=document.getElementById("eoi_resource_start_date-year")&&null!=document.getElementById("eoi_resource_start_date-year")&&0===document.getElementById("eoi_resource_start_date-year").value.trim().length&&!0!==(t=ccsZvalidateWithRegex("eoi_resource_start_date-year","Enter a year",/^\d{1,}$/))&&r.push(t),null!=document.getElementById("eoi_resource_start_date-year")&&null!=document.getElementById("eoi_resource_start_date-year")&&document.getElementById("eoi_resource_start_date-year").value.trim().length<4&&!0!==(t=ccsZvalidateWithRegex("eoi_resource_start_date-year","The date format should be YYYY",/^\d{4,}$/))&&r.push(t),null!=document.getElementById("eoi_resource_start_date-year")&&null!=document.getElementById("eoi_resource_start_date-year")&&4===document.getElementById("eoi_resource_start_date-year").value.trim().length)if(!0!==(t=ccsZvalidateThisDate("eoi_resource_start_date","Start date must be a valid future date",1,0)))r.push(t);else{let e;$(".agreement_no").attr("id")&&(e=$(".agreement_no").attr("id").split("-"));let a=null,s=null,i=null;null!=e&&e.length>0&&(a=Number(e[0]),s=Number(e[1]),i=Number(e[2]));var n=a+","+s+","+i;null!=(t=null!=n?isValidEoiStartDateForSelectedLot(o,n):null)&&!0!==t&&(ccsZaddErrorMessage(document.getElementById("eoi_resource_start_date"),"It is recommended that your project does not start after lot expiry date"),r.push(["eoi_resource_start_date","It is recommended that your project does not start after lot expiry date"]))}0===r.length&&null!=document.forms.ccs_eoi_date_form&&null!=document.forms.ccs_eoi_date_form&&document.forms.ccs_eoi_date_form.length>0?document.forms.ccs_eoi_date_form.submit():ccsZPresentErrorSummary(r)};function getDate(e,t,r,o){if(null!=e&&null!=e&&e.value.match(/^\d\d?$/)&&t.value.match(/^\d\d?$/)&&r.value.match(/^\d{4}$/)){let n=e.value,a=t.value;null!=n&&null!=n&&n<10&&!n.match(/^0\d$/)&&(n="0"+n),null!=a&&null!=a&&a<10&&!a.match(/^0\d$/)&&(a="0"+a),o=new Date(r.value+"-"+a+"-"+n+"T00:00:00").getTime()}return o}function isValidEoiStartDateForSelectedLot(e,t){return null!=e&&null!=e&&e<=new Date(t)}const setInputFilter=(e,t)=>{null!=e&&null!=e&&["input","keydown","keyup","mousedown","mouseup","select","contextmenu","drop"].forEach(function(r){e.addEventListener(r,function(){t(this.value)?(this.oldValue=this.value,this.oldSelectionStart=this.selectionStart,this.oldSelectionEnd=this.selectionEnd):this.hasOwnProperty("oldValue")?(this.value=this.oldValue,this.setSelectionRange(this.oldSelectionStart,this.oldSelectionEnd)):this.value=""})})};document.addEventListener("DOMContentLoaded",()=>{if(null!==document.getElementById("ccs_eoi_procurement_lead")){document.getElementById("ccs_eoi_procurement_lead").addEventListener("change",function(t){t.preventDefault(),$.ajax({url:"/rfi/users-procurement-lead?id="+t.target.value,type:"GET",contentType:"application/json"}).done(function(t){e(t)}).fail(e=>{document.getElementById("eoi-lead-email").innerText="",document.getElementById("eoi-lead-telephone").innerText=""})});const e=e=>{document.getElementById("eoi-lead-email").innerText=e.userName,document.getElementById("eoi-lead-telephone").innerText="1",document.getElementById("eoi_procurement_lead_input").value=e.userName}}}),$(".add").addClass("ccs-dynaform-hidden"),document.addEventListener("DOMContentLoaded",()=>{if(null!==document.getElementById("ccs_eoi_questions_form")){const r=window.location.search;new URLSearchParams(r);let o=10,n=0,a=0,s=document.querySelectorAll("a.del");for(var e=10;e>1;e--){let t=document.getElementById("eoi_question_"+e);""!==t.value?(t.classList.remove("ccs-dynaform-hidden"),10===e&&document.getElementById("ccs_criteria_add").classList.add("ccs-dynaform-hidden")):(document.querySelector("#fc_question_"+e).classList.add("ccs-dynaform-hidden"),document.getElementById("eoi_question_"+e+"-info").classList.add("ccs-dynaform-hidden"),a++,o=e)}document.getElementById("ccs_criteria_add").classList.remove("ccs-dynaform-hidden"),0===a&&document.getElementById("ccs_criteria_add").classList.add("ccs-dynaform-hidden"),document.getElementById("ccs_criteria_add").addEventListener("click",e=>{e.preventDefault(),$(".govuk-error-summary").remove(),0==(errorStore=t()).length?(document.getElementById("eoi_question_"+o).classList.remove("ccs-dynaform-hidden"),document.querySelector("#fc_question_"+o).classList.remove("ccs-dynaform-hidden"),document.querySelector("label[for=eoi_question_"+o+"]").classList.remove("ccs-dynaform-hidden"),document.getElementById("eoi_question_"+o+"-info").classList.remove("ccs-dynaform-hidden"),o>2&&(n=o-1),11===++o&&document.getElementById("ccs_criteria_add").classList.add("ccs-dynaform-hidden")):ccsZPresentErrorSummary(errorStore)}),s.forEach(e=>{e.classList.remove("ccs-dynaform-hidden"),e.addEventListener("click",t=>{t.preventDefault(),console.log("e.target.href",t.target.href);let r=t.target.href.replace(/^(.+\/)(\d{1,2})$/,"$2"),n=Number(r)-1,a=e.closest("div");console.log("target",r),console.log("target_fieldset",a);let s=a.nextElementSibling,i=Number(r),l=Number(r);if(20!=r){let e=1;console.log("1111");let t=[];for(;s;){let r=s.classList;if(void 0!==Object.keys(r).find(e=>"closeCCS"===r[e])&&void 0===Object.keys(r).find(e=>"ccs-dynaform-hidden"===r[e])){let r=l;l+=1,t.push(l),1==e?(console.log(`First: ${e} - ${i}`),console.log("nextLevel_coll",l),console.log("current_col",r),first=document.getElementById("eoi_question_"+l).value,console.log("first",first),document.getElementById("eoi_question_"+r).value=first):(i+=1,console.log(`Usual: ${e} - ${i}`),console.log("nextLevel_coll",l),console.log("current_col",r),first=document.getElementById("eoi_question_"+l).value,console.log("first",first),document.getElementById("eoi_question_"+r).value=first),console.log(s.classList),s=s.nextElementSibling}else s=!1;e++}if(t.length>0){console.log(t);let e=t.at(-1);console.log(`removeLogic: ${e}`),document.getElementById("eoi_question_"+e).value="",document.getElementById("fc_question_"+e).closest("div").classList.add("ccs-dynaform-hidden")}else a.classList.add("ccs-dynaform-hidden"),document.getElementById("eoi_question_"+r).value="",n>1&&document.querySelector("#fc_question_"+i).classList.add("ccs-dynaform-hidden"),document.getElementById("ccs_criteria_add").classList.remove("ccs-dynaform-hidden")}else a.classList.add("ccs-dynaform-hidden"),document.getElementById("eoi_question_"+r).value="",n>1&&document.querySelector("#main_eoi_question_"+i).classList.add("ccs-dynaform-hidden"),document.getElementById("ccs_criteria_add").classList.remove("ccs-dynaform-hidden");21!=--o&&document.getElementById("ccs_criteria_add").classList.remove("ccs-dynaform-hidden")})});let i=11;for(;--i;){document.querySelector("#eoi_question_"+i).addEventListener("focusout",e=>{if(""!==e.target.value){let e=document.getElementById("ccs_eoi_questions_form").getAttribute("action");e+="&stop_page_navigate=true",$.ajax({type:"POST",url:e,data:$("#ccs_eoi_questions_form").serialize(),success:function(){}})}})}}const t=()=>{var e=["","first ","second ","third ","fourth ","fifth ","sixth","seventh ","eighth ","nineth ","tenth"];let t="",r=[],o="";o=$("#page-heading").text().includes("Project scope")?"You must type first project scope before you can add another":"Enter an objective before attempting to add another",!0!==(t=ccsZvalidateWithRegex("eoi_question_1",o,/\w+/))&&r.push(t);for(var n=2;n<11;n++)document.getElementById("fc_question_"+n).classList.contains("ccs-dynaform-hidden")||($("#page-heading").text().includes("Project scope")&&(o=`You must type ${e[n]} project scope before you can add another`),!0!==(t=ccsZvalidateWithRegex("eoi_question_"+n,o,/\w+/))&&r.push(t));return r}});const emptyObjectiveFieldCheckForSave=()=>{let e="",t=[];return $("#page-heading").text().includes("Project objectives")&&(e="RM6187"==urlParams.get("agreement_id")?ccsZvalidateWithRegex("eoi_question_1","Enter at least 1 project objective",/\w+/):ccsZvalidateWithRegex("eoi_question_1","You must add at least one objective",/\w+/)),!0!==e&&$("#page-heading").text().includes("Project objectives")&&t.push(e),t},ccsZvalidateEoIQuestions=e=>{e.preventDefault(),0===(errorStore=emptyObjectiveFieldCheckForSave()).length?document.forms.ccs_eoi_questions_form.submit():ccsZPresentErrorSummary(errorStore)};$(".add").addClass("ccs-dynaform-hidden");const eoi_totalElementSelectors=Array.from(Array(6).keys()).slice(1);for(const e of eoi_totalElementSelectors){let t=$("#eoi_clarification_date_expanded_"+e);0===t.length&&(t=$("#eoi_clarification_date_expanded_"+e)),t.fadeOut()}for(const e of eoi_totalElementSelectors){let t="#cancel_change_clarification_date_"+e,r=$("#change_clarification_date_"+e),o=$(t);r.fadeIn(),o.fadeIn(),r.on("click",t=>{localStorage.removeItem("dateItem"),localStorage.setItem("dateItem",r.selector);let o=$("#eoi_clarification_date_expanded_"+e);0===o.length&&(o=$("#eoi_clarification_date_expanded_"+e)),$(".eoi_hideFirst:visible").length&&($(".eoi_hideFirst").hide(),$(".change").show()),o.fadeIn(),r.hide(),saveButtonHideDateEoi()});var errorSelectorId="";$("#click-error").on("click",()=>{let t,o=localStorage.getItem("dateItem"),n=o.slice(1),a=$(o);r.selector===a.selector?((a=$("#eoi_clarification_date_expanded_"+e)).fadeIn(),r.hide()):(a.hide(),r.fadeIn()),document.getElementById("agreementID")&&(t=document.getElementById("agreementID").value),"RM1043.8"!=t&&"RM1557.13"!=t&&ccsZaddErrorMessage(document.getElementById(n),"You can not set a date and time that is earlier than the previous milestone in the timeline")})}for(const e of eoi_totalElementSelectors){$("#cancel_change_clarification_date_"+e).on("click",()=>{let t="#eoi_clarification_date_expanded_"+e,r=$(t);if(0===r.length&&(t="#eoi_clarification_date_expanded_"+e,r=$(t)),r.fadeOut(),ccsZremoveErrorMessage(document.getElementById(t.slice(1))),errorSelectorId===t)for(let e of totalElementSelectors){$("#change_clarification_date_"+e).show()}else{$("#change_clarification_date_"+e).show()}saveButtonUnHideDateEoi()})}const saveButtonHideDateEoi=()=>{document.getElementById("hideMeWhileDateChange").disabled=!0},saveButtonUnHideDateEoi=()=>{document.getElementById("hideMeWhileDateChange").disabled=!1};$("#eoi_splterm").length>0&&($(".eoi_form").attr("id","ccs_eoi_splterms_form"),$(".eoi_form").attr("name","ccs_eoi_splterms_form")),document.addEventListener("DOMContentLoaded",()=>{if(null!==document.getElementById("ccs_eoi_splterms_form")){let o=10,n=0,a=0,s=document.querySelectorAll("a.del"),i=document.querySelectorAll("a.clear-fields");for(var e=10;e>1;e--){let t=document.querySelector(".splterm_"+e);""!==document.getElementById("eoi_splterm_"+e).value?(t.classList.remove("ccs-dynaform-hidden"),10===e&&document.getElementById("ccs_eoisplTerm_add").classList.add("ccs-dynaform-hidden")):(t.classList.add("ccs-dynaform-hidden"),o=e,a++)}if(document.getElementById("ccs_eoisplTerm_add").classList.remove("ccs-dynaform-hidden"),0===a&&document.getElementById("ccs_eoisplTerm_add").classList.add("ccs-dynaform-hidden"),document.getElementById("ccs_eoisplTerm_add").addEventListener("click",e=>{$(".govuk-form-group textarea").removeClass("govuk-textarea--error"),checkFieldsEoiTerms(),e.preventDefault(),0==(errorStore=emptyFieldCheckEoiTerms("add_more")).length?(removeErrorFieldsEoiTerms(),document.querySelector(".splterm_"+o).classList.remove("ccs-dynaform-hidden"),o>2&&(n=o-1),11===++o&&document.getElementById("ccs_eoisplTerm_add").classList.add("ccs-dynaform-hidden")):ccsZPresentErrorSummary(errorStore)}),s.forEach(e=>{e.classList.remove("ccs-dynaform-hidden"),e.addEventListener("click",t=>{t.preventDefault();let r=e.href.replace(/^(.+\/)(\d{1,2})$/,"$2"),n=Number(r)-1,a=e.closest("fieldset"),s=a.nextElementSibling;if(console.log(`target: ${r}`),20!=r){let e=1,t=Number(r),o=Number(r),l=[];for(;s;){let r=s.classList;if(void 0!==Object.keys(r).find(e=>"closeCCS"===r[e])&&void 0===Object.keys(r).find(e=>"ccs-dynaform-hidden"===r[e])){let r=o;if(o+=1,l.push(o),1==e){console.log(`First: ${e} - ${t}`);var i=s.querySelector("[name='term']");document.getElementById("eoi_splterm_"+r).value=i.value}else{t+=1,console.log(`Usual: ${e} - ${t}`);i=s.querySelector("[name='term']");document.getElementById("eoi_splterm_"+t).value=i.value}console.log(s.classList),s=s.nextElementSibling}else s=!1;e++}if(l.length>0){console.log(l);let e=l.at(-1);console.log(`removeLogic: ${e}`),document.getElementById("eoi_splterm_"+e).value="",document.getElementById("eoi_splterm_"+e).closest("fieldset").classList.add("ccs-dynaform-hidden")}else a.classList.add("ccs-dynaform-hidden"),document.getElementById("eoi_splterm_"+r).value="",n>1&&document.querySelector(".splterm_"+n+" a.del").classList.remove("ccs-dynaform-hidden"),document.getElementById("ccs_eoisplTerm_add").classList.remove("ccs-dynaform-hidden")}else a.classList.add("ccs-dynaform-hidden"),document.getElementById("eoi_splterm_"+r).value="",n>1&&document.querySelector(".splterm_"+n+" a.del").classList.remove("ccs-dynaform-hidden"),document.getElementById("ccs_eoisplTerm_add").classList.remove("ccs-dynaform-hidden");21!=--o&&document.getElementById("ccs_eoisplTerm_add").classList.remove("ccs-dynaform-hidden")})}),i.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();let r=e.href.replace(/^(.+\/)(\d{1,2})$/,"$2");e.closest("fieldset").classList.add("ccs-dynaform"),document.getElementById("eoi_splterm_"+r).value="",document.getElementById("eoi_splterm_definition_"+r).value="",removeErrorFieldsEoiTerms()})}),document.getElementsByClassName("term_fieldset").length>0){let e=document.getElementsByClassName("term_fieldset"),o=e.length;for(;o--;){let n=o+1,a=e[o].querySelector("#eoi_splterm_"+n);a.addEventListener("focusout",e=>{let r=e.target,o="eoi_splterm_definition_"+n,a=document.getElementById(o);t(r,a)});let s=e[o].querySelector("#eoi_splterm_definition_"+n);null!=s?s.addEventListener("focusout",e=>{let t=e.target,o="eoi_splterm_"+n,a=document.getElementById(o);r(a,t)}):a.addEventListener("focusout",e=>{let r="eoi_splterm_"+n,o=document.getElementById(r);t(o)});var t=function(e){if(""!==e.value){let e=document.getElementById("ccs_eoi_splterms_form").getAttribute("action");e+="&stop_page_navigate=true",$.ajax({type:"POST",url:e,data:$("#ccs_eoi_splterms_form").serialize(),success:function(){}})}},r=function(e,t){if(""!==e.value&&""!==t.value){let e=document.getElementById("ccs_eoi_splterms_form").getAttribute("action");e+="&stop_page_navigate=true",$.ajax({type:"POST",url:e,data:$("#ccs_eoi_splterms_form").serialize(),success:function(){}})}}}}}});const checkFieldsEoiTerms=()=>{for(var e=1;e<=10;e++){let t=$(`#eoi_splterm_${e}`),r=$(`#eoi_splterm_definition_${e}`);""!==t.val()&&($(`#eoi_splterm_${e}-error`).remove(),$(`.splterm_${e} div`).removeClass("govuk-form-group--error"),$(`.splterm_${e} input`).removeClass("govuk-input--error")),""!==r.val()&&($(`#eoi_splterm_definition_${e}-error`).remove(),$(`.splterm_${e} div`).removeClass("govuk-form-group--error"),$(`.splterm_${e} textarea`).removeClass("govuk-input--error"),$(`.splterm_${e} textarea`).removeClass("govuk-textarea--error"))}},removeErrorFieldsEoiTerms=()=>{$(".govuk-error-message").remove(),$(".govuk-form-group--error").removeClass("govuk-form-group--error"),$(".govuk-error-summary").remove(),$(".govuk-input").removeClass("govuk-input--error"),$(".govuk-form-group textarea").removeClass("govuk-textarea--error")},emptyFieldCheckEoiTerms=(e="")=>{let t="",r=[];checkFieldsEoiTerms();let o=!1;for(var n=1;n<11;n++){let a=document.getElementById("eoi_splterm_"+n);document.getElementById("eoi_splterm_definition_"+n);if(-1===a.closest("fieldset").classList.value.indexOf("ccs-dynaform-hidden")){const n=document.getElementById("page-heading").innerHTML;""!==a.value.trim()&&n.includes("Optional"),n.includes("Optional")&&"add_more"!=e||(""===a.value.trim()&&(ccsZaddErrorMessage(a,"You must add special term or condition."),t=[a.id,"You must add special term or condition."],r.push(t)),null!=a.value&&null!=a.value&&a.value.length>1e4&&(ccsZaddErrorMessage(a,"Term and condition title must be 100 characters or fewer"),o=!0))}}return o&&(t=["#","Term and condition title must be 500 characters or fewer"],r.push(t)),r},ccsZvalidateEoiSpecialTerms=e=>{e.preventDefault(),0===(errorStore=emptyFieldCheckEoiTerms()).length?document.forms.ccs_eoi_splterms_form.submit():ccsZPresentErrorSummary(errorStore)};document.addEventListener("DOMContentLoaded",()=>{if(null!==document.getElementById("ccs_eoi_docs_form")){let t=4,r=0,o=document.querySelectorAll("a.del");for(var e=4;e>1;e--){let r=document.getElementById("eoi_file_upload_"+e);if(""!==r.value)r.classList.remove("ccs-dynaform-hidden"),4===e&&document.getElementById("ccs_eoi_file_add").classList.add("ccs-dynaform-hidden");else{document.querySelector("label[for='eoi_file_upload_"+e+"']").classList.add("ccs-dynaform-hidden"),t=e}}document.getElementById("ccs_eoi_file_add").addEventListener("click",e=>{e.preventDefault(),document.getElementById("eoi_file_upload_"+t).classList.remove("ccs-dynaform-hidden"),document.querySelector("label[for='eoi_file_upload_"+t+"']").classList.remove("ccs-dynaform-hidden"),t>2&&(r=t-1,document.querySelector("label[for='eoi_file_upload_"+r+"'] a.del").classList.add("ccs-dynaform-hidden")),5===++t&&document.getElementById("ccs_eoi_file_add").classList.add("ccs-dynaform-hidden")}),o.forEach(e=>{e.addEventListener("click",r=>{r.preventDefault();let o=e.href.replace(/^(.+\/)(\d{1,2})$/,"$2"),n=Number(o)-1;document.getElementById("eoi_file_upload_"+o).value="",document.getElementById("eoi_file_upload_"+o).classList.add("ccs-dynaform-hidden"),document.getElementById("eoi_file_upload_"+o+"-error").parentNode.removeChild(document.getElementById("eoi_file_upload_"+o+"-error")),document.querySelector("label[for='eoi_file_upload_"+o+"']").classList.add("ccs-dynaform-hidden"),n>1&&document.querySelector("label[for='eoi_file_upload_"+n+"'] a.del").classList.remove("ccs-dynaform-hidden"),document.getElementById("ccs_eoi_file_add").classList.remove("ccs-dynaform-hidden"),t--})})}});const ccsZvalidateEoiDocs=e=>{e.preventDefault();let t="",r=[];document.getElementById("eoi_file_upload_1").value.length>0&&!0!==(t=ccsZvalidateWithRegex("eoi_file_upload_1","Document 1 must be a Word or Acrobat file",/^(\w|\W)+\.(docx?|pdf)$/))&&r.push(t);for(var o=2;o<5;o++)document.getElementById("eoi_file_upload_"+o).classList.contains("ccs-dynaform-hidden")||!0!==(t=ccsZvalidateWithRegex("eoi_file_upload_"+o,"Document "+o+" must be a Word or Acrobat file",/^(\w|\W)+\.(docx?|pdf)$/))&&r.push(t);0===r.length?document.forms.ccs_eoi_docs_form.submit():ccsZPresentErrorSummary(r)};$("#ccs_collab_view").hide();let fcaFormURL="/fca/get-collaborator-detail/js-enabled";$("#fca_collaborators").on("change",function(){let e=this.value;if(""!==e){let t={fca_collaborators:e};$.post(fcaFormURL,t,function(e){let{userName:t,firstName:r,lastName:o,tel:n}=e,a=r+" "+o,s=t;$("#show_collab_name").html(a),$("#show_collab_email").html(s),$("#show_collab-phone").html(n),$("#fca_collaborator_append").val(s)}).fail(function(){console.log("failed")}).always(function(){console.log("finsihed")})}else $("#show_collab_name").html(""),$("#show_collab_email").html(""),$("#show_collab-phone").html("")}),document.addEventListener("DOMContentLoaded",()=>{if(null!==document.getElementById("ccs_fca_procurement_lead")){document.getElementById("ccs_fca_procurement_lead").addEventListener("change",function(t){t.preventDefault(),$.ajax({url:"/fca/users-procurement-lead?id="+t.target.value,type:"GET",contentType:"application/json"}).done(function(t){e(t)}).fail(e=>{document.getElementById("lead-email").innerText="",document.getElementById("lead-telephone").innerText=""})});const e=e=>{document.getElementById("lead-email").innerText=e.userName,document.getElementById("lead-telephone").innerText="1",document.getElementById("fca_procurement_lead_input").value=e.userName}}}),$(".add").addClass("ccs-dynaform-hidden");const ccsFcaSelectedServices=e=>{e.preventDefault();let t="",r=[],o=document.getElementById("fca_select_services_form"),n=o.querySelectorAll('input[type="checkbox"]'),a=!0;n.forEach(e=>{e.checked&&(a=!1)}),a?(t=[o.id,"Select at least one service"],r.push(t),ccsZPresentErrorSummary(r)):document.forms.fca_select_services_form.submit()};function initializeErrorStoreForFieldCheck(e){e.preventDefault();return{fieldCheck:"",errorStore:[]}}function getGroup(e){return decodeURI(e.currentTarget.action.match(/(\?|&)group_id\=([^&]*)/)[2])}$(document).ready(function(){document.getElementById("rfi_offline_document");const e=["rfi","eoi","rfp","ca","da"];let t,r,o=!1;for(;!o&&e.length>0;)t=e.splice(0,1),o=!!(r=document.getElementById(`${t}_offline_document`));const n={csv:"text/csv",doc:"application/msword",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",jpg:"image/jpeg",kml:"application/vnd.google-earth.kml+xml",ods:"application/vnd.oasis.opendocument.spreadsheet",odt:"application/vnd.oasis.opendocument.text",pdf:"application/pdf",png:"image/png",ppt:"application/vnd.ms-powerpoint",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",rdf:"application/rdf+xml",rtf:["application/rtf","text/rtf"],txt:"text/plain",xls:"application/vnd.ms-excel",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xml:"text/xml",zip:["application/x-zip-compressed","application/zip","application/octet-stream","multipart/x-zip","application/zip-compressed"]};null!=r&&null!=r&&(r.onchange=function(){const e=this.files,r=e.length;let o=0;for(var a=0;a<r;a++){o+=e[a].size}const s=Object.values(n).flat(1),i=[];for(const t of e){console.log("*********************************filetype"),console.log(t.type);const e=s.filter(e=>e===t.type).length>0;let r=3e8;if(t.size>=r)i.push({type:"size"});else if(e)i.push({type:"none"});else{let e=t.name.split(".").pop();"kml"==(e=e||void 0)?i.push({type:"none"}):i.push({type:"type"})}}const l=i.every(e=>"none"===e.type),c=i.some(e=>"size"===e.type),d=i.some(e=>"type"===e.type);let u=[],m="";l?($(".govuk-form-group--error").removeClass("govuk-form-group--error"),$(".govuk-error-summary").remove(),$(".govuk-input").removeClass("govuk-input--error"),$(".govuk-form-group textarea").removeClass("govuk-textarea--error"),$(`#${t}_offline_document`).removeClass("govuk-input--error"),$("#upload_doc_form").removeClass("govuk-form-group--error"),$(`#${t}_offline_document`).val(),$(`#${t}_upload_error_summary`).text(""),$(".doc_upload_button").show()):c?($(`#${t}_offline_document`).addClass("govuk-input--error"),$("#upload_doc_form").addClass("govuk-form-group--error"),$(`#${t}_offline_document`).val(),$(`#${t}_upload_error_summary`).text("Upload size exceeds 300 MB"),$(".doc_upload_button").hide()):d?($(`#${t}_offline_document`).addClass("govuk-input--error"),$("#upload_doc_form").addClass("govuk-form-group--error"),$(`#${t}_offline_document`).val(),$(`#${t}_upload_error_summary`).text("The selected file must be csv, doc, docx, jpg, kml, ods, odt, pdf, png, ppt, pptx, rdf, rtf, txt, xls, xlsx, xml, zip"),m=["upload_doc_form","The selected file must be csv, doc, docx, jpg, kml, ods, odt, pdf, png, ppt, pptx, rdf, rtf, txt, xls, xlsx, xml, zip"],u.push(m),ccsZPresentErrorSummary(u),$(".doc_upload_button").hide()):($(`#${t}_offline_document`).removeClass("govuk-input--error"),$("#upload_doc_form").removeClass("govuk-form-group--error"),$(`#${t}_offline_document`).val(),$(`#${t}_upload_error_summary`).text(""),$(".doc_upload_button").show()),Number(o)>1e9&&($(`#${t}_offline_document`).addClass("govuk-input--error"),$("#upload_doc_form").addClass("govuk-form-group--error"),$(`#${t}_offline_document`).val(),$(`#${t}_upload_error_summary`).text("Total Files Size cannot exceed 1 GB"),$(".doc_upload_button").hide())})});const ccsZvalidateIR35acknowledgement=e=>{let{fieldCheck:t,errorStore:r}=initializeErrorStoreForFieldCheck(e);!0!==(t=ccsZisOptionChecked("IR35_acknowledgement","Please select an option"))&&r.push(t),0===r.length?document.forms.ccs_ir35_acknowledgement_form.submit():ccsZPresentErrorSummary(r)},ccsZvalidateCompetitionRoute=e=>{let{fieldCheck:t,errorStore:r}=initializeErrorStoreForFieldCheck(e);!0!==(t=ccsZisOptionChecked("ccs_route_to_market","Please select an option"))&&r.push(t),0===r.length?document.forms.ccs_route_to_market_form.submit():ccsZPresentErrorSummary(r)},ccsZvalidateBuildType=e=>{let{fieldCheck:t,errorStore:r}=initializeErrorStoreForFieldCheck(e);!0!==(t=ccsZisOptionChecked("ccs_fc_type","Please select an option"))&&r.push(t),0===r.length?document.forms.ccs_rfp_type_form.submit():ccsZPresentErrorSummary(r)},ccsZvalidateProjectPhase=e=>{let{fieldCheck:t,errorStore:r}=initializeErrorStoreForFieldCheck(e);!0!==(t=ccsZisOptionChecked("ccs_rfp_project_phase","Please select an option"))&&r.push(t),0===r.length?document.forms.ccs_rfp_project_phase_form.submit():ccsZPresentErrorSummary(r)},ccsZvalidateRfiSecurity=e=>{let{fieldCheck:t,errorStore:r}=initializeErrorStoreForFieldCheck(e);!0!==(t=ccsZisOptionCheckedForVetting("ccs_vetting_type","You must provide a security clearance level before proceeding"))&&r.push(t),0===r.length?document.forms.ccs_rfi_vetting_form.submit():ccsZPresentErrorSummary(r)},ccsZvalidateEoiSecurity=e=>{let{fieldCheck:t,errorStore:r}=initializeErrorStoreForFieldCheck(e);const o="Group 6"===getGroup(e)?"Select whether this is a new or replacement product or service, or ‘Not sure’":"Select a security clearance level";!0!==(t=ccsZisOptionChecked("ccs_vetting_type",o))&&r.push(t),void 0!==$("#rfp_security_confirmation")&&void 0!==$("#rfp_security_confirmation").val()&&$("input[name='ccs_vetting_type']").prop("checked")&&(0===$("#rfp_security_confirmation").val().length?!0!==(t=ccsZvalidateTextArea("rfp_security_confirmation","Provide the name of the incumbent supplier"))&&r.push(t):$("#rfp_security_confirmation").val().length>500&&!0!==(t=ccsZvalidateTextArea("rfp_security_confirmation","supplier name must be less than 500 characters"))&&r.push(t)),0===r.length?document.forms.ccs_eoi_vetting_form.submit():ccsZPresentErrorSummary(r)},ccsZvalidateRfpSecurity=e=>{let{fieldCheck:t,errorStore:r}=initializeErrorStoreForFieldCheck(e);!0!==(t=ccsZisOptionChecked("ccs_rfp_vetting_type","You must provide a security clearance level before proceeding"))&&r.push(t),0===r.length?document.forms.ccs_rfp_vetting_form.submit():ccsZPresentErrorSummary(r)},ccsZvalidateCaaAssFCSecurity=e=>{let{fieldCheck:t,errorStore:r}=initializeErrorStoreForFieldCheck(e);!0!==(t=ccsZisOptionChecked("ccs_vetting_type","Enter your team scale"))&&r.push(t),0===r.length?document.forms.ccs_ca_type_form.submit():ccsZPresentErrorSummary(r)},ccsZvalidateRfiType=e=>{let{fieldCheck:t,errorStore:r}=initializeErrorStoreForFieldCheck(e);!0!==(t=ccsZisOptionChecked("ccs_rfi_type","Select how you will build your RfI"))&&r.push(t),0===r.length?document.forms.ccs_rfi_type_form.submit():ccsZPresentErrorSummary(r)},ccsZvalidateEoiType=e=>{let{fieldCheck:t,errorStore:r}=initializeErrorStoreForFieldCheck(e);!0!==(t=ccsZisOptionChecked("ccs_eoi_type","Select an option"))&&r.push(t),0===r.length?document.forms.ccs_eoi_type_form.submit():ccsZPresentErrorSummary(r)},ccsZvalidateEoiServiceType=e=>{let{fieldCheck:t,errorStore:r}=initializeErrorStoreForFieldCheck(e);!0!==(t=ccsZisOptionChecked("eoi_service_type","Please select an option"))&&r.push(t),0===r.length?document.forms.ccs_eoi_new_form.submit():ccsZPresentErrorSummary(r)},ccsZvalidatePreMarketRoute=e=>{let{fieldCheck:t,errorStore:r}=initializeErrorStoreForFieldCheck(e);!0!==(t=ccsZisOptionChecked("choose_pre_engage","Please select an option"))&&r.push(t),0===r.length?document.forms.ccs_choose_pre_engage.submit():ccsZPresentErrorSummary(r)},ccsZvalidateWithRegex=(e,t,r,o=!0)=>{const n=document.getElementById(e);if(null!=n&&null!=n)return null!=n.value&&null!=n.value&&n.value.trim().match(r)&&o?(ccsZremoveErrorMessage(n),!0):(ccsZremoveErrorMessage(n),ccsZaddErrorMessage(n,t),[n.id,t])},ccsZvalidateTextArea=(e,t,r=!0)=>{const o=document.getElementById("page-heading").innerHTML;if(!o.includes("(Optional)")||o.includes("(optional)")){const o=document.getElementById(e);if(null!=o&&null!=o&&o.value&&o.value.trim().length>0&&r)return ccsZremoveErrorMessage(o),!0;if(null!=o&&null!=o)return ccsZaddErrorMessage(o,t),[o.id,t];console.log("FINAL ERROR")}else console.log("VADA FINAL ERROR")},ccsZisOptionCheckedForVetting=(e,t)=>{const r=document.getElementById(e);let o=!1,n=".govuk-checkboxes";if(o=!!$(".ccs_vetting").is(":checked"),null!=r&&null!=r)return"radio"===r.type&&(n=".govuk-radios"),o?ccsZremoveErrorMessage(r):ccsZaddErrorMessage(r,t),!!o||[r.id,t]},ccsZisOptionChecked=(e,t)=>{const r=document.getElementById(e);let o=!1,n=".govuk-checkboxes";if(null!=r&&null!=r){return"radio"===r.type&&(n=".govuk-radios"),r.closest(n).querySelectorAll("input").forEach(e=>{e.checked&&(o=!0)}),o?ccsZremoveErrorMessage(r):ccsZaddErrorMessage(r,t),!!o||[r.id,t]}},ccsZvalidateThisDate=(e,t,r,o)=>{const n=document.getElementById(e);let a=parseInt(document.getElementById(n.id+"-day").value.trim()),s=parseInt(document.getElementById(n.id+"-month").value.trim()),i=document.getElementById(n.id+"-year").value.trim(),l=document.getElementById(e+"_time"),c="",d="",u="",m=!1;a<10&&(d="0"),s<10&&(u="0"),c=null!==l?l.value:"00:01";let g=new Date(i+"-"+u+s+"-"+d+a+"T"+c+":00");if((m=!isNaN(g.getTime()))&&0===r)ccsZremoveErrorMessage(n);else if(m){let e=new Date,a=e.getMonth()+1,s=e.getDate(),i=e.getHours(),l=e.getMinutes();a<10&&(a="0"+a),s<10&&(s="0"+s),i<10&&(i="0"+i),l<10&&(l="0"+l);let c=new Date(e.getFullYear()+"-"+a+"-"+s+"T"+i+":"+l+":00"),d=0;if(r>0&&o>0){let e=864e5*o;d=c.getTime()+e}else d=c.getTime();if(!(r<0&&g.getTime()<d||r>0&&g.getTime()>d))return ccsZaddErrorMessage(n,t),[n.id,t];ccsZremoveErrorMessage(n)}else ccsZaddErrorMessage(n,t);return!!m||[n.id,t]},ccsZremoveErrorMessage=e=>{if(null!=e&&null!==document.getElementById(e.id+"-error")){if(e.closest(".govuk-form-group").classList.remove("govuk-form-group--error"),"TEXTAREA"===e.tagName&&e.closest(".govuk-textarea").classList.remove("govuk-textarea--error"),"INPUT"===e.tagName)e.classList.remove("govuk-input--error");else{e.querySelectorAll("input").forEach(e=>{e.classList.remove("govuk-input--error")})}document.getElementById(e.id+"-error").remove()}},ccsZremoveErrorMessageRFIDate=()=>{$(".govuk-error-message").remove(),$(".govuk-form-group--error").removeClass("govuk-form-group--error"),$(".govuk-error-summary").remove(),$(".govuk-input").removeClass("govuk-input--error"),$(".govuk-form-group textarea").removeClass("govuk-textarea--error")},ccsZaddErrorMessage=(e,t)=>{if(null!=e&&null!=e&&null===document.getElementById(e.id+"-error")){if(e.closest(".govuk-form-group").classList.add("govuk-form-group--error"),"INPUT"!==e.tagName||"radio"===e.type&&"checkbox"===e.type){e.querySelectorAll("input").forEach(e=>{e.classList.add("govuk-input--error")})}else e.classList.add("govuk-input--error");if("TEXTAREA"!==e.tagName||"radio"===e.type&&"checkbox"===e.type){e.querySelectorAll("textarea").forEach(e=>{e.classList.add("govuk-textarea--error")})}else e.classList.add("govuk-textarea--error");errorEl=ccsZcreateCcsErrorMsg(e.id,t),"radio"===e.type?e.closest(".govuk-radios").insertBefore(errorEl,e.parentNode):"checkbox"===e.type?e.closest(".govuk-checkboxes").insertBefore(errorEl,e.parentNode):e.parentNode.classList.contains("govuk-input__wrapper")?e.closest(".govuk-form-group").insertBefore(errorEl,e.parentNode):e.parentNode.insertBefore(errorEl,e)}},ccsZcreateCcsErrorMsg=(e,t)=>{let r=document.createElement("span");r.id=e+"-error",r.className="govuk-error-message",r.innerHTML='<span class="govuk-visually-hidden">Error:</span>';let o=document.createTextNode(" "+t);return r.appendChild(o),r},ccsZPresentErrorSummary=e=>{const t=document.querySelector(".govuk-error-summary");if(null!==t&&t.parentNode.removeChild(t),e){let t=document.createElement("div"),r=document.createElement("div"),o=document.createElement("ul");t.className="govuk-error-summary",r.className="govuk-error-summary__body",o.classList.add("govuk-list","govuk-error-summary__list"),t.innerHTML='<h2 class="govuk-error-summary__title" id="error-summary-title">There is a problem </h2>',t.setAttribute("aria-labelledby","error-summary-title"),t.setAttribute("role","alert"),t.setAttribute("tabindex","-1"),t.setAttribute("data-module","govuk-error-summary"),e.forEach(e=>{if(null!=e&&""!=e&&1!=e){let t=document.createElement("li"),r=document.createElement("a"),n=document.createTextNode(e[1]);r.setAttribute("href","#"+e[0]),r.appendChild(n),t.appendChild(r),o.appendChild(t)}}),r.appendChild(o),t.appendChild(r),document.querySelector(".govuk-heading-xl").parentNode.insertBefore(t,document.querySelector(".govuk-heading-xl")),window.scrollTo(0,0)}},ccsZvalidateWeihtageValue=(e,t,r,o,n=!0)=>{const a=document.getElementById(e);if(null!=a&&null!=a)return null!=a.value&&null!=a.value&&100==r&&n?(ccsZremoveErrorMessage(a),!0):(ccsZremoveErrorMessage(a),ccsZaddErrorMessage(a,t),[a.id,t])},ccsZvalidateDateWithRegex=(e,t,r,o,n=!0)=>{const a=document.getElementById(e),s=document.getElementById(t);if(null!=a&&null!=a)return null!=a.value&&null!=a.value&&a.value.trim().match(o)&&n?(ccsZremoveErrorMessage(a),!0):(ccsZremoveErrorMessage(a),ccsZaddDateErrorMessage(a,s,r),[a.id,r])},ccsZaddDateErrorMessage=(e,t,r)=>{if(null!=e&&null!=e&&null===document.getElementById(e.id+"-error")){if(e.closest(".govuk-form-group").classList.add("govuk-form-group--error"),"INPUT"!==e.tagName||"radio"===e.type&&"checkbox"===e.type){e.querySelectorAll("input").forEach(e=>{e.classList.add("govuk-input--error")})}else e.classList.add("govuk-input--error");if("TEXTAREA"!==e.tagName||"radio"===e.type&&"checkbox"===e.type){e.querySelectorAll("textarea").forEach(e=>{e.classList.add("govuk-textarea--error")})}else e.classList.add("govuk-textarea--error");errorEl=ccsZcreateCcsErrorMsg(t.id,r),"radio"===e.type?e.closest(".govuk-radios").insertBefore(errorEl,e.parentNode):"checkbox"===e.type?e.closest(".govuk-checkboxes").insertBefore(errorEl,e.parentNode):e.parentNode.classList.contains("govuk-input__wrapper")?e.closest(".govuk-form-group").insertBefore(errorEl,e.parentNode):t.parentNode.insertBefore(errorEl,t)}};$("input[type=radio]").click(function(){let e=this;$("input:radio").each(function(){"new"==e.value?($(this).is(":checked")&&"new"!=this.value?$("input[type='radio']").prop("checked",!1):$("input[type='radio']").prop("checked",!0),e.checked=!0):$(this).is(":checked")&&"new"==this.value&&($("input[type='radio']").prop("checked",!1),e.checked=!0)}),"new"==e.value&&1==e.checked?$("#g_cloud_new_search_name").removeClass("govuk-!-display-none"):$("#g_cloud_new_search_name").addClass("govuk-!-display-none")}),document.addEventListener("DOMContentLoaded",()=>{if(null!==document.getElementById("g_cloud_new_search_name")){document.getElementById("g_cloud_new_search_name").checked?$("#g_cloud_new_search_name").removeClass("govuk-!-display-none"):$("#g_cloud_new_search_name").addClass("govuk-!-display-none")}});const weight_staff=["weight_staff_1SoftwareDeveloper","weight_staff_2DevOps","weight_staff_3SecurityArchitect","weight_staff_4InfrastructureEngineer","weight_staff_5NetworkArchitect","weight_staff_6TechnicalArchitect","weight_staff_7DataArchitect","weight_staff_1PerformanceAnalyst","weight_staff_4DataScientist","weight_staff_2DataEngineer","weight_staff_3DataAnalyst","weight_staff_1Delivery","weight_staff_2BusinessAnalysis","weight_staff_7ApplicationsOperations","weight_staff_2BusinessRelationshipManager","weight_staff_3ITServiceManager","weight_staff_1ChangeandReleaseManager","weight_staff_5EngineerInfrastructure","weight_staff_8ServiceTransitionManager","weight_staff_4TechnicalWriter","weight_staff_3ProductManager","weight_staff_5ContentDesigner","weight_staff_9ServiceDeskManager","weight_staff_2Delivery","weight_staff_1BusinessAnalysis","weight_staff_10ProblemManager","weight_staff_11IncidentManager","weight_staff_1GraphicInteractionDesigner","weight_staff_2ServiceDesigner","weight_staff_3UserResearcher","weight_staff_4EngineerEndUser","weight_staff_3ProductManager","weight_staff_6CommandandControl","weight_staff_1UserResearcher","weight_staff_3TechnicalWriter","weight_staff_4ServiceDesigner","weight_staff_5GraphicInteractionDesigner","weight_staff_1TestEngineer","weight_staff_2TestManager","weight_staff_3QATAnalyst","weight_staff_1CommandandControl","weight_staff_2ApplicationsOperations","weight_staff_3IncidentManager","weight_staff_4EngineerInfrastructure","weight_staff_5ServiceDeskManager","weight_staff_6BusinessRelationshipManager","weight_staff_7ProblemManager","weight_staff_8ITServiceManager","weight_staff_9EngineerEndUser","weight_staff_10ServiceTransitionManager","weight_staff_11ChangeandReleaseManager","weight_staff_1TechnicalArchitect","weight_staff_2DataArchitect","weight_staff_3NetworkArchitect","weight_staff_4SoftwareDeveloper","weight_staff_5DevOps","weight_staff_6SecurityArchitect","weight_staff_7InfrastructureEngineer","weight_staff_1DataScientist","weight_staff_2PerformanceAnalyst","weight_staff_2PerformanceAnalyst","weight_staff_3DataEngineer","weight_staff_4DataAnalyst"],weight_vetting=["weight_vetting_1SoftwareDeveloper","weight_vetting_2DevOps","weight_vetting_3SecurityArchitect","weight_vetting_4InfrastructureEngineer","weight_vetting_5NetworkArchitect","weight_vetting_6TechnicalArchitect","weight_vetting_7DataArchitect","weight_vetting_1TestEngineer","weight_vetting_2TestManager","weight_vetting_3QATAnalyst","weight_vetting_1PerformanceAnalyst","weight_vetting_2DataEngineer","weight_vetting_3DataAnalyst","weight_vetting_4DataScientist","weight_vetting_1ChangeandReleaseManager","weight_vetting_2BusinessRelationshipManager","weight_vetting_3ITServiceManager","weight_vetting_4EngineerEndUser","weight_vetting_5EngineerInfrastructure","weight_vetting_6CommandandControl","weight_vetting_7ApplicationsOperations","weight_vetting_8ServiceTransitionManager","weight_vetting_9ServiceDeskManager","weight_vetting_10ProblemManager","weight_vetting_11IncidentManager"],ccsTabMenuNaviation=()=>{var e=document.querySelectorAll(".ons-list__item"),t=document.getElementById("vertical_tab_nav");if(null!=e&&null!=e&&e.length>0){e[0].getElementsByTagName("a")[0].classList.add("selected");const o=t.getElementsByTagName("article");for(var r=0;r<o.length;r++)o[r].style.display=0===r?"block":"none";Array.from(e).forEach(e=>{e.addEventListener("click",function(e){let t=e.currentTarget,r=$(this).index();return $("#vertical_tab_nav > div > aside > nav > ol > li > a").removeClass("selected"),t.getElementsByTagName("a")[0].classList.add("selected"),$("#vertical_tab_nav > div > article").css("display","none"),$("#vertical_tab_nav > div > article").eq(r).fadeIn(),$(this).blur(),!1})})}};let staffs=[],vettings=[],staffIDs=[],vettingIDs=[];$("#redirect-button-vetting").on("click",function(){staffIDs.length=0}),document.addEventListener("DOMContentLoaded",()=>{if(null!==document.getElementById("ccs_ca_menu_tabs_form_later")){let e,t,r="",o="",n=!1;const a=document.getElementById("total-staff");document.getElementById("total-vetting");e=(t=document.getElementById("ccs_ca_menu_tabs_form_later")).getElementsByTagName("input");let s=[];for(let t=0;t<e.length;++t)"hidden"!=e[t].type&&(e[t].addEventListener("focus",function(e){r=e.currentTarget.id,o=e.currentTarget.value},!0),e[t].addEventListener("change",function(e){e.preventDefault();let t=0;if(weight_staff.includes(e.currentTarget.id))if(n=!1,0!==staffIDs.length&&(s=Object.keys(staffIDs[0]),n=s.find(t=>{if(t===e.currentTarget.id)return t})),void 0===n&&(n=!1),0===staffIDs.length||n!==e.currentTarget.id&&!n){const r=e.currentTarget.id;staffIDs.push({[r]:e.currentTarget.value}),a.innerHTML=staffIDs.reduce((e,r,o)=>{1===staffIDs.length&&(t=o+1),console.log("the indx ",Object.values(staffIDs.slice(-1)[0])[0]);let n=Object.values(staffIDs.slice(-1)[0])[0];return parseInt(e)+parseInt(n)},0)}else{const t=e.currentTarget.id;staffIDs.splice(-1,1,{[t]:e.currentTarget.value}),a.innerHTML=staffIDs.reduce((e,t,r)=>{let n=Object.values(staffIDs.slice(-1)[0])[0];return r>1&&(o=0),parseInt(e)-Number(o)+parseInt(n)},0)}}));if(null!==document.getElementById("ccs_da_menu_tabs_form_later")){let e,t,r="",o="",n=!1;const a=document.getElementById("total-staff");document.getElementById("total-vetting");e=(t=document.getElementById("ccs_da_menu_tabs_form_later")).getElementsByTagName("input");let s=[];for(let t=0;t<e.length;++t)"hidden"!=e[t].type&&(e[t].addEventListener("focus",function(e){r=e.currentTarget.id,o=e.currentTarget.value},!0),e[t].addEventListener("change",function(e){e.preventDefault();let t=0;if(weight_staff.includes(e.currentTarget.id))if(n=!1,0!==staffIDs.length&&(s=Object.keys(staffIDs[0]),n=s.find(t=>{if(t===e.currentTarget.id)return t})),void 0===n&&(n=!1),0===staffIDs.length||n!==e.currentTarget.id&&!n){const r=e.currentTarget.id;staffIDs.push({[r]:e.currentTarget.value}),a.innerHTML=staffIDs.reduce((e,r,o)=>{1===staffIDs.length&&(t=o+1),console.log("the indx ",Object.values(staffIDs.slice(-1)[0])[0]);let n=Object.values(staffIDs.slice(-1)[0])[0];return parseInt(e)+parseInt(n)},0)}else{const t=e.currentTarget.id;staffIDs.splice(-1,1,{[t]:e.currentTarget.value}),a.innerHTML=staffIDs.reduce((e,t,r)=>{let n=Object.values(staffIDs.slice(-1)[0])[0];return r>1&&(o=0),parseInt(e)-Number(o)+parseInt(n)},0)}}))}}}),$("#ccs_collab_view").hide();let rfiFormURL="/rfi/get-collaborator-detail/js-enabled";$("#potential-collaborator").hide(),$("#rfi_collaborators").on("change",function(){let e=this.value;if(""!==e){let t={rfi_collaborators:e};$.post(rfiFormURL,t,function(e){let{userName:t,firstName:r,lastName:o,tel:n}=e,a=r+" "+o,s=t;$("#potential-collaborator").show(),$("#show_collab_name").html(a),$("#show_collab_email").html(s),$("#show_collab-phone").html(n),$("#rfi_collaborator_append").val(s),$("#ccs_collab_add").prop("disabled",!1)}).fail(function(){console.log("failed")}).always(function(){console.log("finsihed")})}else $("#show_collab_name").html(""),$("#show_collab_email").html(""),$("#show_collab-phone").html(""),$("#ccs_collab_add").prop("disabled",!0)}),$("#rfi_keyterm").length>0&&($(".rfi_form").attr("id","ccs_rfi_acronyms_form"),$(".rfi_form").attr("name","ccs_rfi_acronyms_form"));const buttonTermsHidden=()=>{for(var e=document.querySelectorAll(".term_acronym_fieldset"),t=0,r=0,o=e.length;r<o;r++){e[r].getAttribute("class").split(" ").filter(e=>"ccs-dynaform-hidden"===e).length>0&&(t=+t+1)}0==t&&null!==document.getElementById("ccs_rfiTerm_add")&&document.getElementById("ccs_rfiTerm_add").classList.add("ccs-dynaform-hidden")};let rfi_term_def=document.querySelectorAll(".rfitermdef");rfi_term_def.forEach(e=>{e.addEventListener("keyup",e=>{checkFields()})});let rfitermtext=document.querySelectorAll(".rfitermtext");rfitermtext.forEach(e=>{e.addEventListener("keyup",e=>{checkFields()})});const urlParams=new URLSearchParams(window.location.search),agrement_id=urlParams.get("agreement_id");let with_value_count,total_count,total_count_index,prev_input,deleteButtons;document.addEventListener("DOMContentLoaded",()=>{if(null!==document.getElementById("ccs_rfi_acronyms_form")){let r,o,n,a,s;"RM1557.13"==agrement_id||"RM6187"==agrement_id?(r=20,o=20,n=21,a=0,s=document.querySelectorAll("a.del")):(r=10,o=10,n=11,a=0,s=document.querySelectorAll("a.del"));let i=document.querySelectorAll("a.clear-fields");document.getElementById("rfi_term_definition_1").addEventListener("input",ccsZCountRfiAcronyms);for(var e=o;e>=1;e--){let t=document.querySelector(".acronym_"+e),n=document.getElementById("rfi_term_"+e);n.addEventListener("input",ccsZCountRfiTerms),acronym_box=document.getElementById("rfi_term_definition_"+e),acronym_box.addEventListener("input",ccsZCountRfiAcronyms),1===e?t.classList.remove("ccs-dynaform-hidden"):""!==n.value?(t.classList.remove("ccs-dynaform-hidden"),e===o&&document.getElementById("ccs_rfiTerm_add").classList.add("ccs-dynaform-hidden")):(t.classList.add("ccs-dynaform-hidden"),r=e)}if(document.getElementById("ccs_rfiTerm_add").classList.remove("ccs-dynaform-hidden"),0==$("fieldset.ccs-dynaform-hidden").length&&20==r&&"RM1557.13"==urlParams.get("agreement_id")&&"Criterion 1"==urlParams.get("id")&&"Group 2"==urlParams.get("group_id")&&r++,document.getElementById("ccs_rfiTerm_add").addEventListener("click",e=>{$(".govuk-form-group textarea").removeClass("govuk-textarea--error"),checkFields(),e.preventDefault(),0==(errorStore=emptyFieldCheck("add_more")).length?(removeErrorFields(),document.querySelector(".acronym_"+r).classList.remove("ccs-dynaform-hidden"),r>2&&(a=r-1),++r===n&&document.getElementById("ccs_rfiTerm_add").classList.add("ccs-dynaform-hidden")):ccsZPresentErrorSummary(errorStore)}),s.forEach(e=>{e.classList.remove("ccs-dynaform-hidden"),e.addEventListener("click",t=>{t.preventDefault();let a=e.href.replace(/^(.+\/)(\d{1,2})$/,"$2");Number(a),e.closest("fieldset");for(var s=1;s<=o;s++);for(var i=a;i<n;i++){var l=Number(i)+1;let e=document.getElementsByClassName("term_acronym_fieldset acronym_"+l);if(!(e.length>0)){a=i;break}if(e[0].classList.contains("ccs-dynaform-hidden")){a=i;break}document.getElementById("rfi_term_"+i).value=document.getElementById("rfi_term_"+l).value,document.getElementById("rfi_term_definition_"+i).value=document.getElementById("rfi_term_definition_"+l).value}document.getElementsByClassName("term_acronym_fieldset acronym_"+a)[0].classList.add("ccs-dynaform-hidden"),document.getElementById("rfi_term_"+a).value="",document.getElementById("rfi_term_definition_"+a).value="",document.getElementById("ccs_rfiTerm_add").classList.remove("ccs-dynaform-hidden"),r--})}),i.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();let r=e.href.replace(/^(.+\/)(\d{1,2})$/,"$2");e.closest("fieldset").classList.add("ccs-dynaform"),document.getElementById("rfi_term_"+r).value="",document.getElementById("rfi_term_definition_"+r).value="",removeErrorFields()})}),document.getElementsByClassName("term_acronym_fieldset").length>0){let e=document.getElementsByClassName("term_acronym_fieldset"),r=e.length;for(;r--;){let o=r+1;e[r].querySelector("#rfi_term_"+o).addEventListener("focusout",e=>{let r=e.target,n="rfi_term_definition_"+o,a=document.getElementById(n);t(r,a)}),e[r].querySelector("#rfi_term_definition_"+o).addEventListener("focusout",e=>{let r=e.target,n="rfi_term_"+o,a=document.getElementById(n);t(a,r)});var t=function(e,t){if(""!==e.value&&""!==t.value){let e=document.getElementById("ccs_rfi_acronyms_form").getAttribute("action");e+="&stop_page_navigate=true",$.ajax({type:"POST",url:e,data:$("#ccs_rfi_acronyms_form").serialize(),success:function(){}})}}}}}buttonTermsHidden()}),"RM1557.13"==agrement_id||"RM6187"==agrement_id?(with_value_count=20,total_count=20,total_count_index=21,prev_input=0,deleteButtons=document.querySelectorAll("a.del")):(with_value_count=10,total_count=10,total_count_index=11,prev_input=0,deleteButtons=document.querySelectorAll("a.del"));const checkFields=()=>{const e=total_count;for(var t=1;t<=e;t++){let e=$(`#rfi_term_${t}`),r=$(`#rfi_term_definition_${t}`);""!==e.val()&&($(`#rfi_term_${t}-error`).remove(),$(`.acronym_${t} div`).removeClass("govuk-form-group--error"),$(`.acronym_${t} input`).removeClass("govuk-input--error")),""!==r.val()&&($(`#rfi_term_definition_${t}-error`).remove(),$(`.acronym_${t} div`).removeClass("govuk-form-group--error"),$(`.acronym_${t} textarea`).removeClass("govuk-input--error"),$(`.acronym_${t} textarea`).removeClass("govuk-textarea--error"))}},removeErrorFields=()=>{$(".govuk-error-message").remove(),$(".govuk-form-group--error").removeClass("govuk-form-group--error"),$(".govuk-error-summary").remove(),$(".govuk-input").removeClass("govuk-input--error"),$(".govuk-form-group textarea").removeClass("govuk-textarea--error")};$(".rfi_term_definition").keyup(function(e){var t=$(this).val().length;$(this).val($(this).val().substring(0,maxchars));t=$(this).val().length;remain=maxchars-parseInt(t),$(this).text(remain)}),$(".rfi_term_definition").keypress(function(e){var t=$(this).val().length,r=e.which;if(t>=1e4&&8!=r&&(r<48||r>57))return!1});const emptyFieldCheck=(e="")=>{let t="",r=[];for(var o=1;o<total_count_index;o++){let n=document.getElementById("rfi_term_"+o),a=document.getElementById("rfi_term_definition_"+o);-1===n.closest("fieldset").classList.value.indexOf("ccs-dynaform-hidden")&&(checkFields(),""==n.value.trim()&&""==a.value.trim()&&"add_more"==e&&"RM1557.13"!=agrement_id&&(ccsZaddErrorMessage(n,"Enter a term or acronym"),ccsZaddErrorMessage(a,"Enter a definition for the term or acronym"),t=[n.id,"Enter a term or acronym"],r.push(t),t=[a.id,"Enter a definition for the term or acronym"],r.push(t)),""==n.value.trim()&&""==a.value.trim()&&"add_more"==e&&"RM1557.13"==agrement_id&&(ccsZaddErrorMessage(n,"Enter a term or acronym"),ccsZaddErrorMessage(a,"Enter a definition for the term or acronym"),t=[n.id,"Enter a term or acronym"],r.push(t),t=[a.id,"Enter a definition for the term or acronym"],r.push(t)),""!=n.value.trim()&&""==a.value.trim()&&"RM1557.13"==agrement_id&&(ccsZaddErrorMessage(a,"Enter a definition for the term or acronym"),t=[a.id,"Enter a definition for the term or acronym"],r.push(t)),""==n.value.trim()&&""!=a.value.trim()&&"RM1557.13"==agrement_id&&(ccsZaddErrorMessage(n,"Enter a term or acronym"),t=[n.id,"Enter a term or acronym"],r.push(t)),""!=n.value.trim()&&""==a.value.trim()&&"RM1557.13"!=agrement_id&&(ccsZaddErrorMessage(a,"Enter a definition for the term or acronym"),t=[a.id,"Enter a definition for the term or acronym"],r.push(t)),""==n.value.trim()&&""!=a.value.trim()&&"RM1557.13"!=agrement_id&&(ccsZaddErrorMessage(n,"Enter a term or acronym"),t=[n.id,"Enter a term or acronym"],r.push(t)))}return r},ccsZCountRfiTerms=e=>{e.preventDefault();const t=e.srcElement.id,r=document.getElementById(t),o=t.split("rfi_term_");for(var n=1;n<=total_count;n++);let a=document.getElementById("rfi_label_term_"+o[1]),s=500-r.value.length;a.innerText="You have "+s+" characters remaining"},ccsZCountRfiAcronyms=e=>{e.preventDefault();const t=e.srcElement.id,r=document.getElementById(t),o=t.split("rfi_term_definition_");for(var n=1;n<=total_count;n++);let a=document.getElementById("rfi_label_acronym_"+o[1]),s=r.getAttribute("maxlength")-r.value.length;a.innerText="You have "+s+" characters remaining"},ccsZvalidateRfiAcronyms=e=>{e.preventDefault(),0===(errorStore=emptyFieldCheck()).length?document.forms.ccs_rfi_acronyms_form.submit():ccsZPresentErrorSummary(errorStore)},ccsZFindAddress=e=>{e.preventDefault();let t="";if(!0!==(t=ccsZvalidateWithRegex("rfi_proj_address-postcode","Enter a valid postcode",/A([Gg][Ii][Rr] 0[Aa]{2})|((([A-Za-z][0-9]{1,2})|(([A-Za-z][A-Ha-hJ-Yj-y][0-9]{1,2})|(([A-Za-z][0-9][A-Za-z])|([A-Za-z][A-Ha-hJ-Yj-y][0-9][A-Za-z]?))))\s?[0-9][A-Za-z]{2})$/)))ccsZPresentErrorSummary([["rfi_proj_address-postcode","Enter a valid postcode"]]);else{ccsZremoveErrorMessage(document.getElementById("rfi_proj_address-postcode"));const e=document.querySelector(".govuk-error-summary");null!==e&&e.parentNode.removeChild(e);let t=document.getElementById("rfi_proj_address-postcode").value.trim();fetch(`https://api.getAddress.io/find/${t}?api-key=`).then(e=>{if(!e.ok){let t="Unknown error";throw 500===e.status?t="Internal server error":429===e.status?t="API request limit exeeded":404===e.status?t="No address found":400===e.status?t="Invalid postcode":401===e.status?t="API key is not valid":403===e.status&&(t="You do not have permission to access to the resource"),new Error(`HTTP request error: ${e.status} - ${t}`)}return e.json()}).then(e=>{let r=document.getElementById("rfi_proj_address-address");document.getElementById("display_postcode").innerText=t,document.getElementById("ccs_postcode_holder").classList.remove("ccs-dynaform-hidden"),document.getElementById("rfi_proj_address-postcode").classList.add("ccs-dynaform-hidden"),document.getElementById("rfi_find_address_btn").classList.add("ccs-dynaform-hidden"),r.options.length=0;var o=document.createElement("option");o.value="",o.innerHTML=`${e.addresses.length} addresses found`,r.appendChild(o),e.addresses.forEach(e=>{var t=document.createElement("option");t.value=e,t.innerHTML=e,r.appendChild(t)}),r.parentNode.classList.remove("ccs-dynaform-hidden")}).catch(e=>{console.error("There was a problem with address lookup:",e)})}},ccsZFoundAddress=e=>{let t=document.getElementById("rfi_save_address_btn");t.disabled=!1,t.setAttribute("aria-disabled",!1),t.classList.remove("govuk-button--disabled")},ccsZInitAddressFinder=e=>{document.getElementById(e).parentNode.classList.add("ccs-dynaform-hidden")},ccsZResetAddress=e=>{e.preventDefault(),document.getElementById("ccs_postcode_holder").classList.add("ccs-dynaform-hidden"),document.getElementById("rfi_proj_address-postcode").classList.remove("ccs-dynaform-hidden"),document.getElementById("rfi_find_address_btn").classList.remove("ccs-dynaform-hidden"),document.getElementById("rfi_proj_address-address").parentNode.classList.add("ccs-dynaform-hidden"),document.getElementById("rfi_proj_address-postcode").value="",document.getElementById("rfi_proj_address-postcode").focus();let t=document.getElementById("rfi_save_address_btn");t.disabled=!0,t.setAttribute("aria-disabled",!0),t.classList.add("govuk-button--disabled")};document.addEventListener("DOMContentLoaded",()=>{let e=[1,2,3,4,5,6,7,8,9,10,11,12,13];for(let o of e){let e=$(`#clarification_date-day_${o}`),n=$(`#clarification_date-month_${o}`),a=$(`#clarification_date-year_${o}`),s=$(`#clarification_date-hour_${o}`),i=$(`#clarification_date-minute_${o}`);$(`#ccs_rfi_response_date_form_${o}`);function t(e){let t="";return null!==document.getElementById(`rfi_clarification_date_expanded_${e}`)?t=`rfi_clarification_date_expanded_${e}`:null!==document.getElementById(`rfp_clarification_date_expanded_${e}`)?t=`rfp_clarification_date_expanded_${e}`:null!==document.getElementById(`eoi_clarification_date_expanded_${e}`)&&(t=`eoi_clarification_date_expanded_${e}`),t}function r(e,t,r){t-=1;var o=new Date(e,t,r);return o.getFullYear()==e&&o.getMonth()==t&&o.getDate()==r}e.on("blur",()=>{let r=e;if(null!=r&&""!=r.val()){let e=t(o),n=!r.val().match(/^\d\d?$/),a=Number(r.val())>31,s=Number(r.val())<1;n||a||s?(r.addClass("govuk-input--error"),ccsZaddErrorMessage(document.getElementById(e),"Enter a valid date")):(r.removeClass("govuk-input--error"),ccsZremoveErrorMessage(document.getElementById(e)))}}),n.on("blur",()=>{let e=n;if(null!=e&&""!=e.val()){let r=t(o),n=!e.val().match(/^\d\d?$/),a=Number(e.val())>12,s=Number(e.val())<=0;n||a||s?(e.addClass("govuk-input--error"),ccsZaddErrorMessage(document.getElementById(r),"Enter a valid month")):(e.removeClass("govuk-input--error"),ccsZremoveErrorMessage(document.getElementById(r)))}}),a.on("blur",()=>{let e=a;if(null!=e&&""!=e.val()){let r=t(o),n=!e.val().match(/^\d{4}$/),a=Number(e.val())>2121,s=(new Date).getFullYear()-1,i=Number(e.val())<s;n||a||i?(e.addClass("govuk-input--error"),ccsZaddErrorMessage(document.getElementById(r),"Enter a valid year")):(e.removeClass("govuk-input--error"),ccsZremoveErrorMessage(document.getElementById(r)))}}),s.on("blur",()=>{let i=s;if(null!=i&&""!=i.val()){let s=t(o),l=!i.val().match(/^\d\d?$/),c=Number(i.val())>23,d=Number(i.val())<=0;""===e.val()||""===n.val()||""===e.val()||r(a.val(),n.val(),e.val())?l||c||d||""==i?(i.addClass("govuk-input--error"),ccsZaddErrorMessage(document.getElementById(s),"Enter a valid hours")):(i.removeClass("govuk-input--error"),ccsZremoveErrorMessage(document.getElementById(s))):(i.addClass("govuk-input--error"),ccsZaddErrorMessage(document.getElementById(s),"Enter a valid day"))}}),i.on("blur",()=>{let s=i;if(null!=s&&""!=s.val()){let i=t(o),l=!s.val().match(/^\d\d?$/),c=Number(s.val())>59,d=Number(s.val())<0;""===e.val()||""===n.val()||""===e.val()||r(a.val(),n.val(),e.val())?l||c||d||""==s?(s.addClass("govuk-input--error"),ccsZaddErrorMessage(document.getElementById(i),"Enter valid minutes")):(s.removeClass("govuk-input--error"),ccsZremoveErrorMessage(document.getElementById(i))):(s.addClass("govuk-input--error"),ccsZaddErrorMessage(document.getElementById(i),"Enter a valid day"))}})}}),$(".save-button").on("click",e=>{if(null!=document.getElementsByClassName("clarification_1")[0]){let t=new Date(document.getElementsByClassName("clarification_1")[0].innerText),r=new Date(document.getElementsByClassName("clarification_2")[0].innerText),o=new Date(document.getElementsByClassName("clarification_3")[0].innerText),n=new Date(document.getElementsByClassName("clarification_4")[0].innerText),a=new Date(document.getElementsByClassName("clarification_5")[0].innerText),s=!1,i=[1,2,3,4,5];for(let l of i){let i=$(`#clarification_date-day_${l}`),c=$(`#clarification_date-month_${l}`),d=$(`#clarification_date-year_${l}`),u=$(`#clarification_date-hour_${l}`),m=$(`#clarification_date-minute_${l}`);if(null!=d.val()&&""!=d.val()&&null!=c.val()&&""!=c.val()&&null!=i.val()&&""!=i.val()){let g=new Date(d.val(),c.val()-1,i.val(),u.val(),m.val());switch(l){case 1:g<t&&(s=!0);break;case 2:g<r&&(e.preventDefault(),s=!0);break;case 3:g<o&&(e.preventDefault(),s=!0);break;case 4:g<n&&(e.preventDefault(),s=!0);break;case 5:g<a&&(e.preventDefault(),s=!0);break;default:s=!1}}}if(s){$("#event-name-error-date").html("You can not set a date and time that is earlier than the previous milestone in the timeline"),DaySelector.addClass("govuk-form-group--error"),MonthSelector.addClass("govuk-form-group--error"),YearSelector.addClass("govuk-form-group--error"),$(".durations").addClass("govuk-form-group--error"),ccsZPresentErrorSummary([["eoi_clarification_date","You can not set a date and time that is earlier than the previous milestone in the timeline"]])}else document.forms.ccs_eoi_response_date_form.submit()}}),document.addEventListener("DOMContentLoaded",()=>{if(null!==document.getElementById("ccs_rfi_procurement_lead")){document.getElementById("ccs_rfi_procurement_lead").addEventListener("change",function(t){t.preventDefault(),$.ajax({url:"/rfi/users-procurement-lead?id="+t.target.value,type:"GET",contentType:"application/json"}).done(function(t){e(t)}).fail(e=>{document.getElementById("lead-email").innerText="",document.getElementById("lead-telephone").innerText=""})});const e=e=>{document.getElementById("lead-email").innerText=e.userName,document.getElementById("lead-telephone").innerText="1",document.getElementById("rfi_procurement_lead_input").value=e.userName}}}),$(".add").addClass("ccs-dynaform-hidden");let totalCount=20,totalCountindex=21;document.addEventListener("DOMContentLoaded",()=>{const e=window.location.search,t=new URLSearchParams(e);if("RM6187"==urlParamsDefault.get("agreement_id")&&(totalCount=10,totalCountindex=11),null!==document.getElementById("ccs_rfi_questions_form")){$(".add").length;let e=totalCount,o=0,n=document.querySelectorAll("a.del");document.getElementById("ccs_criteria_add").classList.remove("ccs-dynaform-hidden");for(var r=totalCount;r>=1;r--){let t=document.getElementById("rfi_question_"+r);if(t.addEventListener("input",ccsZCountRfiQuestions),1===r){document.getElementById("rfi_question_"+r).classList.remove("ccs-dynaform-hidden"),document.querySelector("label[for=rfi_question_"+r+"]").classList.remove("ccs-dynaform-hidden")}else""!==t.value?(t.classList.remove("ccs-dynaform-hidden"),r===totalCount&&document.getElementById("ccs_criteria_add").classList.add("ccs-dynaform-hidden")):(document.querySelector("#fc_question_"+r).classList.add("ccs-dynaform-hidden"),e=r)}0==$("div.ccs-dynaform-hidden").length&&20==e&&"RM1557.13"==t.get("agreement_id")&&"Criterion 1"==t.get("id")&&"Group 3"==t.get("group_id")&&e++,document.getElementById("ccs_criteria_add").addEventListener("click",t=>{1==$("div.ccs-dynaform-hidden").length&&19==e&&(e=totalCount),t.preventDefault(),$(".govuk-error-summary").remove(),0==(errorStore=emptyQuestionFieldCheck()).length?(document.getElementById("rfi_question_"+e).classList.remove("ccs-dynaform-hidden"),document.querySelector("#fc_question_"+e).classList.remove("ccs-dynaform-hidden"),document.querySelector("label[for=rfi_question_"+e+"]").classList.remove("ccs-dynaform-hidden"),e>2&&(o=e-1),++e===totalCountindex&&document.getElementById("ccs_criteria_add").classList.add("ccs-dynaform-hidden")):ccsZPresentErrorSummary(errorStore)}),n.forEach(t=>{t.classList.remove("ccs-dynaform-hidden"),t.addEventListener("click",r=>{r.preventDefault();let o=r.target.href.replace(/^(.+\/)(\d{1,2})$/,"$2"),n=Number(o)-1,a=t.closest("div"),s=a.nextElementSibling;if(o!=totalCountindex){let e=1,t=Number(o),r=Number(o),i=[];for(;s;){let o=s.classList;if(void 0!==Object.keys(o).find(e=>"closeCCS"===o[e])&&void 0===Object.keys(o).find(e=>"ccs-dynaform-hidden"===o[e])){let o=r;if(r+=1,i.push(r),1==e){let e;document.getElementById("rfi_question_"+r)&&(e=document.getElementById("rfi_question_"+r).value,document.getElementById("rfi_question_"+o).value=e)}else{let e;t+=1,document.getElementById("rfi_question_"+r)&&(e=document.getElementById("rfi_question_"+r).value,document.getElementById("rfi_question_"+o).value=e)}s=s.nextElementSibling}else s=!1;e++}if(i.length>0){let e=i.at(-1);document.getElementById("rfi_question_"+e)&&(document.getElementById("rfi_question_"+e).value=""),document.querySelector("#fc_question_"+e).classList.add("ccs-dynaform-hidden")}else{a.classList.add("ccs-dynaform-hidden"),document.getElementById("rfi_question_"+r)&&(document.getElementById("rfi_question_"+r).value=""),n>1&&document.querySelector("#fc_question_"+n+" a.del").classList.remove("ccs-dynaform-hidden"),document.getElementById("ccs_criteria_add").classList.remove("ccs-dynaform-hidden")}}else{a.classList.add("ccs-dynaform-hidden"),document.getElementById("rfi_question_"+nextLevel_coll)&&(document.getElementById("rfi_question_"+nextLevel_coll).value=""),n>1&&document.querySelector("#fc_question_"+n+" a.del").classList.remove("ccs-dynaform-hidden"),document.getElementById("ccs_criteria_add").classList.remove("ccs-dynaform-hidden")}11!=--e&&document.getElementById("ccs_criteria_add").classList.remove("ccs-dynaform-hidden")})});let a=totalCountindex;for(;--a;){document.querySelector("#rfi_question_"+a).addEventListener("focusout",e=>{if(""!==e.target.value){let e=document.getElementById("ccs_rfi_questions_form").getAttribute("action");e+="&stop_page_navigate=true",$.ajax({type:"POST",url:e,data:$("#ccs_rfi_questions_form").serialize(),success:function(){}})}})}}});const emptyQuestionFieldCheck=()=>{let e=!0,t=[];!0!==e&&t.push(e);for(var r=1;r<totalCountindex;r++)document.getElementById("fc_question_"+r).classList.contains("ccs-dynaform-hidden")||(1==r?("RM6187"==urlParams.get("agreement_id")?errText="Enter at least one question before attempting to add another":"RM1557.13"==urlParams.get("agreement_id")?errText="Enter at least one question before attempting to add another":errText="You must add at least one question",e=ccsZvalidateWithRegex("rfi_question_1",errText,/\w+/)):e="RM1557.13"==urlParams.get("agreement_id")||"RM6187"==urlParams.get("agreement_id")?ccsZvalidateWithRegex("rfi_question_"+r,"Enter a question before you proceed",/\w+/):ccsZvalidateWithRegex("rfi_question_"+r,"You must type a question before you can add another question",/\w+/),!0!==e&&t.push(e));return t},emptyQuestionFieldCheckForSave=()=>{let e="",t=[];for(var r=1;r<totalCountindex;r++)document.getElementById("fc_question_"+r).classList.contains("ccs-dynaform-hidden")||(1==r?(urlParams.get("agreement_id"),errText="Enter at least one question",e=ccsZvalidateWithRegex("rfi_question_1",errText,/\w+/)):e="RM1557.13"==urlParams.get("agreement_id")||"RM6187"==urlParams.get("agreement_id")?ccsZvalidateWithRegex("rfi_question_"+r,"Enter a question before you proceed",/\w+/):ccsZvalidateWithRegex("rfi_question_"+r,"You must type a question before you can add another question",/\w+/));return!0!==e&&t.push(e),t},ccsZvalidateRfIQuestions=e=>{e.preventDefault(),0===(errorStore=emptyQuestionFieldCheckForSave()).length?document.forms.ccs_rfi_questions_form.submit():ccsZPresentErrorSummary(errorStore)},ccsZCountRfiQuestions=e=>{e.preventDefault();const t=e.srcElement.id,r=document.getElementById(t),o=t.split("rfi_question_");for(var n=1;n<=totalCount;n++);document.getElementById("rfi_label_question_"+o[1]),r.getAttribute("maxlength"),r.value.length};$(".add").addClass("ccs-dynaform-hidden");const totalElementSelectors=Array.from(Array(6).keys()).slice(1);for(const e of totalElementSelectors){let t=$("#rfi_clarification_date_expanded_"+e);0===t.length&&(t=$("#rfi_clarification_date_expanded_"+e)),t.fadeOut()}for(const e of totalElementSelectors){let t="#cancel_change_clarification_date_"+e,r=$("#change_clarification_date_"+e),o=$(t);r.fadeIn(),o.fadeIn(),r.on("click",()=>{localStorage.removeItem("dateItem"),localStorage.setItem("dateItem",r.selector);let t=$("#rfi_clarification_date_expanded_"+e);0===t.length&&(t=$("#rfi_clarification_date_expanded_"+e)),$(".rfi_hideFirst:visible").length&&($(".rfi_hideFirst").hide(),$(".change").show()),t.fadeIn(),r.hide(),saveButtonHideDateRfi()})}errorSelectorId="";let errorSelector=$("#click-error");errorSelector.on("click",()=>{let e=$("#click-error").attr("href"),t=$("#click-error").text();errorSelectorId=e,$(e).fadeIn(),ccsZaddErrorMessage(document.getElementById(e.slice(1)),t)});for(const e of totalElementSelectors){$("#cancel_change_clarification_date_"+e).on("click",()=>{let t="#rfi_clarification_date_expanded_"+e,r=$(t);if(0===r.length&&(t="#rfi_clarification_date_expanded_"+e,r=$(t)),r.fadeOut(),r.find("input").val(""),ccsZremoveErrorMessage(document.getElementById(t.slice(1))),errorSelectorId===t)for(let e of totalElementSelectors){$("#change_clarification_date_"+e).show()}else{$("#change_clarification_date_"+e).show()}saveButtonUnHideDateRfi()})}const saveButtonHideDateRfi=()=>{document.getElementById("hideMeWhileDateChange").disabled=!0},saveButtonUnHideDateRfi=()=>{document.getElementById("hideMeWhileDateChange").disabled=!1};document.addEventListener("DOMContentLoaded",()=>{if(null!==document.getElementById("ccs-rfi-suppliers-form")){let e=document.getElementById("supplier-page1"),t=document.getElementById("supplier-page2"),r=document.getElementById("supplier-page3");t.classList.add("ccs-dynaform-hidden"),r.classList.add("ccs-dynaform-hidden"),document.getElementById("rfi_page-1-next-link").addEventListener("click",r=>{r.preventDefault(),e.classList.add("ccs-dynaform-hidden"),t.classList.remove("ccs-dynaform-hidden")}),document.getElementById("rfi_page-2-previous-link").addEventListener("click",r=>{r.preventDefault(),e.classList.remove("ccs-dynaform-hidden"),t.classList.add("ccs-dynaform-hidden")}),document.getElementById("rfi_page-2-next-link").addEventListener("click",e=>{e.preventDefault(),t.classList.add("ccs-dynaform-hidden"),r.classList.remove("ccs-dynaform-hidden")}),document.getElementById("rfi_page-3-previous-link").addEventListener("click",e=>{e.preventDefault(),r.classList.add("ccs-dynaform-hidden"),t.classList.remove("ccs-dynaform-hidden")})}}),$("#ccs_collab_view").hide();let rfpFormURL="/rfp/get-collaborator-detail/js-enabled";$("#potential-collaborator").hide(),$("#rfp_collaborators").on("change",function(){let e=this.value;if(""!==e){let t={rfp_collaborators:e};$.post(rfpFormURL,t,function(e){let{userName:t,firstName:r,lastName:o,tel:n}=e,a=r+" "+o,s=t;$("#potential-collaborator").show(),$("#show_collab_name").html(a),$("#show_collab_email").html(s),$("#show_collab-phone").html(n),$("#rfp_collaborator_append").val(s),$("#ccs_collab_add").prop("disabled",!1),$(".addcolleaguedetailsdos").show()}).fail(function(){console.log("failed")}).always(function(){console.log("finsihed")})}else $("#show_collab_name").html(""),$("#show_collab_email").html(""),$("#show_collab-phone").html(""),$("#ccs_collab_add").prop("disabled",!0),$(".addcolleaguedetailsdos").hide()});const rfp_totalElementSelectors=Array.from(Array(14).keys()).slice(1);for(const e of rfp_totalElementSelectors){let t=$("#rfp_clarification_date_expanded_"+e);0===t.length&&(t=$("#rfp_clarification_date_expanded_"+e)),t.fadeOut()}for(const e of rfp_totalElementSelectors){let t="#change_clarification_date_"+e,r="#rfp_cancel_change_clarification_date_"+e,o=$(t),n=$(r);o.fadeIn(),n.fadeIn(),o.on("click",()=>{localStorage.removeItem("dateItem"),localStorage.setItem("dateItem",t);let r=$("#rfp_clarification_date_expanded_"+e);0===r.length&&(r=$("#rfp_clarification_date_expanded_"+e)),$(".hideFirst:visible").length&&($(".hideFirst").hide(),$(".change").show()),r.fadeIn(),o.hide(),saveButtonHideDateRFP()});let a=$("#click-error");$("#rfp_cancel_change_clarification_date_"+e).click(function(){$(".govuk-error-message").hide(),$(".govuk-error-summary").hide(),elementClicked=$("#showDateDiv"+e),elementClicked.removeClass("govuk-form-group--error")}),a.on("click",()=>{let t,r=localStorage.getItem("dateItem"),n=r.slice(1),a=$(r),s=$("#showDateDiv"+e).hasClass("govuk-form-group--error");o.selector===a.selector&&s?((a=$("#rfp_clarification_date_expanded_"+e)).fadeIn(),o.hide()):(a.hide(),o.fadeIn()),document.getElementById("agreementID")&&(t=document.getElementById("agreementID").value),"RM1043.8"!=t&&"RM1557.13"!=t&&ccsZaddErrorMessage(document.getElementById(n),"You can not set a date and time that is earlier than the previous milestone in the timeline")})}for(const e of rfp_totalElementSelectors){$("#rfp_cancel_change_clarification_date_"+e).on("click",()=>{let t="#rfp_clarification_date_expanded_"+e,r=$(t);0===r.length&&(t="#rfp_clarification_date_expanded_"+e,r=$(t)),r.fadeOut(),ccsZremoveErrorMessage(document.getElementById(t.slice(1))),$("#change_clarification_date_"+e).show(),saveButtonUnHideDateRFP()})}const saveButtonHideDateRFP=()=>{document.getElementById("hideMeWhileDateChange").disabled=!0},saveButtonUnHideDateRFP=()=>{document.getElementById("hideMeWhileDateChange").disabled=!1};document.addEventListener("DOMContentLoaded",()=>{var e=document.querySelectorAll(".rfp-service-capabilities"),t=document.getElementsByClassName("rfp_cap"),r=[],o="",n="";function a(e){i(),s();for(var t=1;t<r.length+1;t++){$(`#${e+"_"+t}`).on("click",()=>{i(),s()})}}function s(){let e=0;for(var r=0;r<t.length;r++)t[r].checked&&(e+=1);$("#total_added").text(e)}function i(){let e=0;for(var t=0;t<r.length;t++)r[t].checked&&(e+=1);o.innerHTML="["+e+" Selected ]"}function l(){for(var r=0;r<t.length;r++)t[r].checked=!1;!function(){for(var t=0;t<e.length;t++)document.getElementsByClassName("table-item-subtext")[t].innerHTML="[ 0 Selected ]";s()}()}function c(e){$(".pop").slideFadeToggle(function(){e.removeClass("selected")})}null!==e&&(ccsTabMenuNaviation(),e.length>0&&(o=document.getElementsByClassName("table-item-subtext")[0],null!=(n=e[0].getElementsByTagName("a")[0].childNodes[0].data)&&""!=n&&(n=n.replaceAll(" ","_"),r=document.getElementsByClassName(n),a(n)),Array.from(e).forEach(t=>{t.addEventListener("click",function(t){let s=t.currentTarget,i=$(this).index();return o=s.getElementsByClassName("table-item-subtext")[0],n=(n=e[i].getElementsByTagName("a")[0].childNodes[0].data).replaceAll(" ","_"),r=document.getElementsByClassName(n),a(n),!1})}))),$(".select_all").on("click",()=>{for(var e=0;e<r.length;e++)r[e].checked||(r[e].checked=!0);i(),s()}),$(".ca_da_service_cap").on("click",function(){return $(this).hasClass("selected")&&(c($(this)),$(".backdrop-vetting").fadeOut(200),$(".pop").slideFadeToggle()),!1}),$("#redirect-button-vetting").on("click",function(){if(c($(".dialog-close-vetting")),$(".backdrop-vetting").fadeOut(200),"Clear form"!=this.name)return!1;l()}),$(".dialog-close-vetting").on("click",function(){return $(".backdrop-vetting").fadeOut(200),c($(".dialog-close-vetting")),!1})});const countWords1=e=>!!e&&e.trim().split(/\s+/).length;document.addEventListener("DOMContentLoaded",()=>{if(null!==document.getElementById("ccs_rfp_acronyms_form")){let r,o;document.getElementById("q_mandatory")&&(r=document.getElementById("q_mandatory").value),document.getElementById("agreementID")&&(o=document.getElementById("agreementID").value);let n=20,a=document.querySelectorAll("a.del"),s=document.querySelectorAll("a.clear-fields"),i=[];for(var e=20;e>1;e--){let t=document.querySelector(".acronym_"+e),r=document.getElementById("rfp_term_"+e);document.getElementById("deleteButton_acronym_"+e).classList.remove("ccs-dynaform-hidden"),""!==r.value?(t.classList.remove("ccs-dynaform-hidden"),i.push(e),20===e&&document.getElementById("ccs_rfpTerm_add").classList.add("ccs-dynaform-hidden")):(t.classList.add("ccs-dynaform-hidden"),n=e),2===e&&i.length>0&&$("#deleteButton_acronym_"+i[i.sort((e,t)=>e-t).length-1]).removeClass("ccs-dynaform-hidden")}if(19!=i.length&&document.getElementById("ccs_rfpTerm_add").classList.remove("ccs-dynaform-hidden"),document.getElementById("ccs_rfpTerm_add").addEventListener("click",e=>{if($(".govuk-form-group textarea").removeClass("govuk-textarea--error"),checkFieldsRfp1(),e.preventDefault(),errorStoreforOptional=emptyFieldCheckdos("addmore"),0==errorStoreforOptional.length)if(0==(errorStore=emptyFieldCheckRfp1()).length){removeErrorFieldsRfp1();let e=document.getElementById("rfp_term_"+n).value,t=document.getElementById("rfp_term_"+n).value;""!=e&&""!=t?20==n?document.getElementById("ccs_rfpTerm_add").classList.add("ccs-dynaform-hidden"):(n++,document.querySelector(".acronym_"+n).classList.remove("ccs-dynaform-hidden"),$("#deleteButton_acronym_"+n).removeClass("ccs-dynaform-hidden"),20===n&&document.getElementById("ccs_rfpTerm_add").classList.add("ccs-dynaform-hidden")):(document.querySelector(".acronym_"+n).classList.remove("ccs-dynaform-hidden"),$("#deleteButton_acronym_"+n).removeClass("ccs-dynaform-hidden"),n++),21===n&&document.getElementById("ccs_rfpTerm_add").classList.add("ccs-dynaform-hidden")}else ccsZPresentErrorSummary(errorStore);else ccsZPresentErrorSummary(errorStoreforOptional)}),a.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();let r=e.href.replace(/^(.+\/)(\d{1,2})$/,"$2"),o=Number(r)-1,a=e.closest("fieldset"),s=a.nextElementSibling;if(console.log(`target: ${r}`),20!=r){let e=1,t=Number(r),n=Number(r),c=[];for(;s;){let r=s.classList;if(void 0!==Object.keys(r).find(e=>"closeCCS"===r[e])&&void 0===Object.keys(r).find(e=>"ccs-dynaform-hidden"===r[e])){let r=n;if(n+=1,c.push(n),1==e){console.log(`First: ${e} - ${t}`);var i=s.querySelector("[name='term']"),l=s.querySelector("[name='value']");console.log(i.value),console.log(l.value),document.getElementById("rfp_term_"+r).value=i.value,document.getElementById("rfp_term_definition_"+r).value=l.value}else{t+=1,console.log(`Usual: ${e} - ${t}`);i=s.querySelector("[name='term']"),l=s.querySelector("[name='value']");console.log(i.value),console.log(l.value),document.getElementById("rfp_term_"+t).value=i.value,document.getElementById("rfp_term_definition_"+t).value=l.value}console.log(s.classList),s=s.nextElementSibling}else s=!1;e++}if(c.length>0){console.log(c);let e=c.at(-1);console.log(`removeLogic: ${e}`),document.getElementById("rfp_term_"+e).value="",document.getElementById("rfp_term_definition_"+e).value="",document.getElementById("rfp_term_"+e).closest("fieldset").classList.add("ccs-dynaform-hidden")}else a.classList.add("ccs-dynaform-hidden"),document.getElementById("rfp_term_"+r).value="",document.getElementById("rfp_term_definition_"+r).value="",o>1&&document.querySelector(".acronym_"+o+" a.del").classList.remove("ccs-dynaform-hidden"),document.getElementById("ccs_rfpTerm_add").classList.remove("ccs-dynaform-hidden")}else a.classList.add("ccs-dynaform-hidden"),document.getElementById("rfp_term_"+r).value="",document.getElementById("rfp_term_definition_"+r).value="",o>1&&document.querySelector(".acronym_"+o+" a.del").classList.remove("ccs-dynaform-hidden"),document.getElementById("ccs_rfpTerm_add").classList.remove("ccs-dynaform-hidden");21!=--n&&document.getElementById("ccs_rfpTerm_add").classList.remove("ccs-dynaform-hidden")})}),s.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();let r=e.href.replace(/^(.+\/)(\d{1,2})$/,"$2"),o=e.closest("fieldset");console.log("inside clear field target",r),o.classList.add("ccs-dynaform"),removeErrorFieldsRfp1()})}),document.getElementsByClassName("term_acronym_fieldset").length>0){let e=document.getElementsByClassName("term_acronym_fieldset"),r=e.length;for(;r--;){let o=r+1,n=e[r].querySelector("#rfp_term_"+o);null!=n&&null!=n&&(console.log("eleTerm",n,o),n.addEventListener("focusout",e=>{let r=e.target,n="rfp_term_definition_"+o,a=document.getElementById(n);t(r,a)})),e[r].querySelector("#rfp_term_definition_"+o).addEventListener("focusout",e=>{let r=e.target,n="rfp_term_"+o,a=document.getElementById(n);t(a,r)});var t=function(e,t){if(console.log("inside submit"),""!==e.value&&""!==t.value){let e=document.getElementById("ccs_rfp_acronyms_form").getAttribute("action");e+="&stop_page_navigate=true"}}}}}});const checkFieldsRfp1=()=>{const e=document.getElementById("page-heading").innerHTML;for(var t=1;t<=20;t++){let r=$(`#rfp_term_${t}`),o=$(`#rfp_term_definition_${t}`);if(!e.includes("(Optional)")){const e=countWords1(r.val())<50,n=countWords1(o.val())<150;(""!==r.val()||e)&&($(`#rfp_term_${t}-error`).remove(),$(`.acronym_${t} div`).removeClass("govuk-form-group--error"),$(`.acronym_${t} input`).removeClass("govuk-input--error")),(""!==o.val()||n)&&($(`#rfp_term_definition_${t}-error`).remove(),$(`.acronym_${t} div`).removeClass("govuk-form-group--error"),$(`.acronym_${t} textarea`).removeClass("govuk-input--error"),$(`.acronym_${t} textarea`).removeClass("govuk-textarea--error"))}}},removeErrorFieldsRfp1=()=>{$(".govuk-error-message").remove(),$(".govuk-form-group--error").removeClass("govuk-form-group--error"),$(".govuk-error-summary").remove(),$(".govuk-input").removeClass("govuk-input--error"),$(".govuk-select").removeClass("govuk-select--error"),$(".govuk-form-group textarea").removeClass("govuk-textarea--error"),$(".govuk-form-group textarea").removeClass("govuk-textarea--error1")};let rfp_term_text=document.querySelectorAll(".rfpterm"),rfp_term_definition=document.querySelectorAll(".rfp_term_definition"),messagesendcountEle=document.querySelectorAll(".messagesendcount"),subjecterror=document.querySelectorAll("#create_subject_input"),classification_input=document.querySelectorAll("#create_message"),supplier_error=document.querySelectorAll("#create_supplier_message"),removeErr=document.querySelectorAll(".removeErr"),removeErrCheckbox=document.querySelectorAll(".removeErrCheckbox");removeErr.forEach(e=>{e.addEventListener("keydown",e=>{removeErrorFieldsRfp1()})}),removeErrCheckbox.forEach(e=>{e.addEventListener("change",e=>{removeErrorFieldsRfp1()})}),classification_input.forEach(e=>{e.addEventListener("change",e=>{removeErrorFieldsRfp1()})}),supplier_error.forEach(e=>{e.addEventListener("change",e=>{removeErrorFieldsRfp1()})}),subjecterror.forEach(e=>{e.addEventListener("keydown",e=>{removeErrorFieldsRfp1()})}),rfp_term_text.forEach(e=>{e.addEventListener("keydown",e=>{removeErrorFieldsRfp1()})}),rfp_term_definition.forEach(e=>{e.addEventListener("keydown",e=>{removeErrorFieldsRfp1()})}),messagesendcountEle.forEach(e=>{e.addEventListener("keydown",e=>{removeErrorFieldsRfp1()})});const emptyFieldCheckdos=e=>{let t="",r=[];const o=window.location.search;new URLSearchParams(o);removeErrorFieldsRfp1();const n=document.getElementById("page-heading").innerHTML;"Terms and acronyms (Optional)"==n.trim()||"Terms and acronyms (optional)"==n.trim()?(fieldMsg="Enter a term or acronym",descMsg="Enter a definition for the term or acronym"):(fieldMsg="You must add information in all fields.",descMsg="You must add information in all fields.");for(var a=1;a<21;a++){let o=document.getElementById("rfp_term_"+a),n=document.getElementById("rfp_term_definition_"+a);if(null!=o&&void 0!==o.value&&void 0!==n)if("addmore"==e){countWords1(o.value),countWords1(n.value);-1===o.closest("fieldset").classList.value.indexOf("ccs-dynaform-hidden")&&(checkFieldsRfp1(),""===o.value.trim()&&(t=[o.id,fieldMsg],ccsZaddErrorMessage(o,fieldMsg),r.push(t)),""===n.value.trim()&&(t=[n.id,descMsg],ccsZaddErrorMessage(n,descMsg),r.push(t)))}else if(!(""==o.value&&""==n.value||""!=o.value&&""!=n.value)){countWords1(o.value),countWords1(n.value);-1===o.closest("fieldset").classList.value.indexOf("ccs-dynaform-hidden")&&(checkFieldsRfp1(),""===o.value.trim()?(t=[o.id,fieldMsg],ccsZaddErrorMessage(o,fieldMsg),r.push(t)):""===n.value.trim()&&(t=[n.id,descMsg],ccsZaddErrorMessage(n,descMsg),r.push(t)))}}return r},emptyFieldCheckRfp1=()=>{let e="",t=[];removeErrorFieldsRfp1();const r=document.getElementById("page-heading").innerHTML;for(var o=1;o<21;o++){let n=document.getElementById("rfp_term_"+o),a=document.getElementById("rfp_term_definition_"+o);if(null!=n&&void 0!==n.value&&void 0!==a){countWords1(n.value),countWords1(a.value);-1===n.closest("fieldset").classList.value.indexOf("ccs-dynaform-hidden")&&(checkFieldsRfp1(),r.includes("Optional")||r.includes("optional")||(""===n.value.trim()?(e=[n.id,"You must add information in all fields."],ccsZaddErrorMessage(n,"You must add information in all fields."),t.push(e)):""===a.value.trim()&&(e=[a.id,"You must add information in all fields."],ccsZaddErrorMessage(a,"You must add information in all fields."),t.push(e))))}}return t},emptyFieldCheckOptionalRfp1=()=>{let e="",t=[];removeErrorFieldsRfp1();document.getElementById("page-heading").innerHTML;const r=window.location.search,o=new URLSearchParams(r);let n;if(null!==document.getElementById("lID")&&(n=document.getElementById("lID").value),"RM1043.8"==o.get("agreement_id")&&"Criterion 3"==o.get("id")&&(1==n&&"Group 19"==o.get("group_id")||3==n&&"Group 17"==o.get("group_id"))){let r=document.getElementById("rfp_term_1"),o=document.getElementById("rfp_term_definition_1");null!=r&&void 0!==r.value&&""!==r.value.trim()&&-1===r.closest("fieldset").classList.value.indexOf("ccs-dynaform-hidden")&&(checkFieldsRfp1(),""===o.value.trim()&&(e=[o.id,"You must add information in all fields."],ccsZaddErrorMessage(o,"You must add information in all fields."),t.push(e)))}return t},ccsZvalidateRfpAcronymsRFP=e=>{if(e.preventDefault(),errorStoreforOptional=emptyFieldCheckdos("submit"),0==errorStoreforOptional.length){errorStore=null==(errorStore=emptyFieldCheckRfp1())||errorStore.length<=0?emptyFieldCheckRfp1():errorStore,console.log("Inside optional check errorStore after",errorStore);let e=document.getElementById("rfp_term_1"),t=document.getElementById("rfp_term_definition_1");if(null!=e&&void 0!==e.value&&""!==e.value.trim()&&null!=t&&null!=t.value&&""==t.value.trim()&&(errorStore=emptyFieldCheckOptionalRfp1()),0===errorStore.length){if(0!=document.getElementsByClassName("govuk-hint-error-message").length)return!1;document.forms.ccs_rfp_acronyms_form.submit()}else ccsZPresentErrorSummary(errorStore)}else ccsZPresentErrorSummary(errorStoreforOptional)};var maxchars=1e4;$(".rfp_term_definition").keyup(function(e){var t=$(this).val().length;$(this).val($(this).val().substring(0,maxchars));t=$(this).val().length;remain=maxchars-parseInt(t),$(this).text(remain)});let maxscount=6;$(".rfp_term_maxsupplycount").keyup(function(e){if(null!==document.getElementById("CurrentLotSupplierCount")){let e=document.getElementById("CurrentLotSupplierCount").value;""!=e&&(maxscount=(maxscount=parseInt(e)).toString().length)}var t=$(this).val().length;$(this).val($(this).val().substring(0,maxscount));t=$(this).val().length;remain=maxscount-parseInt(t),$(this).text(remain)});let maxscountscore=3;function hasDecimalPlace(e,t){var r=e.indexOf(".");return r>=0&&r<e.length-t}$(".percentage_limit").keyup(function(e){var t=$(this).val().length;$(this).val($(this).val().substring(0,maxscountscore));t=$(this).val().length;remain=maxscountscore-parseInt(t),$(this).text(remain)}),$(".percentage_limit_dos6").keypress(function(e){var t=String.fromCharCode(e.keyCode);if(4==this.value.length&&"."!==t&&"."!==this.value[2]&&void 0!==t)return e.preventDefault(),!1;var r=this.value+t;return isNaN(r)||hasDecimalPlace(r,3)?(e.preventDefault(),!1):void 0});var maxless=1e4;$(".rfpterm").keyup(function(e){var t=$(this).val().length;$(this).val($(this).val().substring(0,maxless));t=$(this).val().length;remain=maxless-parseInt(t),$(this).text(remain)});var nameproject=250;$(".nameproject").keyup(function(e){var t=$(this).val().length;$(this).val($(this).val().substring(0,nameproject));t=$(this).val().length;remain=nameproject-parseInt(t),$(this).text(remain)}),$(".nameproject").keypress(function(e){var t=$(this).val().length,r=e.which;if(t>=250&&8!=r&&(r<48||r>57))return!1});var nameprojectdos=500;$(".nameprojectdos").keyup(function(e){var t=$(this).val().length;$(this).val($(this).val().substring(0,nameprojectdos));t=$(this).val().length;remain=nameprojectdos-parseInt(t),$(this).text(remain)}),$(".nameprojectdos").keypress(function(e){var t=$(this).val().length,r=e.which;if(t>=500&&8!=r&&(r<48||r>57))return!1}),$(".rfpterm").keypress(function(e){var t=$(this).val().length,r=e.which;if(t>=500&&8!=r&&(r<48||r>57))return!1}),$(".rfp_term_definition").keypress(function(e){var t=$(this).val().length,r=e.which;if(t>=1e4&&8!=r&&(r<48||r>57))return!1});var messagesendcount=5e3;$(".messagesendcount").keyup(function(e){var t=$(this).val().length;$(this).val($(this).val().substring(0,messagesendcount));t=$(this).val().length;remain=messagesendcount-parseInt(t),$(this).text(remain)}),$(".messagesendcount").keypress(function(e){var t=$(this).val().length,r=e.which;if(t>=5e3&&8!=r&&(r<48||r>57))return!1});var messagesendcountDaSocial=2e3;$(".messagesendcountDaSocial").keyup(function(e){var t=$(this).val().length;$(this).val($(this).val().substring(0,messagesendcountDaSocial));t=$(this).val().length;remain=messagesendcountDaSocial-parseInt(t),$(this).text(remain)}),$(".messagesendcountDaSocial").keypress(function(e){var t=$(this).val().length,r=e.which;if(t>=2e3&&8!=r&&(r<48||r>57))return!1}),$(".rfp_term_definition_new").on("keypress",function(e){$(this).val();var t=(e=e||window.event).which?e.which:e.keyCode;return!(t>31&&(t<48||t>57))}),document.addEventListener("DOMContentLoaded",()=>{if(null!==document.getElementById("rfp_budget_for")){let e=document.querySelectorAll(".govuk-input");new RegExp(/^\d+$/);e.forEach(e=>{e.addEventListener("keydown",e=>{"."!==e.key&&69!==e.keyCode&&187!==e.keyCode&&189!==e.keyCode||e.preventDefault()})})}});const emptyQuestionFieldCheckBudget=()=>{let e="",t=[];const r=document.getElementById("page-heading").innerHTML.toLowerCase();new RegExp("^[0-9]$");if(null!=$("#rfp_maximum_estimated_contract_value").val()&&null!=$("#rfp_maximum_estimated_contract_value").val()){const o=$("#rfp_maximum_estimated_contract_value").val(),n=$("#rfp_minimum_estimated_contract_value").val();if("0"==o)return t.push(["rfp_maximum_estimated_contract_value","Value must be greater then or equal to 1"]),void ccsZPresentErrorSummary(t);if(""!=n&&""==o)return t.push(["rfp_maximum_estimated_contract_value","Please enter the Maximum"]),void ccsZPresentErrorSummary(t);if(o.includes("-"))return t.push(["rfp_maximum_estimated_contract_value","You must enter a positive value"]),void ccsZPresentErrorSummary(t);if(n.includes("-"))return t.push(["rfp_maximum_estimated_contract_value","You must enter a positive value"]),void ccsZPresentErrorSummary(t);if(r.includes("(optional)")){let r="";if(Number(o)<0&&(r="You must enter a positive value"),Number(o)>0&&Number(n)>0&&Number(o)<Number(n)){r="Entry should be greater than minimum estimated contract value";let o=document.getElementById("rfp_maximum_estimated_contract_value");ccsZaddErrorMessage(o,r),e=ccsZvalidateWithRegex("rfp_maximum_estimated_contract_value",r,/\d+/),t.push([o.id,r])}}}if(null!=$("#rfp_minimum_estimated_contract_value").val()&&null!=$("#rfp_minimum_estimated_contract_value").val()){const o=$("#rfp_maximum_estimated_contract_value").val(),n=$("#rfp_minimum_estimated_contract_value").val();if(o.includes("-"))return t.push(["rfp_maximum_estimated_contract_value","You must enter a positive value"]),void ccsZPresentErrorSummary(t);if(n.includes("-"))return t.push(["rfp_maximum_estimated_contract_value","You must enter a positive value"]),void ccsZPresentErrorSummary(t);let a="";if(r.includes("(optional)")&&(Number(n)<0&&(a="You must enter a positive value"),Number(n)>0&&Number(o)>0&&Number(n)>Number(o))){a="Entry should be lesser than maximum estimated contract value";let r=document.getElementById("rfp_minimum_estimated_contract_value");ccsZaddErrorMessage(r,a,!1),e=ccsZvalidateWithRegex("rfp_minimum_estimated_contract_value",a,/\d+/),t.push([r.id,a,!1])}}if($("#rfp_contracting_auth")&&!r.includes("(optional)")){let r="";$("#rfp_contracting_auth").val()||(r="You must enter information here"),!0!==(e=ccsZvalidateTextArea("rfp_contracting_auth",r))&&t.push(e)}if($("#rfp_prob_statement_n")&&!r.includes("(optional)")){let r="";$("#rfp_prob_statement_n").val()||(r="You must enter information here"),condLength($("#rfp_prob_statement_n").val())&&(r=char?"Entry must be <= 5000 characters":"Entry must be <= 500 words"),!0!==(e=ccsZvalidateTextArea("rfp_prob_statement_n",r,!condLength($("#rfp_prob_statement_n").val())))&&t.push(e)}if($("#rfp_prob_statement_e")&&!r.includes("(optional)")){let r="";$("#rfp_prob_statement_e").val()||(r="You must enter information here"),condLength($("#rfp_prob_statement_e").val())&&(r=char?"Entry must be <= 5000 characters":"Entry must be <= 500 words"),!0!==(e=ccsZvalidateTextArea("rfp_prob_statement_e",r,!condLength($("#rfp_prob_statement_e").val())))&&t.push(e)}return t},ccsZvalidateBudgetQuestions=e=>{e.preventDefault();const t=emptyQuestionFieldCheckBudget();0===t.filter(Boolean).length?document.forms.rfp_budget_for.submit():ccsZPresentErrorSummary(t)},removeErrorFieldsRfpBudget=()=>{$(".govuk-error-message").remove(),$(".govuk-form-group--error").removeClass("govuk-form-group--error"),$(".govuk-error-summary").remove(),$(".govuk-input").removeClass("govuk-input--error"),$(".govuk-form-group textarea").removeClass("govuk-textarea--error")};$("#rfp_budget_for").on("submit",e=>{$(".govuk-error-message").remove(),$(".govuk-form-group--error").removeClass("govuk-form-group--error"),$(".govuk-error-summary").remove(),$(".govuk-input").removeClass("govuk-input--error"),$(".govuk-form-group textarea").removeClass("govuk-textarea--error"),e.preventDefault();const t=emptyQuestionFieldCheckBudget();0===t.filter(Boolean).length?document.forms.rfp_budget_for.submit():ccsZPresentErrorSummary(t)});let evaluateSupplierForm=$("#suppliers_to_evaluate"),initmax=document.getElementById("CurrentLotSupplierCount");function daysInYear(e){return e%4==0&&e%100>0||e%400==0?366:365}function isValidDate(e,t,r){t-=1;var o=new Date(e,t,r);return o.getFullYear()==e&&o.getMonth()==t&&o.getDate()==r}function checkResourceStartDate(){let e=!0,t="",r=[],o=$(".rfp_resource_start_day"),n=$(".rfp_resource_start_month"),a=$(".rfp_resource_start_year");if(document.getElementById("agreementID").value,""==o.val()&&""==n.val()&&""==a.val()){if("RM1043.8"!==document.getElementById("agreementID").value&&"RM1557.13"!==document.getElementById("agreementID").value){e=!1,o.addClass("govuk-form-group--error"),n.addClass("govuk-form-group--error"),a.addClass("govuk-form-group--error"),$(".durations").addClass("govuk-form-group--error");let s="Enter a latest start date";!0!==(t=ccsZvalidateDateWithRegex("rfp_resource_start_date_day_Question11","rfp_resource_start_date",s,/^\d{1,}$/))?r.push(t):t=ccsZvalidateWithRegex("rfp_resource_start_day",s,/^\d{1,}$/)}}else if(""==o.val()){let i="Enter a valid date";if("RM1043.8"===document.getElementById("agreementID").value||"RM1557.13"===document.getElementById("agreementID").value)if(removeErrorFieldsdates(),""==o.val()&&""==n.val()&&""!=a.val())i=a.val().length<4?"Enter a day and month with valid Year(YYYY Format)":"Enter a day and month",n.addClass("govuk-form-group--error");else if(""==o.val()&&""==a.val()&&""!=n.val())i="Enter a day and year",a.addClass("govuk-form-group--error");else if(""==o.val()&&""!=a.val()&&a.val().length<4&&""!=n.val())i="Enter a day with valid Year(YYYY Format)",a.addClass("govuk-form-group--error");else if(""==o.val()){i="Enter a day";var s=new URLSearchParams(window.location.search);null!==document.getElementById("lID")&&(lotId=document.getElementById("lID").value),n.removeClass("govuk-form-group--error"),a.removeClass("govuk-form-group--error")}e=!1,o.addClass("govuk-form-group--error"),n.addClass("govuk-form-group--error"),a.addClass("govuk-form-group--error"),$(".durations").addClass("govuk-form-group--error"),$("#event-name-error-date").html("Enter a valid date"),!0!==(t=ccsZvalidateDateWithRegex("rfp_resource_start_date_day_Question11","rfp_resource_start_date",i,/^\d{1,}$/))&&r.push(t)}else if(o.val()<1)e=!1,o.addClass("govuk-form-group--error"),n.addClass("govuk-form-group--error"),a.addClass("govuk-form-group--error"),$(".durations").addClass("govuk-form-group--error"),$("#event-name-error-date").html("Enter a valid date"),!0!==(t=ccsZvalidateWithRegex("rfp_resource_start_date","Enter a valid date",/^\d{1,}$/))?r.push(t):t=ccsZvalidateWithRegex("rfp_resource_start_date","Enter a valid date",/^\d{1,}$/);else if(""==n.val()){if(error_msg="Enter a valid month","RM1043.8"===document.getElementById("agreementID").value||"RM1557.13"===document.getElementById("agreementID").value)if(removeErrorFieldsdates(),""!=o.val()&&""==n.val()&&""==a.val())error_msg="Enter a month and year",a.addClass("govuk-form-group--error");else if(""==n.val()&&""!=a.val()&&a.val().length<4&&""!=o.val())error_msg="Enter a month with valid Year(YYYY Format)",a.addClass("govuk-form-group--error");else if(""==n.val()){error_msg="Enter a month";s=new URLSearchParams(window.location.search);null!==document.getElementById("lID")&&(lotId=document.getElementById("lID").value),a.removeClass("govuk-form-group--error")}e=!1,a.addClass("govuk-form-group--error"),n.addClass("govuk-form-group--error"),o.addClass("govuk-form-group--error"),$(".durations").addClass("govuk-form-group--error"),$("#event-name-error-date").html("Enter a valid month"),!0!==(t=ccsZvalidateDateWithRegex("rfp_resource_start_date_month_Question 11","rfp_resource_start_date",error_msg,/^\d{1,}$/))&&r.push(t)}else if(n.val()<1)e=!1,n.addClass("govuk-form-group--error"),o.addClass("govuk-form-group--error"),a.addClass("govuk-form-group--error"),$(".durations").addClass("govuk-form-group--error"),$("#event-name-error-date").html("Enter a valid month"),!0!==(t=ccsZvalidateWithRegex("rfp_resource_start_month",error_msg,/^\d{1,}$/))?r.push(t):t=ccsZvalidateWithRegex("rfp_resource_start_month",error_msg,/^\d{1,}$/);else if(""==a.val()){if(error_msg="Enter a year",removeErrorFieldsdates(),"RM1043.8"===document.getElementById("agreementID").value){error_msg="Enter a year";s=new URLSearchParams(window.location.search);null!==document.getElementById("lID")&&(lotId=document.getElementById("lID").value,"1"==lotId&&"Group 17"==s.get("group_id")&&(error_msg="Enter a year using the YYYY format"))}e=!1,a.addClass("govuk-form-group--error"),o.addClass("govuk-form-group--error"),n.addClass("govuk-form-group--error"),$(".durations").addClass("govuk-form-group--error"),$("#event-name-error-date").html("Enter a year"),!0!==(t=ccsZvalidateDateWithRegex("rfp_resource_start_date_year_Question 11","rfp_resource_start_date",error_msg,/^\d{1,}$/))&&r.push(t)}else""!=a.val()&&a.val().length<4?(removeErrorFieldsdates(),e=!1,a.addClass("govuk-form-group--error"),o.addClass("govuk-form-group--error"),n.addClass("govuk-form-group--error"),$(".durations").addClass("govuk-form-group--error"),$("#event-name-error-date").html("Enter a year"),!0!==(t=ccsZvalidateDateWithRegex("rfp_resource_start_date_year_Question 11","rfp_resource_start_date","Enter a year using the YYYY format",/^\d{4,}$/))&&r.push(t)):Number(a.val())<=1?(error_msg="Enter a year using the YYYY format",e=!1,a.addClass("govuk-form-group--error"),o.addClass("govuk-form-group--error"),n.addClass("govuk-form-group--error"),$(".durations").addClass("govuk-form-group--error"),$("#event-name-error-date").html("Enter a year"),!0!==(t=ccsZvalidateDateWithRegex("rfp_resource_start_date_year_Question 11","rfp_resource_start_date","Enter a year using the YYYY format",/^\d$/))&&r.push(t)):(e=!0,a.removeClass("govuk-form-group--error"),n.removeClass("govuk-form-group--error"),o.removeClass("govuk-form-group--error"),$(".durations").removeClass("govuk-form-group--error"),$("#event-name-error-date").html(""),isValidDate(a.val(),n.val(),o.val())?(e=!0,$(".durations").removeClass("govuk-form-group--error"),$("#event-name-error-date").html("")):(e=!1,$(".durations").addClass("govuk-form-group--error"),$("#event-name-error-date").html("Enter a valid date"),!0!==t?(t=ccsZvalidateWithRegex("rfp_resource_start_date_day_Question11","Enter a valid date",/^\d{1,}$/,!1),r.push(t)):(t=ccsZvalidateWithRegex("rfp_resource_start_date_day_Question11","Enter a valid date",/^\d{1,}$/),r.push(t))));return r.length>0?(ccsZPresentErrorSummary(r),!1):e}function isProjectExtensionValid(){let e=!1;$(".p_durations").removeClass("govuk-form-group--error"),removeErrorFieldsdates();let t=$(".p_durations")[0].classList[1],r=$(".p_durations")[1].classList[1];const o=document.getElementsByClassName("rfp_duration_year_25"),n=document.getElementsByClassName("rfp_duration_month_25"),a=document.getElementsByClassName("rfp_duration_day_25"),s=document.getElementsByClassName("p_durations_pday_25"),i=o[0].value,l=n[0].value,c=a[0].value;var d=0;let u="",m=[];if(null!=document.getElementById("rfp_duration-years_Question12")&&null!=document.getElementById("rfp_duration-years_Question12")&&0===document.getElementById("rfp_duration-years_Question12").value.trim().length?"RM1043.8"===document.getElementById("agreementID").value&&"Group 18"===document.getElementById("gID").value&&"1"===document.getElementById("lID").value?null!=document.getElementById("rfp_duration_months_Question12")&&null!=document.getElementById("rfp_duration_months_Question12")&&0===document.getElementById("rfp_duration_months_Question12").value.trim().length&&null!=document.getElementById("rfp_duration_days_Question12")&&null!=document.getElementById("rfp_duration_days_Question12")&&0===document.getElementById("rfp_duration_days_Question12").value.trim().length&&!0!==(u=ccsZvalidateWithRegex("rfp_duration_Question12","Enter the expected contract length",/^\d{1,}$/))&&m.push(u):"RM1557.13"===document.getElementById("agreementID").value&&"Group 10"===document.getElementById("gID").value&&"4"===document.getElementById("lID").value?null!=document.getElementById("rfp_duration_months_Question12")&&null!=document.getElementById("rfp_duration_months_Question12")&&0===document.getElementById("rfp_duration_months_Question12").value.trim().length&&null!=document.getElementById("rfp_duration_days_Question12")&&null!=document.getElementById("rfp_duration_days_Question12")&&0===document.getElementById("rfp_duration_days_Question12").value.trim().length&&!0!==(u=ccsZvalidateWithRegex("rfp_duration_Question12","Enter the expected contract length",/^\d{1,}$/))&&m.push(u):!0!==(u=ccsZvalidateWithRegex("rfp_duration_Question12","Enter the expected contract length",/^\d{1,}$/))&&m.push(u):("RM1043.8"===document.getElementById("agreementID").value&&"Group 18"===document.getElementById("gID").value&&"1"===document.getElementById("lID").value||!0!==(u=ccsZvalidateWithRegex("rfp_duration-years_Question12","Enter a year",/^\d{1,}$/))&&m.push(u),"RM1557.13"===document.getElementById("agreementID").value&&"Group 10"===document.getElementById("gID").value&&"4"===document.getElementById("lID").value||!0!==(u=ccsZvalidateWithRegex("rfp_duration-years_Question12","Enter a year",/^\d{1,}$/))&&m.push(u)),null!=document.getElementById("rfp_duration_months_Question12")&&null!=document.getElementById("rfp_duration_months_Question12")&&0===document.getElementById("rfp_duration_months_Question12").value.trim().length){let e=document.getElementById("rfp_duration-years_Question12").value.trim(),t=document.getElementById("rfp_duration_months_Question12").value.trim();"RM1043.8"===document.getElementById("agreementID").value&&"Group 18"===document.getElementById("gID").value&&"1"===document.getElementById("lID").value?Number(e)<2&&Number(t)>0&&!0!==(u=ccsZvalidateWithRegex("rfp_duration_months_Question12","Enter a month",/^\d{1,}$/))&&m.push(u):"RM1557.13"===document.getElementById("agreementID").value&&"Group 10"===document.getElementById("gID").value&&"4"===document.getElementById("lID").value?Number(e)<2&&Number(t)>0&&!0!==(u=ccsZvalidateWithRegex("rfp_duration_months_Question12","Enter a month",/^\d{1,}$/))&&m.push(u):("RM1043.8"===document.getElementById("agreementID").value&&"Group 18"===document.getElementById("gID").value&&"1"===document.getElementById("lID").value||!0!==(u=ccsZvalidateWithRegex("rfp_duration_months_Question12","Enter a month",/^\d{1,}$/))&&m.push(u),"RM1557.13"===document.getElementById("agreementID").value&&"Group 10"===document.getElementById("gID").value&&"4"===document.getElementById("lID").value||!0!==(u=ccsZvalidateWithRegex("rfp_duration_months_Question12","Enter a month",/^\d{1,}$/))&&m.push(u))}else"RM1043.8"===document.getElementById("agreementID").value&&"Group 18"===document.getElementById("gID").value&&"1"===document.getElementById("lID").value||(u=ccsZvalidateWithRegex("rfp_duration_months_Question12","Enter a month",/^\d{1,}$/)),"RM1557.13"===document.getElementById("agreementID").value&&"Group 10"===document.getElementById("gID").value&&"4"===document.getElementById("lID").value||(u=ccsZvalidateWithRegex("rfp_duration_months_Question12","Enter a month",/^\d{1,}$/));if(null!=document.getElementById("rfp_duration_days_Question12")&&null!=document.getElementById("rfp_duration_days_Question12")&&0===document.getElementById("rfp_duration_days_Question12").value.trim().length){let e=document.getElementById("rfp_duration-years_Question12").value.trim(),t=document.getElementById("rfp_duration_days_Question12").value.trim();"RM1043.8"===document.getElementById("agreementID").value&&"Group 18"===document.getElementById("gID").value&&"1"===document.getElementById("lID").value?Number(e)<2&&Number(t)>0&&!0!==(u=ccsZvalidateWithRegex("rfp_duration_days_Question12","Enter a day",/^\d{1,}$/))&&m.push(u):"RM1557.13"===document.getElementById("agreementID").value&&"Group 10"===document.getElementById("gID").value&&"4"===document.getElementById("lID").value?Number(e)<2&&Number(t)>0&&!0!==(u=ccsZvalidateWithRegex("rfp_duration_days_Question12","Enter a day",/^\d{1,}$/))&&m.push(u):("RM1043.8"===document.getElementById("agreementID").value&&"Group 18"===document.getElementById("gID").value&&"1"===document.getElementById("lID").value||!0!==(u=ccsZvalidateWithRegex("rfp_duration_days_Question12","Enter a day",/^\d{1,}$/))&&m.push(u),"RM1557.13"===document.getElementById("agreementID").value&&"Group 10"===document.getElementById("gID").value&&"4"===document.getElementById("lID").value||!0!==(u=ccsZvalidateWithRegex("rfp_duration_days_Question12","Enter a day",/^\d{1,}$/))&&m.push(u))}else"RM1043.8"===document.getElementById("agreementID").value&&"Group 18"===document.getElementById("gID").value&&"1"===document.getElementById("lID").value||(u=ccsZvalidateWithRegex("rfp_duration_days_Question12","Enter a day",/^\d{1,}$/)),"RM1557.13"===document.getElementById("agreementID").value&&"Group 10"===document.getElementById("gID").value&&"4"===document.getElementById("lID").value||(u=ccsZvalidateWithRegex("rfp_duration_days_Question12","Enter a day",/^\d{1,}$/));let g="2",_="Expected contract length must be 2 years or less";"RM1557.13"===document.getElementById("agreementID").value&&"Group 10"===document.getElementById("gID").value&&"4"===document.getElementById("lID").value&&(g="3",_="Expected contract length must be 36 months or less"),null!=i&&""!=i&&(Number(i)<0?(e=!1,$(`.${t}`).addClass("govuk-form-group--error"),$(`.${s[0].classList[2]}`).html("Enter a year"),!0!==(u=ccsZvalidateWithRegex("rfp_duration-years","Enter a year",/^\d{1,}$/))&&m.push(u)):Number(i)>g?(e=!1,$(`.${t}`).addClass("govuk-form-group--error"),!0!==(u=ccsZvalidateWithRegex("rfp_duration_Question12",_,/^\d{1,}$/))&&m.push(u)):Number(i)>=g&&(Number(l)>0||Number(c)>0)&&(e=!1,$(`.${t}`).addClass("govuk-form-group--error"),!0!==(u=ccsZvalidateWithRegex("rfp_duration_Question12",_,/^\d{1,}$/))&&m.push(u)),d=365*Number(i)),null!=l&&""!=l&&(Number(l)<0?(e=!1,$(`.${t}`).addClass("govuk-form-group--error"),$(`.${s[0].classList[2]}`).html("Enter a valid month"),!0!==(u=ccsZvalidateWithRegex("rfp_duration-years","Enter a valid month",/^\d{1,}$/))&&m.push(u)):Number(l)>11&&(e=!1,$(`.${t}`).addClass("govuk-form-group--error"),$(`.${s[0].classList[2]}`).html("Project extension duration month value should not be more than 11"),!0!==(u=ccsZvalidateWithRegex("rfp_duration-years","Project extension duration month value should not be more than 11",/^\d{1,}$/))&&m.push(u)),d+=30*Number(l)),null!=c&&""!=c&&(Number(c)<0?(e=!1,$(`.${t}`).addClass("govuk-form-group--error"),$(`.${s[0].classList[2]}`).html("Enter a valid day"),!0!==(u=ccsZvalidateWithRegex("rfp_duration-years","Enter a valid day",/^\d{1,}$/))&&m.push(u)):Number(c)>31&&(e=!1,$(`.${t}`).addClass("govuk-form-group--error"),$(`.${s[0].classList[2]}`).html("Enter a valid day"),!0!==(u=ccsZvalidateWithRegex("rfp_duration-years","Enter a valid day",/^\d{1,}$/))&&m.push(u)),d+=Number(c)),(null!=i&&""!=i&&0==Number(i)||null!=l&&""!=l&&0==Number(l)||null!=c&&""!=c&&0==Number(c))&&0==Number(d)&&(e=!1,$(`.${t}`).addClass("govuk-form-group--error"),!0!==(u=ccsZvalidateWithRegex("rfp_duration_Question12","Enter a valid Expected contract length period",/^\d{1,}$/))&&m.push(u));const p=o[1].value,v=n[1].value,f=a[1].value;var h=0;if(null!=p&&""!=p&&(h=365*Number(p)),null!=v&&""!=v&&(h+=30*Number(v)),null!=f&&""!=f&&(h+=Number(f)),null!=d&&d>0&&null!=h&&h>0){let t=Number(d),o=Number(h);if(t>o)if("RM1557.13"===document.getElementById("agreementID").value&&"Group 10"===document.getElementById("gID").value&&"4"===document.getElementById("lID").value)if(o>365)e=!1,$(`.${r}`).addClass("govuk-form-group--error"),!0!==(u=ccsZvalidateWithRegex("rfp_duration_Question13","Extension period must be 12 months or less",/^\d{1,}$/))&&m.push(u);else{e=!0,s&&s[1]&&$(`.${s[1].classList[2]}`).html("")}else{o/t*100>50?(e=!1,$(`.${r}`).addClass("govuk-form-group--error"),!0!==(u=ccsZvalidateWithRegex("rfp_duration_Question13","Extension period must be 50% of the contract period or less",/^\d{1,}$/))&&m.push(u)):(e=!0,s&&s[1]&&$(`.${s[1].classList[2]}`).html(""))}else t==o&&"RM1557.13"===document.getElementById("agreementID").value?e=!0:(e=!1,$(`.${r}`).addClass("govuk-form-group--error"),!0!==(u="RM1557.13"===document.getElementById("agreementID").value&&o>365?ccsZvalidateWithRegex("rfp_duration_Question13","Extension period must be 12 months or less",/^\d{1,}$/):ccsZvalidateWithRegex("rfp_duration_Question13","Extension period must be 50% of the contract period or less",/^\d{1,}$/))&&m.push(u))}else e=!0;return m.length>0?(ccsZPresentErrorSummary(m),!1):e}function isProjectStartDateValid(){let e="",t=[];const r=$(".rfp_resource_start_day"),o=$(".rfp_resource_start_month"),n=$(".rfp_resource_start_year");if(null!==r.val()&&""!==r.val()&&null!==o.val()&&""!==o.val()&&null!==n.val()&&""!==n.val()){let s;if(r.removeClass("govuk-form-group--error"),o.removeClass("govuk-form-group--error"),n.removeClass("govuk-form-group--error"),$(".durations").removeClass("govuk-form-group--error"),$("#rpf_section_3_aggrimentEndDate").attr("agreementEndDate")&&(s=$("#rpf_section_3_aggrimentEndDate").attr("agreementEndDate").split("-")),null!=s&&s.length>0){const i=null!=s&&null!=s?Number(s[0]):null,l=(null!=s&&null!=s?Number(s[1]):null)-1,c=null!=s&&null!=s?Number(s[2]):null,d=null!=i&&null!=l&&null!=c?new Date(i,l,c):null,u=null!=d?d.getTime():null,m=new Date(n.val(),o.val()-1,r.val()),g=m.getTime(),_=new Date;if(g>u&&"RM1557.13"!=document.getElementById("agreementID").value&&"RM6187"!=document.getElementById("agreementID").value)return r.addClass("govuk-form-group--error"),o.addClass("govuk-form-group--error"),n.addClass("govuk-form-group--error"),$(".durations").addClass("govuk-form-group--error"),!0!==(e=ccsZvalidateWithRegex("rfp_resource_start_date","It is recommended that your project does not start after lot expiry date",/^\d{1,}$/))?t.push(e):e=ccsZvalidateWithRegex("rfp_resource_start_date","It is recommended that your project does not start after lot expiry date",/^\d{1,}$/),t.length>0&&(ccsZPresentErrorSummary(t),!1);if($("#rfp_resource_start_date-hint-error").removeClass("govuk-error-message"),$(".rfp_resource_start_day").removeClass("govuk-input--error"),$(".rfp_resource_start_month").removeClass("govuk-input--error"),$(".rfp_resource_start_year").removeClass("govuk-input--error"),ccsZPresentErrorSummary(),"RM6187"!=document.getElementById("agreementID").value){if(m.setHours(0,0,0,0)!=_.setHours(0,0,0,0)&&g<_.getTime()){removeErrorFieldsdates();var a="Enter a date in the future";return"RM1043.8"===document.getElementById("agreementID").value&&(a=" Enter a date in the future"),r.addClass("govuk-form-group--error"),o.addClass("govuk-form-group--error"),n.addClass("govuk-form-group--error"),$(".durations").addClass("govuk-form-group--error"),!0!==(e=ccsZvalidateWithRegex("rfp_resource_start_date",a,/^\d{1,}$/))?t.push(e):e=ccsZvalidateWithRegex("rfp_resource_start_date",a,/^\d{1,}$/),t.length>0&&(ccsZPresentErrorSummary(t),!1)}$("#rfp_resource_start_date-hint-error").removeClass("govuk-error-message"),$(".rfp_resource_start_day").removeClass("govuk-input--error"),$(".rfp_resource_start_month").removeClass("govuk-input--error"),$(".rfp_resource_start_year").removeClass("govuk-input--error"),$("#rfp_resource_start_date-error").removeClass("govuk-error-message"),$("#rfp_resource_start_date-error").html(""),ccsZPresentErrorSummary()}}const i=new Date(Number(n.val()),Number(o.val()),Number(r.val()));return isValidDate(Number(n.val()),Number(o.val()),Number(r.val()))?i>new Date(2025,5,28)&&"RM1557.13"==document.getElementById("agreementID").value?($(".durations").addClass("govuk-form-group--error"),e=ccsZvalidateWithRegex("rfp_resource_start_date","Project cannot start after: 28 May 2025"),$(".resource_start_date").html("Project cannot start after: 28 May 2025"),!1):i>new Date(2025,8,23)&&"RM6187"!=document.getElementById("agreementID").value?($(".durations").addClass("govuk-form-group--error"),e=ccsZvalidateWithRegex("rfp_resource_start_date","Project cannot start after: 23 August 2025"),$(".resource_start_date").html("Project cannot start after: 23 August 2025"),!1):($(".durations").removeClass("govuk-form-group--error"),$(".resource_start_date").html(""),!0):($(".durations").addClass("govuk-form-group--error"),$(".resource_start_date").html("Enter a project start date"),!1)}if(null!==document.getElementById("agreementID")){if("RM1043.8"===document.getElementById("agreementID").value){let t=[];r.addClass("govuk-form-group--error"),o.addClass("govuk-form-group--error"),n.addClass("govuk-form-group--error"),$(".durations").addClass("govuk-form-group--error"),$("#event-name-error-date").html("Enter a project start date"),!0!==(e=ccsZvalidateWithRegex("rfp_resource_start_date-hint","Enter the latest start date",/^\d{1,}$/))&&t.push(e),t.length>0&&ccsZPresentErrorSummary(t)}if("RM1557.13"===document.getElementById("agreementID").value){let t=[];r.addClass("govuk-form-group--error"),o.addClass("govuk-form-group--error"),n.addClass("govuk-form-group--error"),$(".durations").addClass("govuk-form-group--error"),!0!==(e=ccsZvalidateWithRegex("rfp_resource_start_date-hint","Enter a latest start date",/^\d{1,}$/))&&t.push(e),t.length>0&&ccsZPresentErrorSummary(t)}}return!1}function isValidDate(e,t,r){t-=1;var o=new Date(e,t,r);return o.getFullYear()==e&&o.getMonth()==t&&o.getDate()==r}evaluateSupplierForm.on("submit",e=>{e.preventDefault(),errorStore=[];let t=document.getElementById("rfp_contracting_auth");if(ccsZremoveErrorMessage(t),t.value<3){var r=new URLSearchParams(window.location.search),o=r.get("agreement_id"),n=r.get("id"),a=r.get("group_id");"RM1043.8"==o&&"Criterion 2"==n&&"Group 2"==a?(ccsZaddErrorMessage(t,"Enter the quantity, minimum 3"),errorStore.push(["suppliers_to_evaluate","Enter the quantity, minimum 3"])):(ccsZaddErrorMessage(t,"Supplier must be minimum 3"),errorStore.push(["suppliers_to_evaluate","Supplier must be minimum 3"])),ccsZPresentErrorSummary(errorStore)}parseInt(t.value)>parseInt(initmax.value)&&(ccsZaddErrorMessage(t,`Value should not exceed current lot's suppliers (${initmax.value})`),errorStore.push(["suppliers_to_evaluate",`Value should not exceed current lot's suppliers (${initmax.value})`]),ccsZPresentErrorSummary(errorStore)),0==errorStore.length&&document.forms.suppliers_to_evaluate.submit()}),document.addEventListener("DOMContentLoaded",()=>{if(null!==document.getElementById("rfp_date")){let t=$(".rfp_resource_start_day"),r=$(".rfp_resource_start_month"),o=$(".rfp_resource_start_year");t.on("keydown",e=>{"."!==e.key&&69!==e.keyCode&&189!==e.keyCode&&109!==e.keyCode||e.preventDefault()}),r.on("keydown",e=>{"."!==e.key&&69!==e.keyCode&&189!==e.keyCode&&109!==e.keyCode||e.preventDefault()}),o.on("keydown",e=>{"."!==e.key&&69!==e.keyCode&&189!==e.keyCode&&109!==e.keyCode||e.preventDefault()}),t.on("keyup",()=>{a()}),r.on("keyup",()=>{s()}),o.on("keyup",()=>{i()});var e="";let n=$(".rfp_duration");n.on("keydown",e=>{"."!==e.key&&69!==e.keyCode&&189!==e.keyCode&&109!==e.keyCode||e.preventDefault()}),n.on("blur",t=>{let r=t.currentTarget.id,o=$(`#${r}`);e=r,r.includes("day")?l(o):r.includes("month")?c(o):r.includes("year")&&d(o)});const a=()=>{let e=t,r=!e.val().match(/^\d\d?$/),o=Number(e.val())>31,n=Number(e.val())<1;"RM1043.8"!==document.getElementById("agreementID").value&&(t.removeClass("govuk-form-group--error"),$(".durations").removeClass("govuk-form-group--error"),$("#event-name-error-date").html(""),null!=e&&""!=e.val()&&(r||o||n?(t.addClass("govuk-form-group--error"),$(".durations").addClass("govuk-form-group--error"),$("#event-name-error-date").html("Enter a valid date")):(t.removeClass("govuk-form-group--error"),$(".durations").removeClass("govuk-form-group--error"),$("#event-name-error-date").html(""))))},s=()=>{const e=r;let t=!e.val().match(/^\d\d?$/),o=Number(e.val())>12,n=Number(e.val())<=0;"RM1043.8"!==document.getElementById("agreementID").value&&(r.removeClass("govuk-form-group--error"),$(".durations").removeClass("govuk-form-group--error"),$("#event-name-error-month").html(""),null!=e&&""!=e.val()&&(t||o||n?(r.addClass("govuk-form-group--error"),$(".durations").addClass("govuk-form-group--error"),$("#event-name-error-month").html("Enter a valid month")):(r.removeClass("govuk-form-group--error"),$(".durations").removeClass("govuk-form-group--error"),$("#event-name-error-month").html(""))))},i=()=>{let e=o,t=!e.val().match(/^\d{4}$/),r=Number(e.val())>2121,n=(new Date).getFullYear();Number(e.val());"RM1043.8"!==document.getElementById("agreementID").value&&(o.removeClass("govuk-form-group--error"),null!=e&&""!=e.val()&&(t||r?o.addClass("govuk-form-group--error"):o.removeClass("govuk-form-group--error")))},l=t=>{let r=t,o=!r.val().match(/^\d\d?$/),n=Number(r.val())>31,a=Number(r.val())<0;if("RM1043.8"===document.getElementById("agreementID").value&&"Group 18"===document.getElementById("gID").value&&"1"===document.getElementById("lID").value&&removeErrorFieldsdates(),"RM1557.13"===document.getElementById("agreementID").value&&"Group 10"===document.getElementById("gID").value&&"4"===document.getElementById("lID").value&&removeErrorFieldsdates(),"RM1043.8"===document.getElementById("agreementID").value&&"Group 18"===document.getElementById("gID").value&&"1"===document.getElementById("lID").value){(o||n||a)&&""!=r.val()||($(`#${e}`).removeClass("govuk-form-group--error"),$(`.${e}`).removeClass("govuk-form-group--error"),$(`.p_durations_${e}`).html(""))}else if("RM1557.13"===document.getElementById("agreementID").value&&"Group 10"===document.getElementById("gID").value&&"4"===document.getElementById("lID").value){(o||n||a)&&""!=r.val()||($(`#${e}`).removeClass("govuk-form-group--error"),$(`.${e}`).removeClass("govuk-form-group--error"),$(`.p_durations_${e}`).html(""))}else(o||n||a)&&""!=r.val()?($(`#${e}`).addClass("govuk-form-group--error"),$(`.${e}`).addClass("govuk-form-group--error"),$(`.p_durations_${e}`).html("Enter a valid day")):($(`#${e}`).removeClass("govuk-form-group--error"),$(`.${e}`).removeClass("govuk-form-group--error"),$(`.p_durations_${e}`).html(""))},c=t=>{const r=t;let o=!r.val().match(/^\d\d?$/),n=Number(r.val())>12,a=Number(r.val())<0;if("RM1043.8"===document.getElementById("agreementID").value&&"Group 18"===document.getElementById("gID").value&&"1"===document.getElementById("lID").value&&removeErrorFieldsdates(),"RM1557.13"===document.getElementById("agreementID").value&&"Group 10"===document.getElementById("gID").value&&"4"===document.getElementById("lID").value&&removeErrorFieldsdates(),"RM1043.8"===document.getElementById("agreementID").value&&"Group 18"===document.getElementById("gID").value&&"1"===document.getElementById("lID").value){n=Number(r.val())>11;(o||n||a)&&""!=r.val()||$(`.p_durations_${e}`).html("")}else if("RM1557.13"===document.getElementById("agreementID").value&&"Group 10"===document.getElementById("gID").value&&"4"===document.getElementById("lID").value){n=Number(r.val())>11;(o||n||a)&&""!=r.val()||$(`.p_durations_${e}`).html("")}else(o||n||a)&&""!=r.val()?$(`.p_durations_${e}`).html("Enter a valid month"):$(`.p_durations_${e}`).html("")},d=t=>{let r=t,o=!r.val().match(/^\d\d?$/),n=Number(r.val())<0;if("RM1043.8"===document.getElementById("agreementID").value&&"Group 18"===document.getElementById("gID").value&&"1"===document.getElementById("lID").value&&removeErrorFieldsdates(),"RM1557.13"===document.getElementById("agreementID").value&&"Group 10"===document.getElementById("gID").value&&"4"===document.getElementById("lID").value&&removeErrorFieldsdates(),"RM6187"===document.getElementById("agreementID").value)(o||n)&&""!=r.val()?$(`.p_durations_${e}`).html("Enter a year"):$(`.p_durations_${e}`).html("");else if("RM1043.8"===document.getElementById("agreementID").value&&"Group 18"===document.getElementById("gID").value&&"1"===document.getElementById("lID").value){endyearCheck=Number(r.val())>2;(o||endyearCheck||n)&&""!=r.val()||($(`#${e}`).removeClass("govuk-form-group--error"),$(`.${e}`).removeClass("govuk-form-group--error"),$(`.p_durations_${e}`).html(""))}else if("RM1557.13"===document.getElementById("agreementID").value&&"Group 10"===document.getElementById("gID").value&&"4"===document.getElementById("lID").value){endyearCheck=Number(r.val())>2;(o||endyearCheck||n)&&""!=r.val()||($(`#${e}`).removeClass("govuk-form-group--error"),$(`.${e}`).removeClass("govuk-form-group--error"),$(`.p_durations_${e}`).html(""))}else(o||n)&&""!=r.val()?($(`#${e}`).addClass("govuk-form-group--error"),$(`.${e}`).addClass("govuk-form-group--error"),$(`.p_durations_${e}`).html("Enter a year between 1 to 4")):($(`#${e}`).removeClass("govuk-form-group--error"),$(`.${e}`).removeClass("govuk-form-group--error"),$(`.p_durations_${e}`).html(""))}}}),$(".btn-sendmsg").on("click",e=>{e.preventDefault(),document.getElementsByClassName("btn-sendmsg")[0].disabled=!0,document.forms.ccs_message_create_form.submit()}),$(".rfp_date").on("submit",e=>{e.preventDefault(),removeErrorFieldsdates(),$(".durations").removeClass("govuk-form-group--error"),$(".resource_start_date").html("");let t=!1,r="",o=[],n=$(".rfp_resource_start_day").val(),a=$(".rfp_resource_start_month").val(),s=$(".rfp_resource_start_year").val(),i=$(".rfp_resource_start_day"),l=$(".rfp_resource_start_month"),c=$(".rfp_resource_start_year"),d="",u="";""!=c.val()&&null!=c.val()&&(d=c.val(),u=!c.val().match(/^\d{4}$/));const m=new Date(s,a-1,n).getTime(),g=new Date;if("RM6187"==document.getElementById("agreementID").value)if(""==n&&""==a&&""==s){t=!0,i.addClass("govuk-form-group--error"),$(".durations").addClass("govuk-form-group--error");let e="Enter a project start date";!0!==(r=ccsZvalidateDateWithRegex("rfp_resource_start_date_day_Question11","rfp_resource_start_date",e,/^\d{1,}$/))?o.push(r):r=ccsZvalidateWithRegex("rfp_resource_start_day",e,/^\d{1,}$/),ccsZPresentErrorSummary(o)}else if(""==n&&""!=a&&""!=s){t=!0;let e="Enter a project start day";i.addClass("govuk-form-group--error"),$("#event-name-error-date").html("Enter a project start day"),$(".durations").addClass("govuk-form-group--error"),r=ccsZvalidateDateWithRegex("rfp_resource_start_date_day_Question11","rfp_resource_start_date",e,/^\d{1,}$/),o.push(r),ccsZPresentErrorSummary(o)}else if(""!=n&&""==a&&""!=s){t=!0;let e="Enter a project start month";l.addClass("govuk-form-group--error"),$("#event-name-error-date").html("Enter a project start year"),$(".durations").addClass("govuk-form-group--error"),r=ccsZvalidateDateWithRegex("rfp_resource_start_date_month_Question11","rfp_resource_start_date",e,/^\d{1,}$/),o.push(r),ccsZPresentErrorSummary(o)}else if(""!=n&&""!=a&&""==s){t=!0;let e="Enter a project start year";c.addClass("govuk-form-group--error"),$("#event-name-error-date").html("Enter a project start year"),$(".durations").addClass("govuk-form-group--error"),r=ccsZvalidateDateWithRegex("rfp_resource_start_date_year_Question11","rfp_resource_start_date",e,/^\d{1,}$/),o.push(r),ccsZPresentErrorSummary(o)}else if(""!=n&&""==a&&""==s){t=!0;let e="Enter a project start month and year";l.addClass("govuk-form-group--error"),$("#event-name-error-date").html("Enter a project start month and year"),$(".durations").addClass("govuk-form-group--error"),r=ccsZvalidateDateWithRegex("rfp_resource_start_date_month_Question11","rfp_resource_start_date",e,/^\d{1,}$/),o.push(r),ccsZPresentErrorSummary(o)}else if(""==n&&""!=a&&""==s){t=!0;let e="Enter a project start day and year";i.addClass("govuk-form-group--error"),$("#event-name-error-date").html("Enter a project start day and year"),$(".durations").addClass("govuk-form-group--error"),r=ccsZvalidateDateWithRegex("rfp_resource_start_date_day_Question11","rfp_resource_start_date",e,/^\d{1,}$/),o.push(r),ccsZPresentErrorSummary(o)}else if(""==n&&""==a&&""!=s){t=!0;let e="Enter a project start day and month";i.addClass("govuk-form-group--error"),$("#event-name-error-date").html("Enter a project start day and month"),$(".durations").addClass("govuk-form-group--error"),r=ccsZvalidateDateWithRegex("rfp_resource_start_date_day_Question11","rfp_resource_start_date",e,/^\d{1,}$/),o.push(r),ccsZPresentErrorSummary(o)}else if(d<1||u){t=!0;let e="Enter a year using the YYYY format";if(t=!0,i.addClass("govuk-form-group--error"),l.addClass("govuk-form-group--error"),c.addClass("govuk-form-group--error"),$(".durations").addClass("govuk-form-group--error"),!0!==(r=ccsZvalidateWithRegex("rfp_resource_start_date",e,/^\d{1,}$/))?o.push(r):r=ccsZvalidateWithRegex("rfp_resource_start_date",e,/^\d{1,}$/),o.length>0)return ccsZPresentErrorSummary(o),!1}else if(m<g.getTime()&&(t=!0,i.addClass("govuk-form-group--error"),l.addClass("govuk-form-group--error"),c.addClass("govuk-form-group--error"),$(".durations").addClass("govuk-form-group--error"),!0!==(r=ccsZvalidateWithRegex("rfp_resource_start_date","Enter a project start date in the future",/^\d{1,}$/))?o.push(r):r=ccsZvalidateWithRegex("rfp_resource_start_date","Enter a project start date in the future",/^\d{1,}$/),o.length>0))return ccsZPresentErrorSummary(o),!1;if(0==t)if("RM1043.8"!==document.getElementById("agreementID").value&&"RM1557.13"!==document.getElementById("agreementID").value){let e="",t=[];if(ccsZPresentErrorSummary(),removeErrorFieldsdates(),checkResourceStartDate()){let r=isProjectStartDateValid();if(r){let r=!1;const o=document.getElementsByClassName("rfp_duration_year_25"),n=document.getElementsByClassName("rfp_duration_month_25"),a=document.getElementsByClassName("rfp_duration_day_25");if(""!=o[0].value||""!=n[0].value||""!=a[0].value){Number(o[0].value);const s=Number(n[0].value),i=Number(a[0].value);if((s<0||s>12)&&(r=!0),(i<0||i>31)&&(r=!0),r&&(!0!==(e=ccsZvalidateWithRegex("rfp_duration_Question12","Enter the valid project date",/^\d{1,}$/))&&t.push(e),t.length>0))return void ccsZPresentErrorSummary(t)}if((""!=o[1].value||""!=n[1].value||""!=a[1].value)&&(yrValidation2=validateExtPeriod(),yrValidation2&&(!0!==(e=ccsZvalidateWithRegex("rfp_duration_Question13","Extension period must be 50% of the contract period or less",/^\d{1,}$/))&&t.push(e),t.length>0)))return void ccsZPresentErrorSummary(t)}r&&document.forms.rfp_date.submit()}}else if(null!==document.getElementById("agreementID"))if("RM1043.8"===document.getElementById("agreementID").value&&"Group 18"===document.getElementById("gID").value&&"1"===document.getElementById("lID").value)isValid=isProjectExtensionValid(),isValid&&document.forms.rfp_date.submit();else if("RM1043.8"===document.getElementById("agreementID").value&&"Group 17"===document.getElementById("gID").value&&"1"===document.getElementById("lID").value){let e;removeErrorFieldsdates(),checkResourceStartDate()&&(e=isProjectStartDateValid()),e&&document.forms.rfp_date.submit()}else if("RM1557.13"===document.getElementById("agreementID").value&&"Group 10"===document.getElementById("gID").value&&"4"===document.getElementById("lID").value)isValid=isProjectExtensionValid(),isValid&&document.forms.rfp_date.submit();else if("RM1557.13"===document.getElementById("agreementID").value&&"Group 9"===document.getElementById("gID").value&&"4"===document.getElementById("lID").value){let e;checkResourceStartDate()&&(e=isProjectStartDateValid()),e&&document.forms.rfp_date.submit()}else isValid=isProjectStartDateValid(),isValid&&document.forms.rfp_date.submit()}),$(".textlimit").keyup(function(e){var t=$(this).val().length;$(this).val();e.which;if(t>=1)return removeErrorFieldsdates(),!1}),$(".textlimit").keypress(function(e){var t=$(this).val().length;$(this).val();e.which;if(t>=1)return removeErrorFieldsdates(),!1}),$(".daylimit").keyup(function(e){var t=$(this).val().length;let r=$(this).val();e.which;if(t>=2&&(Number(r)>0||Number(r)<31))return removeErrorFieldsdates(),!1}),$(".daylimit").keypress(function(e){var t=$(this).val().length;let r=$(this).val();e.which;if(t>=2&&(Number(r)>0||Number(r)<31))return removeErrorFieldsdates(),!1}),$(".daymonthlimit").keyup(function(e){var t=$(this).val().length;$(this).val();e.which;if(t>=2)return removeErrorFieldsdates(),!1}),$(".daymonthlimit").keypress(function(e){var t=$(this).val().length;$(this).val();e.which;if(t>=2)return removeErrorFieldsdates(),!1}),$(".startdateyearlimit").keyup(function(e){var t=$(this).val().length;$(this).val();e.which;if(t>=4)return removeErrorFieldsdates(),!1}),$(".startdateyearlimit").keypress(function(e){var t=$(this).val().length;$(this).val();e.which;if(t>=4)return removeErrorFieldsdates(),!1}),$(".yearlimit").keyup(function(e){var t=$(this).val().length;$(this).val();e.which;if(t>=1)return removeErrorFieldsdates(),!1}),$(".yearlimit").keypress(function(e){var t=$(this).val().length;$(this).val();e.which;if(t>=1)return removeErrorFieldsdates(),!1});const removeErrorFieldsdates=()=>{$(".govuk-error-message").remove(),$(".govuk-form-group--error").removeClass("govuk-form-group--error"),$(".govuk-error-summary").remove(),$(".govuk-input").removeClass("govuk-input--error"),$(".govuk-form-group textarea").removeClass("govuk-textarea--error")};function validateExtPeriod(){let e=0;const t=document.getElementsByClassName("rfp_duration_year_25"),r=document.getElementsByClassName("rfp_duration_month_25"),o=document.getElementsByClassName("rfp_duration_day_25"),n=Number(t[0].value),a=Number(r[0].value),s=Number(o[0].value),i=Number(t[1].value),l=Number(r[1].value),c=Number(o[1].value);let d=0;n>0&&(d=365*n),a>0&&(d+=30*a),s>0&&(d+=s);let u=0;if(i>0&&(u=365*i),l>0&&(u+=30*l),c>0&&(u+=c),d>u){u/d*100>50&&(e=1)}else e=2;return e}function validateStartDate(){let e="";const t=$(".rfp_resource_start_day"),r=$(".rfp_resource_start_month"),o=$(".rfp_resource_start_year");if(null!==t.val()&&""!==t.val()&&null!==r.val()&&""!==r.val()&&null!==o.val()&&""!==o.val()){let n;if($("#rpf_section_3_aggrimentEndDate").attr("agreementEndDate")&&(n=$("#rpf_section_3_aggrimentEndDate").attr("agreementEndDate").split("-")),null!=n&&n.length>0){const a=null!=n&&null!=n?Number(n[0]):null,s=(null!=n&&null!=n?Number(n[1]):null)-1,i=null!=n&&null!=n?Number(n[2]):null,l=null!=a&&null!=s&&null!=i?new Date(a,s,i):null,c=null!=l?l.getTime():null,d=new Date(o.val(),r.val()-1,t.val()),u=d.getTime(),m=new Date;u>c&&(e="It is recommended that your project does not start after lot expiry date"),d.setHours(0,0,0,0)!=m.setHours(0,0,0,0)&&u<m.getTime()&&(e="Enter a date in the future")}}return e}var allWords="",wordCount=0;const MaxWordLimits=500;$("#completed_work").on("keypress focus mouseleave",()=>{allWords=$("#completed_work").val(),(wordCount=allWords.split(" ").length)>500?($(".govuk-error-summary__title").text("There is a problem"),$("#work_location_word_error").text("Total Words: "+wordCount+" out of 500"),$("#summary_list").html('<li><a href="#">Words limit exceeded</a></li> '),$([document.documentElement,document.body]).animate({scrollTop:$("#summary_list").offset().top},1e3),$("#service_capability_error_summary").removeClass("hide-block"),document.getElementById("completed_work").classList.add("govuk-input--error")):($(".govuk-error-summary__title").text(""),$("#work_location_word_error").text(""),$("#service_capability_error_summary").addClass("hide-block"),document.getElementById("completed_work").classList.remove("govuk-input--error"))}),$("#rfp_work_completed").on("submit",e=>{wordCount>500?e.preventDefault():$("#rfp_work_completed").submit()}),$('input[type="radio"]').on("click change",function(e){"Yes"===e.currentTarget.value?$("#conditional-rfp_radio_security_confirmation").fadeIn():$("#conditional-rfp_radio_security_confirmation").hide()});const removeErrorFieldsRfpIR35=()=>{$(".govuk-error-message").remove(),$(".govuk-form-group--error").removeClass("govuk-form-group--error"),$(".govuk-error-summary").remove(),$(".govuk-input").removeClass("govuk-input--error"),$(".govuk-form-group textarea").removeClass("govuk-textarea--error")};$("#rfp_IR35_form").on("submit",e=>{e.preventDefault();const t=document.getElementById("ccs_vetting_type").checked,r=document.getElementById("ccs_vetting_type-2").checked;t||r?document.forms.rfp_IR35_form.submit():($(".govuk-error-message").remove(),$(".govuk-form-group--error").removeClass("govuk-form-group--error"),$(".govuk-error-summary").remove(),$(".govuk-input").removeClass("govuk-input--error"),$(".govuk-form-group textarea").removeClass("govuk-textarea--error"),ccsZPresentErrorSummary([errorStore=["There is a problem","You must confirm if you need a contracted out service or a supply of resource"]]))}),document.addEventListener("DOMContentLoaded",()=>{const e=$("#rfp_percentage_form");if(void 0!==e&&e.length>0){addEventListener("input",e=>{e.target.value=e.target.value.replace(/[^0-9\.]/g,"")});$("form input[type='number']");let e=document.querySelectorAll("[name='percentage']"),t=()=>{let t=0;e.forEach(e=>{t+=isNaN(e.value)?0:Number(e.value)}),$("#totalPercentage").text(t),$("#totalPercentageDown").text(t)};e.forEach(e=>{e.addEventListener("focusout",t),e.addEventListener("keydown",e=>{"."!==e.key&&69!==e.keyCode||e.preventDefault()})}),t()}});const checkPercentagesCond=()=>{removeErrorFieldsRfpPercentage();let e="",t=[];const r=new URLSearchParams(window.location.search).get("agreement_id");let o;null!==document.getElementById("lID")&&(o=document.getElementById("lID").value);let n=$("form input[type='number']"),a=0;console.log(Number($("#totalPercentage").text()));for(let o=0;o<n.length;o++){a+=Number(n[o].value);var s=$("#range_p"+n[o].id.replace(" ","")).attr("range"),i=$("#getSubTitle"+n[o].id.replace(" ","")).html();if(!i.includes("optional")&&""==n[o].value||n[o].value<0)!0!==(e="Social value"!=i?"RM6187"==r?ccsZvalidateWithRegex(n[o].id,"You must enter "+i.toLowerCase()+" range between ["+s.split("-")[0]+"-"+s.split("-")[1]+"%]",/\w+/,!1):"RM1043.8"==r&&i.includes("Essential skills and experience")?ccsZvalidateWithRegex(n[o].id,"Enter a weighting for essential skills and experience",!1):"RM1043.8"==r&&i.includes("Technical questions")?ccsZvalidateWithRegex(n[o].id,"Enter a weighting for technical questions",!1):ccsZvalidateWithRegex(n[o].id+"-hint","RM1043.8"==r?"Enter a weighting for "+i.toLowerCase()+" between "+s.split("-")[0]+" and "+s.split("-")[1]+"%":"Enter a weighting for "+i.toLowerCase()+" between "+s.split("-")[0]+" % and "+s.split("-")[1]+"%",/\w+/,!1):("RM1043.8"==r&&i.includes("Social value"),ccsZvalidateWithRegex(n[o].id,"Enter a weighting for "+i.toLowerCase()+" that is 0% or between "+s.split("-")[0]+" and "+s.split("-")[1]+"%",/\w+/,!1)))&&t.push(e);else if(Number(n[o].value)>=0&&"Social value"!=i){(l=checkRange(s.split("-")[0],s.split("-")[1],n[o].value)).start?!0!==(e=ccsZvalidateWithRegex(n[o].id,"RM1043.8"==r?"Range value between "+s.split("-")[0]+"%-"+s.split("-")[1]+"%":"Range value between ["+s.split("-")[0]+"%-"+s.split("-")[1]+"%]",/\w+/,!1))&&t.push(e):l.end&&!0!==(e=ccsZvalidateWithRegex(n[o].id,"RM1043.8"==r?"Range value between "+s.split("-")[0]+"%-"+s.split("-")[1]+"%":"Range value between ["+s.split("-")[0]+"%-"+s.split("-")[1]+"%]",/\w+/,!1))&&t.push(e)}else if(Number(n[o].value)>0&&"Social value"==i&&"RM1043.8"==r){var l;(l=checkRange(s.split("-")[0],s.split("-")[1],n[o].value)).start?!0!==(e=ccsZvalidateWithRegex(n[o].id,"Range value between 0%, or "+s.split("-")[0]+"-"+s.split("-")[1]+"%",/\w+/,!1))&&t.push(e):l.end&&(console.log(s),!0!==(e=ccsZvalidateWithRegex(n[o].id,"Range value between 0%, or "+s.split("-")[0]+"-"+s.split("-")[1]+"%",/\w+/,!1))&&t.push(e))}}return t},checkRange=(e,t,r)=>{let o=!1,n=!1;return Number(r)<Number(e)?{start:o=!0,end:n}:Number(r)>Number(t)?{start:o,end:n=!0}:{start:o,end:n}},ccsZvalidateRfpPercentages=e=>{e.preventDefault();const t=new URLSearchParams(window.location.search).get("agreement_id");let r;null!==document.getElementById("lID")&&(r=document.getElementById("lID").value);let o=[];const n=document.getElementById("page-heading").innerHTML;let a=document.querySelectorAll("[name='percentage']"),s=0;a.forEach(e=>{s+=isNaN(e.value)?0:Number(e.value)}),o=null==o||o.length<=0?checkPercentagesCond():o,checkPercentagesCond(),(n.includes("Set the overall weighting between quality and price")||n.includes("Set the quality weightings"))&&(s>100||s<100)&&(o.push(["#","Your total percentage must be 100%"]),ccsZPresentErrorSummary(o)),n.includes("Set the overall weighting")&&(s>100||s<100)&&"RM1043.8"==t&&(o.push(["#","The weightings must add up to 100% in total"]),ccsZPresentErrorSummary(o)),n.includes("Set the specific weighting of quality groups")&&(s>100||s<100)&&("RM6187"==t||"RM1557.13"==t)&&(o.push(["#","Your total percentage must be 100%"]),ccsZPresentErrorSummary(o)),n.includes("Set the overall weighting for quality")&&(s>100||s<100)&&(o.push(["#","The weightings must add up to 100% in total"]),ccsZPresentErrorSummary(o)),(n.includes("Technical Competence")||n.includes("Technical competence"))&&(s>100||s<100)&&(o.push(["#","The weightings must add up to 100% in total"]),ccsZPresentErrorSummary(o)),null==o||0===o.length?document.forms.rfp_percentage_form.submit():ccsZPresentErrorSummary(o)},removeErrorFieldsRfpPercentage=()=>{$(".govuk-error-message").remove(),$(".govuk-form-group--error").removeClass("govuk-form-group--error"),$(".govuk-error-summary").remove(),$(".govuk-input").removeClass("govuk-input--error"),$(".govuk-form-group textarea").removeClass("govuk-textarea--error")};$(".questionweightagelimit").on("keypress",function(e){removeErrorFieldsRfpPercentage();let t=$(this).val();var r=(e=e||window.event).which?e.which:e.keyCode;return!(r>31&&(r<48||r>57)||t.length>=3)}),document.addEventListener("DOMContentLoaded",()=>{if(null!==document.getElementById("ccs_rfp_procurement_lead")){document.getElementById("ccs_rfp_procurement_lead").addEventListener("change",function(t){t.preventDefault(),$.ajax({url:"/rfp/users-procurement-lead?id="+t.target.value,type:"GET",contentType:"application/json"}).done(function(t){e(t)}).fail(e=>{document.getElementById("rfp-lead-email").innerText="",document.getElementById("rfp-lead-telephone").innerText=""})});const e=e=>{document.getElementById("rfp-lead-email").innerText=e.userName,document.getElementById("rfp-lead-telephone").innerText="1",document.getElementById("rfp_procurement_lead_input").value=e.userName}}}),$(".add").addClass("ccs-dynaform-hidden");const Selector=$(".quality_group"),SelectorLen=Selector.length;function preventNumberInput(e){var t=e.keyCode?e.keyCode:e.which;(t>47&&t<58||t>95&&t<107)&&e.preventDefault()}$("#quality_group_form").on("submit",e=>{const t=[];for(var r=0,o=0;o<3;o++){const e=document.getElementsByClassName("quality_group")[o].value;""==e||isNaN(e)?(document.getElementsByClassName("quality_group")[o].classList.add("govuk-input--error"),document.getElementsByClassName("quality_group_t")[o].innerHTML="The format of the following input is invalid",t.push(!0)):r+=Number(e)}if(t.length>0&&e.preventDefault(),r>100){e.preventDefault(),$(".govuk-error-summary__title").text("There is a problem"),$("#summary_list").html('<li><a href="#">The total weighting is greater than 100%</a></li> '),$([document.documentElement,document.body]).animate({scrollTop:$("#summary_list").offset().top},1e3),$("#service_capability_error_summary").removeClass("hide-block");for(o=0;o<SelectorLen;o++){const e=document.getElementsByClassName("quality_group")[o].value;""==e||isNaN(e)?(document.getElementsByClassName("quality_group")[o].classList.add("govuk-input--error"),document.getElementsByClassName("quality_group_t")[o].innerHTML="The format of the following input is invalid"):(document.getElementsByClassName("quality_group")[o].classList.add("govuk-input--error"),document.getElementsByClassName("quality_group_t")[o].innerHTML="The total weighting is greater than 100%")}e.preventDefault()}else $("#quality_group_form").submit()}),document.addEventListener("DOMContentLoaded",()=>{const e=window.location.search,t=new URLSearchParams(e);$(".rpf_500").attr("maxlength","500"),$(".rpf_5000").attr("maxlength","5000"),$(".rpf_10000").attr("maxlength","10000"),"RM1043.8"==t.get("agreement_id")&&($("#rfp_prob_statement_d").attr("maxlength","500"),$("#rfp_prob_statement_e").attr("maxlength","5000"),$("#rfp_prob_statement_g").attr("maxlength","5000"),$("#rfp_prob_statement_t").attr("maxlength","5000"),$("#rfp_prob_statement_m").attr("maxlength","5000"),$("#rfp_prob_statement_n").attr("maxlength","5000"),$("#rfp_prob_statement_s").attr("maxlength","5000"),$(".min_supplier").attr("maxlength","8"));const r=()=>{$(".govuk-error-message").remove(),$(".govuk-form-group--error").removeClass("govuk-form-group--error"),$(".govuk-error-summary").remove(),$(".govuk-input").removeClass("govuk-input--error"),$(".govuk-form-group textarea").removeClass("govuk-textarea--error")},o=$("#rfp_multianswer_question_form");if(void 0!==o&&o.length>0){$(".additional").addClass("ccs-dynaform-hidden");let e=50,o=0,m=document.querySelectorAll("a.del"),g=[],p=document.querySelectorAll(".weightage"),v=document.querySelectorAll(".order_1"),f=document.querySelectorAll(".order_2"),h=new URLSearchParams(window.location.search),y=()=>{let e=[],t=0;if(p.forEach(e=>{t+=isNaN(e.value)?0:Number(e.value)}),t>100){if(e=_(),"RM1043.8"!=h.get("agreement_id")||"Criterion 2"!=h.get("id")||"Group 9"!=h.get("group_id")&&"Group 5"!=h.get("group_id")&&"Group 6"!=h.get("group_id")&&"Group 7"!=h.get("group_id")&&"Group 8"!=h.get("group_id")||5!=h.get("section"))"RM1557.13"!=h.get("agreement_id")||"Criterion 2"!=h.get("id")||"Group 4"!=h.get("group_id")&&"Group 6"!=h.get("group_id")||5!=h.get("section")?e.push(["There is a problem","The total weighting exceeded more than 100%"]):e.push(["There is a problem","The weighting must add up to 100% in total"]);else{let o=$(".order_1").filter(function(){return""!==this.value}).length;var r;0==e.length&&(r=ccsZvalidateWeihtageValue("fc_question_precenate_"+o,"The total weighting is exceeded more than 100%",t),e.push(r))}ccsZPresentErrorSummary(e)}h.get("agreement_id"),$("#totalPercentage").html(t),$("#totalPercentageDown").html(t)};v.forEach(e=>{e.addEventListener("keydown",e=>{r()})}),f.forEach(e=>{e.addEventListener("keydown",e=>{r()})}),p.forEach(e=>{e.addEventListener("focusout",y),e.addEventListener("keydown",e=>{r(),"."!==e.key&&69!==e.keyCode||e.preventDefault()})});const E=()=>{let e=$(".order_1").filter(function(){return""!==this.value}).length;h.get("agreement_id"),$("#questionsCount").html(e)};E(),y(),m.forEach(t=>{t.classList.add("ccs-dynaform-hidden"),t.addEventListener("click",r=>{r.preventDefault();let o,n=new URLSearchParams(window.location.search);null!==document.getElementById("lID")&&(o=document.getElementById("lID").value);let a=r.target.href.replace(/^(.+\/)(\d{1,2})$/,"$2"),s=Number(a)-1,i=t.closest("div"),c=i.nextElementSibling,d=Number(a),u=Number(a);if(20!=a){let e=1,t=[];for(;c;){let r=c.classList;if(void 0!==Object.keys(r).find(e=>"closeCCS"===r[e])&&void 0===Object.keys(r).find(e=>"ccs-dynaform-hidden"===r[e])){let r=u;if(u+=1,t.push(u),1==e){let e,t,o;if(document.getElementsByClassName("class_question_remove_"+u)[0]&&(e=document.getElementsByClassName("class_question_remove_"+u)[0].value,document.getElementsByClassName("class_question_remove_"+r)[0].value=e),document.getElementsByClassName("class_question_remove_"+u)[1]){var m=document.getElementsByClassName("class_question_remove_"+u)[1].value;document.getElementsByClassName("class_question_remove_"+r)[1].value=m}document.getElementsByClassName("class_question_remove_"+u)[2]&&(o=document.getElementsByClassName("class_question_remove_"+u)[2].value,document.getElementsByClassName("class_question_remove_"+r)[2].value=o),document.getElementById("fc_question_precenate_"+u)&&(t=document.getElementById("fc_question_precenate_"+u).value,document.getElementById("fc_question_precenate_"+r).value=t)}else{let e,t,o;if(d+=1,document.getElementsByClassName("class_question_remove_"+u)[0]&&(e=document.getElementsByClassName("class_question_remove_"+u)[0].value,document.getElementsByClassName("class_question_remove_"+r)[0].value=e),document.getElementsByClassName("class_question_remove_"+u)[1]){m=document.getElementsByClassName("class_question_remove_"+u)[1].value;document.getElementsByClassName("class_question_remove_"+r)[1].value=m}document.getElementsByClassName("class_question_remove_"+u)[2]&&(o=document.getElementsByClassName("class_question_remove_"+u)[2].value,document.getElementsByClassName("class_question_remove_"+r)[2].value=o),document.getElementById("fc_question_precenate_"+u)&&(t=document.getElementById("fc_question_precenate_"+u).value,document.getElementById("fc_question_precenate_"+r).value=t)}c=c.nextElementSibling}else c=!1;e++}if(t.length>0){let e=t.at(-1);document.getElementsByClassName("class_question_remove_"+e)[0]&&(document.getElementsByClassName("class_question_remove_"+e)[0].value=""),document.getElementsByClassName("class_question_remove_"+e)[1]&&(document.getElementsByClassName("class_question_remove_"+e)[1].value=""),document.getElementsByClassName("class_question_remove_"+e)[2]&&(document.getElementsByClassName("class_question_remove_"+e)[2].value=""),document.getElementById("fc_question_precenate_"+e)&&(document.getElementById("fc_question_precenate_"+e).value=""),document.querySelector("#fc_question_"+e).classList.add("ccs-dynaform-hidden")}else{i.classList.add("ccs-dynaform-hidden"),document.getElementsByClassName("class_question_remove_"+u)[0]&&(document.getElementsByClassName("class_question_remove_"+u)[0].value=""),document.getElementsByClassName("class_question_remove_"+u)[1]&&(document.getElementsByClassName("class_question_remove_"+u)[1].value=""),document.getElementsByClassName("class_question_remove_"+u)[2]&&(document.getElementsByClassName("class_question_remove_"+u)[2].value=""),document.getElementById("fc_question_precenate_"+u)&&(document.getElementById("fc_question_precenate_"+u).value=""),s>1&&document.querySelector("#fc_question_"+s+" a.del").classList.remove("ccs-dynaform-hidden"),$(".add-another-btn").removeClass("ccs-dynaform-hidden")}}else{i.classList.add("ccs-dynaform-hidden"),document.getElementsByClassName("class_question_remove_"+u)[0]&&(document.getElementsByClassName("class_question_remove_"+u)[0].value=""),document.getElementsByClassName("class_question_remove_"+u)[1]&&(document.getElementsByClassName("class_question_remove_"+u)[1].value=""),document.getElementsByClassName("class_question_remove_"+u)[2]&&(document.getElementsByClassName("class_question_remove_"+u)[2].value=""),document.getElementById("fc_question_precenate_"+u)&&(document.getElementById("fc_question_precenate_"+u).value=""),s>1&&document.querySelector("#fc_question_"+s+" a.del").classList.remove("ccs-dynaform-hidden"),$(".add-another-btn").removeClass("ccs-dynaform-hidden")}e--,E(),y(),"RM1043.8"!=n.get("agreement_id")||"Criterion 2"!=n.get("id")||"Group 5"!=n.get("group_id")&&"Group 6"!=n.get("group_id")||5!=n.get("section")?"RM1043.8"==n.get("agreement_id")&&"Criterion 2"==n.get("id")&&"Group 7"==n.get("group_id")&&5==n.get("section")?$(".btncheck").text("").text("Add another technical question ("+(l-e)+" remaining)"):"RM1043.8"!=n.get("agreement_id")||"Criterion 2"!=n.get("id")||1!=o&&3!=o||"Group 8"!=n.get("group_id")||5!=n.get("section")?"RM1043.8"==n.get("agreement_id")&&"Criterion 2"==n.get("id")&&1==o&&"Group 9"==n.get("group_id")&&5==n.get("section")?$(".btncheck").text("").text("Add another question ("+(l-e)+" remaining)"):"RM1043.8"==n.get("agreement_id")&&"Criterion 3"==n.get("id")&&1==o&&"Group 19"==n.get("group_id")&&$(".btncheck").text("").text("Add another special term or condition "):$(".btncheck").text("").text("Add another question ("+(l-e)+" remaining)"):$(".btncheck").text("").text("Add another skill or experience ("+(l-e)+" remaining)"),21!=e&&$(".add-another-btn").removeClass("ccs-dynaform-hidden")})});var n,a=new URLSearchParams(window.location.search),s=a.get("agreement_id");a.get("group_id");null!==document.getElementById("lID")&&(n=document.getElementById("lID").value);var i=10,l=11;if("RM1043.8"!=a.get("agreement_id")||"Criterion 2"!=a.get("id")||1!=n||"Group 8"!=a.get("group_id")&&"Group 5"!=a.get("group_id")&&"Group 7"!=a.get("group_id")&&"Group 9"!=a.get("group_id")||5!=a.get("section"))if("RM1043.8"==a.get("agreement_id")&&"Criterion 2"==a.get("id")&&"Group 9"==a.get("group_id")&&5==a.get("section")){i=20,l=21;e=20}else if("RM1043.8"==s)i=20,l=21;else if("RM1557.13"==a.get("agreement_id")&&"Criterion 2"==a.get("id")&&"Group 4"==a.get("group_id")){i=20,l=21;e=20}else if("RM1557.13"==a.get("agreement_id")&&"Criterion 2"==a.get("id")&&"Group 6"==a.get("group_id"))i=5,l=6;else if($(".question_count").hasClass("question_count"))i=50,l=51;else{i=10,l=11;e=10}else{var i=20,l=21;e=20}let b=!1;for(var c=i;c>1;c--){let t=document.getElementById("fc_question_"+c);if(null!=t.querySelector(".order_1")&&""!==t.querySelector(".order_1").value){if(t.classList.remove("ccs-dynaform-hidden"),"RM1043.8"!=a.get("agreement_id")&&"RM1557.13"!=a.get("agreement_id")||document.getElementById("del_fc_question_"+c)&&document.getElementById("del_fc_question_"+c).classList.remove("ccs-dynaform-hidden"),a.get("agreement_id"),c===i)$(".add-another-btn").closest(".ccs-page-section").length&&$(".add-another-btn").closest(".ccs-page-section").css("border-bottom","0px");g.push(c)}else if(null!=t.querySelector(".order_2")&&""!==t.querySelector(".order_2").value){if(t.classList.remove("ccs-dynaform-hidden"),"RM1043.8"==a.get("agreement_id")?document.getElementById("del_dos_question_"+c).classList.remove("ccs-dynaform-hidden"):document.getElementById("del_fc_question_"+c).classList.remove("ccs-dynaform-hidden"),c===i)$(".add-another-btn").closest(".ccs-page-section").length&&$(".add-another-btn").closest(".ccs-page-section").css("border-bottom","0px");g.push(c)}else e=c;2===c&&g.length>0&&$("#del_fc_question_"+g[0]).removeClass("ccs-dynaform-hidden")}e>1&&$("#del_fc_question_"+e).removeClass("ccs-dynaform-hidden"),$("#del_dos_question_"+e)&&$("#del_dos_question_"+e).removeClass("ccs-dynaform-hidden");var d=$("div.ccs-dynaform-hidden").length;if(30==d&&20==e&&"RM1557.13"==t.get("agreement_id")&&"Criterion 2"==t.get("id")&&"Group 4"==t.get("group_id")&&e++,0==d&&50==e&&"RM1557.13"==t.get("agreement_id")&&"Criterion 3"==t.get("id")&&"Group 18"==t.get("group_id")&&e++,"RM1043.8"!=a.get("agreement_id")||"Criterion 2"!=a.get("id")||"Group 5"!=a.get("group_id")&&"Group 6"!=a.get("group_id")||5!=a.get("section")?"RM1043.8"==a.get("agreement_id")&&"Criterion 2"==a.get("id")&&"Group 7"==a.get("group_id")&&5==a.get("section")?$(".btncheck").text("").text("Add another technical question ("+(l-e)+" remaining)"):"RM1043.8"!=a.get("agreement_id")||"Criterion 2"!=a.get("id")||1!=n&&3!=n||"Group 8"!=a.get("group_id")||5!=a.get("section")?"RM1043.8"==a.get("agreement_id")&&"Criterion 2"==a.get("id")&&1==n&&"Group 9"==a.get("group_id")&&5==a.get("section")?$(".btncheck").text("").text("Add another question ("+(l-e)+" remaining)"):"RM1043.8"==a.get("agreement_id")&&"Criterion 3"==a.get("id")&&1==n&&"Group 19"==a.get("group_id")&&$(".btncheck").text("").text("Add another special term or condition "):$(".btncheck").text("").text("Add another question ("+(l-e)+" remaining)"):$(".btncheck").text("").text("Add another skill or experience ("+(l-e)+" remaining)"),$(".add-another-btn").on("click",function(){y(),errorStore=[];let c=0;c=$(".order_1").length>0?$(".order_1").filter(function(){return""!==this.value}).length:$(".order_2").filter(function(){return""!==this.value}).length;let u=document.getElementById("fc_question_"+c);"RM1043.8"==a.get("agreement_id")&&19==c&&20==e&&null!=u.querySelector(".weightage")&&null!=u.querySelector(".weightage")&&0!=u.querySelector(".weightage").value.length&&"0"!=u.querySelector(".weightage").value&&0==errorStore.length&&$(".add-another-btn").addClass("ccs-dynaform-hidden"),"RM1043.8"!=a.get("agreement_id")&&50==e&&$(".add-another-btn").addClass("ccs-dynaform-hidden"),"RM6187"!=a.get("agreement_id")||"Group 4"!=a.get("group_id")&&"Group 6"!=a.get("group_id")||"Criterion 2"!=a.get("id")||10!=e||$(".add-another-btn").addClass("ccs-dynaform-hidden");$("#fc_question_precenate_"+c).val();if("RM1557.13"!=a.get("agreement_id")||"Group 4"!=a.get("group_id")&&"Group 6"!=a.get("group_id")||"Criterion 2"!=a.get("id")||10!=e||0==errorStore.length||$(".add-another-btn").addClass("ccs-dynaform-hidden"),c<=20&&"RM1043.8"==a.get("agreement_id")&&"Criterion 2"==a.get("id")&&("Group 8"==a.get("group_id")||"Group 5"==a.get("group_id")||"Group 6"==a.get("group_id")||"Group 7"==a.get("group_id"))&&5==a.get("section"))if(c<l-1&&Number($("#totalPercentage").text())>=100){errorStore=_();let e=1;c>0&&(e=c);var m=ccsZvalidateWithRegex("fc_question_precenate_"+e,"The total weighting is 100% so you can not add more questions",/\wd+/);errorStore.push(m),m&&$(".add-another-btn").removeClass("ccs-dynaform-hidden")}else if(c==l-1){if("RM6187"!=a.get("agreement_id")||"Group 4"!=a.get("group_id")&&"Group 6"!=a.get("group_id")||"Criterion 2"!=a.get("id")||10!=e||$(".add-another-btn").addClass("ccs-dynaform-hidden"),c<=20&&"RM1043.8"==a.get("agreement_id")&&"Criterion 2"==a.get("id")&&("Group 9"==a.get("group_id")||"Group 8"==a.get("group_id")||"Group 5"==a.get("group_id")||"Group 6"==a.get("group_id")||"Group 7"==a.get("group_id"))&&5==a.get("section"))if(c<l-1&&Number($("#totalPercentage").text())>=100){errorStore=_();let e=1;c>0&&(e=c);m=ccsZvalidateWithRegex("fc_question_precenate_"+e,"The total weighting is 100% so you can not add more questions",/\wd+/);errorStore.push(m),m&&$(".add-another-btn").removeClass("ccs-dynaform-hidden")}else if(c==l-1){if($(".govuk-error-summary").remove(),$(".govuk-form-group--error").remove(),r(),Number($("#totalPercentage").text())<100){m=ccsZvalidateWeihtageValue("fc_question_precenate_"+c,"The total weighting is less than 100%",Number($("#totalPercentage").text()));errorStore.push(m)}}else{let r=$("#fc_question_"+c+"_1").val(),o=$("#fc_question_precenate_"+c).val();if(null!=r||null!=r||""!=r)if(null==r||0==r.length||""!=o&&null!=o&&null!=o)errorStore=_();else{let e="You must enter percentage";"Group 5"==t.get("group_id")?e="Enter a weighting for this essential skill or experience":"Group 6"==t.get("group_id")?e="Enter a weighting for this nice-to-have skill or experience":"Group 7"==t.get("group_id")?e="Enter a weighting for this technical question":1==n&&"Group 8"==t.get("group_id")?e="Enter a weighting for this cultural fit question":3==n&&"Group 8"==t.get("group_id")&&(e="Enter a weighting for this social value question");var g=ccsZvalidateWithRegex("fc_question_precenate_"+c,e,/\w+/);errorStore.push(g)}else{let t=$("#fc_question_"+e+"_1").val();$("#fc_question_precenate_"+e).val();""==t.trim()&&null==t&&null==t||(errorStore=_())}}errorStore.push(["There is a problem","Cannot add another question already "+c+" questions created"]),$(".add-another-btn").closest(".ccs-page-section").length&&$(".add-another-btn").closest(".ccs-page-section").css("border-bottom","0px")}else{let r=$("#fc_question_"+c+"_1").val(),o=$("#fc_question_precenate_"+c).val();if(null!=r||null!=r||""!=r)if(null==r||0==r.length||""!=o&&null!=o&&null!=o)errorStore=_();else{let e="You must enter percentage";"Group 5"==t.get("group_id")?e="Enter a weighting for this essential skill or experience":"Group 6"==t.get("group_id")?e="Enter a weighting for this nice-to-have skill or experience":"Group 7"==t.get("group_id")?e="Enter a weighting for this technical question":1==n&&"Group 8"==t.get("group_id")?e="Enter a weighting for this cultural fit question":3==n&&"Group 8"==t.get("group_id")&&(e="Enter a weighting for this social value question");g=ccsZvalidateWithRegex("fc_question_precenate_"+c,e,/\w+/);errorStore.push(g)}else{let t=$("#fc_question_"+e+"_1").val();$("#fc_question_precenate_"+e).val();""==t.trim()&&null==t&&null==t||(errorStore=_())}}else if("RM1043.8"==a.get("agreement_id")&&"Criterion 2"==a.get("id")&&"Group 9"==a.get("group_id")&&5==a.get("section")){if(c<=20)if(c<l-1&&Number($("#totalPercentage").text())>=100){errorStore=_();let e=1;c>0&&(e=c);m=ccsZvalidateWithRegex("fc_question_precenate_"+e,"The total weighting is 100% so you can not add more questions",/\wd+/);errorStore.push(m),m&&$(".add-another-btn").removeClass("ccs-dynaform-hidden")}else if(c==l-1){if($(".govuk-error-summary").remove(),$(".govuk-form-group--error").remove(),r(),Number($("#totalPercentage").text())<100){m=ccsZvalidateWeihtageValue("fc_question_precenate_"+c,"The total weighting is less than 100%",Number($("#totalPercentage").text()));errorStore.push(m)}errorStore.push(["There is a problem","Cannot add another question already "+c+" questions created"]),$(".add-another-btn").closest(".ccs-page-section").length&&$(".add-another-btn").closest(".ccs-page-section").css("border-bottom","0px")}else{let t=$("#fc_question_"+c+"_1").val(),r=$("#fc_question_precenate_"+c).val();if(null!=t||null!=t||""!=t)if(null==t||0==t.length||""!=r&&null!=r&&null!=r)errorStore=_();else{g=ccsZvalidateWithRegex("fc_question_precenate_"+c,"Enter a weighting for this social value question",/\w+/);errorStore.push(g)}else{let t=$("#fc_question_"+e+"_1").val();$("#fc_question_precenate_"+e).val();""==t.trim()&&null==t&&null==t||(errorStore=_())}}}else if(c<=20&&"RM1043.8"==a.get("agreement_id")&&"Criterion 3"==a.get("id")&&("Group 15"==a.get("group_id")||"Group 19"==a.get("group_id"))||3==n&&"Group 17"==a.get("group_id")){r();for(var p=1;p<l;p++){const e=document.querySelector("#fc_question_"+p).querySelectorAll("textarea");let t=$("#fc_question_"+p).hasClass("ccs-dynaform-hidden");if(null!=e&&null!=e&&e.length>0)for(let r=0;r<e.length;r++){const o=e[r];if(ccsZremoveErrorMessage(o),""==o.value&&r>=0&&0==t){let e="";e="Group 19"==a.get("group_id")||3==n&&"Group 17"==a.get("group_id")?"Enter your special terms and conditions":"Group 15"==a.get("group_id")?"Enter accessibility requirements":"You must add information in all fields";let t=ccsZvalidateWithRegex(o.id,e,/^.+$/);errorStore.push(t)}19==c&&$(".add-another-btn").addClass("ccs-dynaform-hidden")}}}else if(c<=i)if(c<l-1&&Number($("#totalPercentage").text())>=100)"RM1557.13"!=t.get("agreement_id")||"Group 4"!=t.get("group_id")&&"Group 6"!=t.get("group_id")?"RM6187"==t.get("agreement_id")&&"Group 4"==t.get("group_id")?(errorStore=_()).push(["There is a problem","The total weighting is 100% so you cannot add more questions without changing your weightings"]):(errorStore=_()).push(["There is a problem","The total weighting is 100% so you can not add more questions"]):(errorStore=_()).push(["There is a problem","The total weighting is 100% so you cannot add more questions without changing your weightings"]);else if(c==l-1){if($(".govuk-error-summary").remove(),$(".govuk-form-group--error").remove(),r(),Number($("#totalPercentage").text())<100){m=ccsZvalidateWeihtageValue("fc_question_precenate_"+c,"The total weighting is less than 100%",Number($("#totalPercentage").text()));errorStore.push(m)}errorStore.push(["There is a problem","Cannot add another question already "+c+" questions created"]),$(".add-another-btn").closest(".ccs-page-section").length&&$(".add-another-btn").closest(".ccs-page-section").css("border-bottom","0px")}else{let r=$("#fc_question_"+c+"_1").val(),o=$("#fc_question_precenate_"+c).val();const n=document.getElementById("page-heading").innerHTML;if(null!=r||null!=r||""!=r)if(null==r||0==r.length||""!=o&&null!=o&&null!=o&&0!=o||n.includes("Enter your project requirements"))errorStore=_();else if("RM1557.13"==t.get("agreement_id")||"RM6187"==t.get("agreement_id")&&"Criterion 2"==t.get("id")&&("Group 4"==t.get("group_id")||"Group 6"==t.get("group_id"))){g=ccsZvalidateWeihtageValue("fc_question_precenate_"+c,"You must enter valid percentage","",0,!1);errorStore.push(g)}else{g=ccsZvalidateWithRegex("fc_question_precenate_"+c,"Enter a weighting for this social value question",/\w+/);errorStore.push(g)}else{let t=$("#fc_question_"+e+"_1").val();$("#fc_question_precenate_"+e).val();""==t.trim()&&null==t&&null==t||(errorStore=_())}}if(0==errorStore.length){if(o=e-1,b=!0,"RM1043.8"==s&&e>20&&(e=20),46==d&&49==e&&"RM1557.13"==t.get("agreement_id")&&"Criterion 2"==t.get("id")&&"Group 6"==t.get("group_id")&&(e=5),null!==document.getElementById("lID")&&(LOTID_VAR=document.getElementById("lID").value),"RM1043.8"==s){let t=document.getElementById("fc_question_"+e).value,r="";null!=document.getElementById("fc_question_precenate_"+e)&&null!=document.getElementById("fc_question_precenate_"+e)&&(r=document.getElementById("fc_question_precenate_"+e).value),""!=t&&""!=r?20==e?$(".add-another-btn").addClass("ccs-dynaform-hidden"):(e++,document.getElementById("fc_question_"+e).classList.remove("ccs-dynaform-hidden"),null!=document.getElementById("questionsCount")&&(document.getElementById("questionsCount").textContent=e+" technical questions entered so far"),document.querySelector("label[for=fc_question_"+e+"] a.del").classList.remove("ccs-dynaform-hidden"),20===e&&$(".add-another-btn").addClass("ccs-dynaform-hidden")):(document.getElementById("fc_question_"+e).classList.remove("ccs-dynaform-hidden"),null!=document.getElementById("questionsCount")&&(document.getElementById("questionsCount").textContent=e+" technical questions entered so far"),document.querySelector("label[for=fc_question_"+e+"] a.del").classList.remove("ccs-dynaform-hidden"),e++,"RM1043.8"!=a.get("agreement_id")||"Criterion 2"!=a.get("id")||"Group 5"!=a.get("group_id")&&"Group 6"!=a.get("group_id")||5!=a.get("section")?"RM1043.8"==a.get("agreement_id")&&"Criterion 2"==a.get("id")&&"Group 7"==a.get("group_id")&&5==a.get("section")?$(".btncheck").text("").text("Add another technical question ("+(l-e)+" remaining)"):"RM1043.8"!=a.get("agreement_id")||"Criterion 2"!=a.get("id")||1!=n&&3!=n||"Group 8"!=a.get("group_id")||5!=a.get("section")?"RM1043.8"==a.get("agreement_id")&&"Criterion 2"==a.get("id")&&1==n&&"Group 9"==a.get("group_id")&&5==a.get("section")?$(".btncheck").text("").text("Add another question ("+(l-e)+" remaining)"):"RM1043.8"==a.get("agreement_id")&&"Criterion 3"==a.get("id")&&1==n&&"Group 19"==a.get("group_id")&&$(".btncheck").text("").text("Add another special term or condition "):$(".btncheck").text("").text("Add another question ("+(l-e)+" remaining)"):$(".btncheck").text("").text("Add another skill or experience ("+(l-e)+" remaining)"))}else document.getElementById("fc_question_"+e).classList.remove("ccs-dynaform-hidden"),null!=document.getElementById("questionsCount")&&(document.getElementById("questionsCount").textContent=e+" technical questions entered so far"),document.querySelector("label[for=fc_question_"+e+"] a.del").classList.remove("ccs-dynaform-hidden"),e++;if("RM1043.8"!=a.get("agreement_id")||"Criterion 2"!=a.get("id")||1!=n||"Group 8"!=a.get("group_id")&&"Group 5"!=a.get("group_id")||5!=a.get("section"))if(e==l)$(".add-another-btn").addClass("ccs-dynaform-hidden"),errorStore.push(["There is a problem","Cannot add another question already "+e+" questions created"]),$(".add-another-btn").closest(".ccs-page-section").length&&$(".add-another-btn").closest(".ccs-page-section").css("border-bottom","0px");E()}else ccsZPresentErrorSummary(errorStore)}),$(".dos_question_count").on("change keyup paste",e=>{E()}),$(".weightage").on("change keyup paste",e=>{E()}),0==b){let e=[];for(var u=1;u<l;u++){let r=$("#fc_question_"+u).hasClass("additional"),o=$("#fc_question_"+u).hasClass("ccs-dynaform-hidden"),n=e[e.length-1];if(1==r&&0==o&&e.push(u),e.length>0){$("#del_dos_question_"+n).removeClass("ccs-dynaform-hidden")}"RM1043.8"==a.get("agreement_id")&&19==e.length&&($(".add-another-btn").addClass("ccs-dynaform-hidden"),$("#del_dos_question_20").removeClass("ccs-dynaform-hidden")),"RM1043.8"!=a.get("agreement_id")&&49==e.length&&$(".add-another-btn").addClass("ccs-dynaform-hidden"),"RM1557.13"==a.get("agreement_id")&&4==e.length&&"Criterion 2"==t.get("id")&&"Group 6"==t.get("group_id")&&$(".add-another-btn").addClass("ccs-dynaform-hidden"),"RM6187"!=a.get("agreement_id")||"Group 4"!=a.get("group_id")&&"Group 6"!=a.get("group_id")||"Criterion 2"!=a.get("id")||9!=e.length||$(".add-another-btn").addClass("ccs-dynaform-hidden")}}}const m=()=>{const e=document.getElementById("page-heading").innerHTML;for(var t=1;t<=20;t++){let r=$(`#fc_question_1_${t}`),o=$(`#fc_question_precenate_${t}`);if(!e.includes("(Optional)")){const e=countWords1(r.val())<50,n=countWords1(o.val())<150;(""!==r.val()||e)&&($(`#fc_question_1_${t}-error`).remove(),$(`.acronym_${t} div`).removeClass("govuk-form-group--error"),$(`.acronym_${t} input`).removeClass("govuk-input--error")),(""!==o.val()||n)&&($(`#fc_question_precenate_${t}-error`).remove(),$(`.acronym_${t} div`).removeClass("govuk-form-group--error"),$(`.acronym_${t} textarea`).removeClass("govuk-input--error"),$(`.acronym_${t} textarea`).removeClass("govuk-textarea--error"))}}},g=e=>{let t="",r=[];$(".govuk-error-message").remove(),$(".govuk-form-group--error").removeClass("govuk-form-group--error"),$(".govuk-error-summary").remove(),$(".govuk-input").removeClass("govuk-input--error"),$(".govuk-form-group textarea").removeClass("govuk-textarea--error");const o=document.getElementById("page-heading").innerHTML;fieldMsg="You must add information in all fields.",descMsg="You must add information in all fields.";for(var n=1;n<21;n++){let a=document.getElementById("fc_question_1_"+n),s=document.getElementById("fc_question_precenate_"+n);if(null!=a&&void 0!==a.value&&null!=s)if("addmore"==e){countWords1(a.value),countWords1(s.value);a.classList.contains("ccs-dynaform-hidden")||(m(),""===a.value.trim()?(t=[a.id,fieldMsg],ccsZaddErrorMessage(a,fieldMsg),r.push(t)):""===s.value.trim()&&(t=[s.id,descMsg],ccsZaddErrorMessage(s,descMsg),r.push(t)))}else if(o.trim().toLowerCase()!="Special terms and conditions (Optional)".toLowerCase()&&!(""==a.value&&""==s.value||""!=a.value&&""!=s.value)){countWords1(a.value),countWords1(s.value);a.classList.contains("ccs-dynaform-hidden")||(m(),""===a.value.trim()?(t=[a.id,fieldMsg],ccsZaddErrorMessage(a,"You must enter valid question"),r.push(t)):""===s.value.trim()&&(t=[s.id,descMsg],ccsZaddErrorMessage(s,"You must enter percentage"),r.push(t)))}}return r},_=()=>{r();let e;null!==document.getElementById("lID")&&(e=document.getElementById("lID").value);let o="",n=[],a=0;const s=document.getElementById("page-heading").innerHTML;for(var i=1;i<l;i++){let r=document.getElementById("fc_question_"+i);const l=document.querySelector("#fc_question_"+i);if(!r.classList.contains("ccs-dynaform-hidden"))if(Number($("#totalPercentage").text)>100&&!0!==(o=ccsZvalidateWithRegex("fc_question_"+i+"_4","You cannot add / submit  question as your weightings exceed 100%",/\w+/))&&n.push(o),s.includes("Enter your project requirements")){const e=l.querySelectorAll("textarea");if(null!=e&&null!=e&&e.length>0)for(let t=0;t<e.length;t++){const r=e[t];var c=r.previousElementSibling.previousElementSibling.innerHTML,d="",u="";d="Name of the requirement"==c.trim()?"You must enter your name of the requirement":"Describe the requirement"==c.trim()?"You must enter your description of the requirement":"You must enter your name of the group",u="Describe the requirement"==c.trim()?"You must enter your description of the requirement":"You must enter your name of the requirement",0===t?""!=r.value&&void 0!==r.value&&null!==r.value||(ccsZvalidateWithRegex(r.id,d,/\w+/),$(".add-another-btn").removeClass("ccs-dynaform-hidden"),n.push([r.id,d])):1===t?""!=r.value&&void 0!==r.value&&null!==r.value||(ccsZvalidateWithRegex(r.id,d,/\w+/),$(".add-another-btn").removeClass("ccs-dynaform-hidden"),n.push([r.id,u])):""!=r.value&&void 0!==r.value&&null!==r.value||(ccsZvalidateWithRegex(r.id,d,/\w+/),n.push([r.id,"You must enter your description of the requirement"]))}a+=1}else if(s.trim().toLowerCase()!="Special terms and conditions (Optional)".toLowerCase()){if(r.querySelector(".order_1")){r.querySelector(".order_1");if(!(""!=r.querySelector(".order_1").value&&(null==r.querySelector(".weightage")||null==r.querySelector(".weightage")||""!=r.querySelector(".weightage").value&&"0"!=r.querySelector(".weightage").value)||s.includes("Assisted digital and accessibility requirements (optional)")||s.includes("Assisted digital and accessibility requirements (Optional)"))){let a="You must enter valid question",s="You must enter percentage";"RM1557.13"!=t.get("agreement_id")||"Criterion 2"!=t.get("id")||"Group 4"!=t.get("group_id")&&"Group 6"!=t.get("group_id")||(a="Group 4"==t.get("group_id")?"Enter a technical question":"Enter a social value question"),"RM1043.8"==t.get("agreement_id")&&"Criterion 2"==t.get("id")&&1==e&&"Group 5"==t.get("group_id")||3==e&&"Group 5"==t.get("group_id")?(a="Enter an essential skill or experience",s="Enter a weighting for this essential skill or experience"):"RM1043.8"==t.get("agreement_id")&&"Criterion 2"==t.get("id")&&1==e&&"Group 6"==t.get("group_id")||3==e&&"Group 6"==t.get("group_id")?(a="Enter a nice-to-have skill or experience",s="Enter a weighting for this nice-to-have skill or experience"):"RM1043.8"==t.get("agreement_id")&&"Criterion 2"==t.get("id")&&1==e&&"Group 7"==t.get("group_id")||3==e&&"Group 7"==t.get("group_id")?(a="Enter a technical question",s="Enter a weighting for this technical question"):"RM1043.8"==t.get("agreement_id")&&"Criterion 2"==t.get("id")&&1==e&&"Group 9"==t.get("group_id")||3==e&&"Group 8"==t.get("group_id")?(a="Enter a social value question",s="Enter a weighting for this social value question"):"RM1043.8"==t.get("agreement_id")&&"Criterion 2"==t.get("id")&&1==e&&"Group 8"==t.get("group_id")&&(a="Enter a cultural fit question",s="Enter a weighting for this cultural fit question");const l=r.querySelector(".order_1").value?"Entry is limited to 50 words":a;let c;o=ccsZvalidateWithRegex("fc_question_"+i+"_1",l,/\w+/),c="RM1557.13"!=t.get("agreement_id")||"Criterion 2"!=t.get("id")||"Group 4"!=t.get("group_id")&&"Group 6"!=t.get("group_id")||""!=r.querySelector(".weightage").value?ccsZvalidateWithRegex("fc_question_precenate_"+i,s,/\w+/):"Group 4"==t.get("group_id")?ccsZvalidateWithRegex("fc_question_precenate_"+i,"Enter a weighting for this technical question",/\wd+/):ccsZvalidateWithRegex("fc_question_precenate_"+i,"Enter a weighting for this social value question",/\wd+/),!0!==o&&n.push(o),c&&("RM1043.8"==t.get("agreement_id")&&"0"==r.querySelector(".weightage").value?n.push(ccsZvalidateWithRegex("fc_question_precenate_"+i,"You must enter valid percentage",/\wd+/)):n.push(c))}}if(r.querySelector(".order_2")&&""==r.querySelector(".order_2").value){const e=r.querySelector(".order_2").value?"Entry is limited to 50 words":"You must enter valid additional information";!0!==(o=ccsZvalidateWithRegex("fc_question_"+i+"_2",e,/\w+/))&&n.push(o)}if(r.querySelector(".order_3")&&""==r.querySelector(".order_3").value){const e=r.querySelector(".order_3").value?"Entry is limited to 50 words":"You must enter valid information";!0!==(o=ccsZvalidateWithRegex("fc_question_"+i+"_3",e,/\w+/))&&n.push(o)}if(r.querySelector(".weightage")){const e=r.querySelector(".weightage").value>100;if(""!=r.querySelector(".weightage").value&&e||r.querySelector(".weightage").value<0){const t=r.querySelector(".weightage").value?"Enter a weighting for this question <= 100%":"You must enter valid weightage";!0!==(o=ccsZvalidateWithRegex("fc_question_"+i+"_4",t,/\w+/,!e))&&n.push(o)}}}}return n};$("#rfp_multianswer_question_form").on("submit",e=>{let t=0,r=0;e.preventDefault();let o=[];const n=window.location.search,s=new URLSearchParams(n),i=document.getElementById("page-heading").innerHTML;let c;null!==document.getElementById("lID")&&(c=document.getElementById("lID").value);let d="";if("RM1557.13"!=s.get("agreement_id")&&"RM6187"!=s.get("agreement_id")||(d=g("submit")),0==d.length){var u=document.getElementsByClassName("weightage");if("RM1043.8"==s.get("agreement_id")&&"Criterion 2"==s.get("id")&&1==c&&("Group 8"==s.get("group_id")||"Group 5"==s.get("group_id")||"Group 6"==s.get("group_id")||"Group 7"==s.get("group_id")||"Group 9"==s.get("group_id"))||3==c&&("Group 5"==s.get("group_id")||"Group 6"==s.get("group_id")||"Group 7"==s.get("group_id")||"Group 8"==s.get("group_id"))?Array.prototype.forEach.call(u,function(e){""!==e.value&&(t+=1),e.parentElement.parentElement.parentElement.classList.contains("ccs-dynaform-hidden")||(r+=1)}):"RM6187"==s.get("agreement_id")&&"Criterion 2"==s.get("id")&&"Group 6"==s.get("group_id")?Array.prototype.forEach.call(u,function(e){""!==e.value&&(t+=1),e.parentElement.parentElement.parentElement.classList.contains("ccs-dynaform-hidden")||(r+=1)}):"RM1557.13"==s.get("agreement_id")&&"Criterion 2"==s.get("id")&&"Group 6"==s.get("group_id")&&Array.prototype.forEach.call(u,function(e){""!==e.value&&(t+=1),e.parentElement.parentElement.parentElement.classList.contains("ccs-dynaform-hidden")||(r+=1)}),0==t)if("RM1043.8"==s.get("agreement_id")&&"Criterion 2"==s.get("id")&&1==c&&("Group 6"==s.get("group_id")||"Group 9"==s.get("group_id"))||3==c&&("Group 6"==s.get("group_id")||"Group 8"==s.get("group_id")))if("Group 9"!=s.get("group_id")&&"Group 6"!=s.get("group_id")&&"Group 8"!=s.get("group_id")||5!=a.get("section"))document.forms.rfp_multianswer_question_form.submit();else{var m=$("#fc_question_1_1").val(),p=$("#fc_question_precenate_1").val();if(!(""==m.trim()&&null==m&&null==m||0==m.length||""!=p&&null!=p&&null!=p)){let e="You must enter percentage";"Group 6"==s.get("group_id")?e="Enter a weighting for this nice-to-have skill or experience":("Group 9"==s.get("group_id")||3==c&&"Group 8"==s.get("group_id"))&&(e="Enter a weighting for this social value question");var v=ccsZvalidateWithRegex("fc_question_precenate_1",e,/\w+/);o.push(v)}if(0===o.length){if(0!=document.getElementsByClassName("govuk-hint-error-message").length)return!1;document.forms.rfp_multianswer_question_form.submit()}else ccsZPresentErrorSummary(o)}else if("RM6187"==s.get("agreement_id")&&"Criterion 2"==s.get("id")&&"Group 6"==s.get("group_id"))document.forms.rfp_multianswer_question_form.submit();else if("RM1557.13"==s.get("agreement_id")&&"Criterion 2"==s.get("id")&&"Group 6"==s.get("group_id"))document.forms.rfp_multianswer_question_form.submit();else{if(null!=$("#totalPercentage")&&null!=$("#totalPercentage")&&$("#totalPercentage").length>0&&Number($("#totalPercentage").text())>100&&o.push(["There is a problem","The total weighting is more than 100% "]),null!=$("#totalPercentage")&&null!=$("#totalPercentage")&&$("#totalPercentage").length>0&&Number($("#totalPercentage").text())<100){for(var f=1;f<l;f++){let e=$("#fc_question_"+f).hasClass("ccs-dynaform-hidden"),t=$("#fc_question_"+f).hasClass("additional");if((""==$("#fc_question_"+f+"_1").val()&&0==e&&0==t||""==$("#fc_question_"+f+"_1").val()&&0==e&&1==t)&&!i.includes("Write your social value questions (Optional)")){let e="Enter a technical question";"RM1043.8"==s.get("agreement_id")&&"Criterion 2"==s.get("id")&&1==c&&"Group 5"==s.get("group_id")||3==c&&"Group 5"==s.get("group_id")?(e="Enter an essential skill or experience",msgWeightageContent="Enter a weighting for this essential skill or experience"):"RM1043.8"==s.get("agreement_id")&&"Criterion 2"==s.get("id")&&1==c&&"Group 7"==s.get("group_id")||3==c&&"Group 7"==s.get("group_id")?(e="Enter a technical question",msgWeightageContent="Enter a weighting for this technical question"):"RM1043.8"==s.get("agreement_id")&&"Criterion 2"==s.get("id")&&1==c&&"Group 8"==s.get("group_id")&&(e="Enter a cultural fit question",msgWeightageContent="Enter a weighting for this cultural fit question");v=ccsZvalidateWithRegex("fc_question_"+f+"_1",e,/\w+/);o.push(v)}if((""==$("#fc_question_precenate_"+f).val()&&0==e&&0==t||""==$("#fc_question_precenate_"+f).val()&&0==e&&1==t)&&!i.includes("Write your social value questions (Optional)")){let e="Enter a weighting for this technical question";"RM1043.8"==s.get("agreement_id")&&"Criterion 2"==s.get("id")&&1==c&&"Group 5"==s.get("group_id")||3==c&&"Group 5"==s.get("group_id")?e="Enter a weighting for this essential skill or experience":"RM1043.8"==s.get("agreement_id")&&"Criterion 2"==s.get("id")&&1==c&&"Group 7"==s.get("group_id")||3==c&&"Group 7"==s.get("group_id")?e="Enter a weighting for this technical question":"RM1043.8"==s.get("agreement_id")&&"Criterion 2"==s.get("id")&&1==c&&"Group 8"==s.get("group_id")&&(e="Enter a weighting for this cultural fit question");var h=ccsZvalidateWithRegex("fc_question_precenate_"+f,e,/\w+/);o.push(h)}"RM1557.13"==s.get("agreement_id")&&(""!=$("#fc_question_precenate_"+f).val()||0!=e||0!=t||i.includes("Write your social value questions (Optional)")?""!=$("#fc_question_precenate_"+f).val()&&0==e&&0==t&&!i.includes("Write your social value questions (Optional)")&&Number($("#totalPercentage").text())<1?o.push(["There is a problem","Your total weighting is must be greater than 1%"]):""!=$("#fc_question_precenate_"+f).val()&&0==e&&0==t&&!i.includes("Write your social value questions (Optional)")&&Number($("#totalPercentage").text())<100&&o.push(["There is a problem","Your total weighting must be 100%"]):o.push(["There is a problem","The weighting must add up to 100% in total"]),""!=$("#fc_question_precenate_"+f).val()&&0==e&&0==t&&i.includes("Write your social value questions (Optional)")&&o.push(["There is a problem","Your total weighting must be 100% "]))}if(("Group 8"==s.get("group_id")||"Group 7"==s.get("group_id")||"Group 5"==s.get("group_id"))&&5==a.get("section"))if("RM1043.8"==s.get("agreement_id"))""==$("#fc_question_precenate_1").val()&&$("#fc_question_precenate_1").val()<100&&o.push(["There is a problem","Your total weighting must be 100%"]);else if(""==$("#fc_question_precenate_1").val()){h=ccsZvalidateWeihtageValue("fc_question_precenate_1","Your total weighting must be 100%",Number($("#totalPercentage").text()));o.push(h)}"RM6187"==s.get("agreement_id")&&"Criterion 2"==s.get("id")&&"Group 4"==s.get("group_id")&&Number($("#totalPercentage").text())<100&&o.push(["There is a problem","The total weighting is less than 100% "])}if(0===(o=o.length<=0?_():o).length){if(0!=document.getElementsByClassName("govuk-hint-error-message").length)return!1;document.forms.rfp_multianswer_question_form.submit()}else ccsZPresentErrorSummary(o)}else{if(null!=$("#totalPercentage")&&null!=$("#totalPercentage")&&$("#totalPercentage").length>0&&Number($("#totalPercentage").text())<100){v=ccsZvalidateWithRegex("fc_question_"+f+"_1","You must enter information here",/\w+/);if(o=_(),"RM1043.8"!=s.get("agreement_id")||"Criterion 2"!=s.get("id")||"Group 9"!=s.get("group_id")&&"Group 5"!=s.get("group_id")&&"Group 7"!=s.get("group_id")&&"Group 8"!=s.get("group_id")&&"Group 6"!=s.get("group_id")||5!=s.get("section"))o.push(["There is a problem","The weighting must add up to 100% in total "]);else{let e=$(".order_1").filter(function(){return""!==this.value}).length,t=$("#fc_question_precenate_1").val();if(0==e&&""!=t&&0!=Number(t)&&(e=1),""!=$("#fc_question_precenate_"+e).val()&&0!=Number($("#fc_question_precenate_"+e).val())){h=ccsZvalidateWeihtageValue("fc_question_precenate_"+e,"The total weighting is less than 100%",Number($("#totalPercentage").text()));o.push(h)}else if(""!=$("#fc_question_"+e+"_1").val()&&""==$("#fc_question_precenate_"+e).val()&&Number($("#totalPercentage").text())>0){h=ccsZvalidateWeihtageValue("fc_question_precenate_"+(e-1),"The total weighting is less than 100%",Number($("#totalPercentage").text()));o.push(h)}}}if(null!=$("#totalPercentage")&&null!=$("#totalPercentage")&&$("#totalPercentage").length>0&&Number($("#totalPercentage").text())>100)if(o=_(),"RM1043.8"!=s.get("agreement_id")||"Criterion 2"!=s.get("id")||"Group 9"!=s.get("group_id")&&"Group 5"!=s.get("group_id")&&"Group 7"!=s.get("group_id")&&"Group 8"!=s.get("group_id")&&"Group 6"!=s.get("group_id")||5!=s.get("section"))o.push(["There is a problem","The total weighting is more than 100% "]);else{let e=$(".order_1").filter(function(){return""!==this.value}).length;h=ccsZvalidateWeihtageValue("fc_question_precenate_"+e,"The total weighting is more than 100% ",Number($("#totalPercentage").text()));o.push(h)}if("RM1043.8"==s.get("agreement_id")&&"Criterion 2"==s.get("id")&&1==r&&1==c&&("Group 6"==s.get("group_id")||"Group 9"==s.get("group_id"))||3==c&&("Group 6"==s.get("group_id")||"Group 8"==s.get("group_id"))){if(("Group 9"==s.get("group_id")||"Group 6"==s.get("group_id")||"Group 8"==s.get("group_id"))&&5==a.get("section")&&100==Number($("#totalPercentage").text())){let e=$("#fc_question_1_1").val(),t=$("#fc_question_precenate_1").val();if(!(""==t.trim()&&null==t&&null==t||0==t.length||""!=e&&null!=e&&null!=e)){let e="You must enter valid question";"Group 6"==s.get("group_id")?e="Enter a nice-to-have skill or experience":"Group 9"!=s.get("group_id")&&"Group 8"!=s.get("group_id")||(e="Enter a social value question");v=ccsZvalidateWithRegex("fc_question_1_1",e,/\w+/);o.push(v)}}}else o=o.length<=0?_():o;if(0===o.length){if(0!=document.getElementsByClassName("govuk-hint-error-message").length)return!1;document.forms.rfp_multianswer_question_form.submit()}else ccsZPresentErrorSummary(o)}}else ccsZPresentErrorSummary(d)})}),$(".weightagelimit").on("keypress",function(e){let t=$(this).val();var r=(e=e||window.event).which?e.which:e.keyCode;return!(r>31&&(r<48||r>57)||t.length>=3)}),$(".rfp_duration").on("keypress",function(e){let t=$(this).val();var r=(e=e||window.event).which?e.which:e.keyCode;return!(r>31&&(r<48||r>57)||t.length>=3)}),$(document.body).on("keyup",".weightagelimit",function(e){$(this).val();if(parseInt($(this).val())>100){let e=$(this).val().slice(0,$(this).val().length-1);$(this).val(e)}}),$(".weightage").on("input",function(){$(this).val($(this).val().replace(/[^a-z0-9]/gi,""))}),document.addEventListener("DOMContentLoaded",()=>{const e=$(".rfp_weight_vetting_class"),t=e.length+1;var r="",o="",n=$("#rfp_total_resource"),a=$("#rfp_total_resource2"),s=document.querySelectorAll(".rfp-vetting-weighting");function i(e){const r="rfp_weight_vetting_"+e+"_";for(var o=1;o<t;o++){let e=$(`#${r}${o}`);e.on("blur",()=>{null!=e.val()&&null!==e.val()&&e.val(),l(r),c()})}}function l(e){let o=0;for(var n=1;n<t;n++){let t=$(`#${e}${n}`);null!=t.val()&&""!=t.val()&&(o+=Number(t.val()))}r.innerHTML=o+" resources added"}function c(){let t=0;for(index=0;index<e.length;++index)""!=e[index].value&&(t+=Number(e[index].value));n.text(t),a.text(t)}null!=s&&s.length>0&&(ccsTabMenuNaviation(),r=document.getElementsByClassName("table-item-subtext")[0],null!=(o=s[0].getElementsByTagName("a")[0].childNodes[0].data)&&""!=o&&i(o=o.replaceAll(" ","_")),Array.from(s).forEach(e=>{e.addEventListener("click",function(e){setTimeout(e=>{document.querySelectorAll("#rfp_weight_vetting_IT_Ops_16")[0].style.width="100px"},5e3);let t=e.currentTarget,n=$(this).index();return r=t.getElementsByClassName("table-item-subtext")[0],i(o=(o=(o=s[n].getElementsByTagName("a")[0].childNodes[0].data).replaceAll(" ","_")).replaceAll(/[\])}[{(]/g,"")),!1})})),e.on("keydown",e=>{"."!==e.key&&69!==e.keyCode||e.preventDefault()}),$("#ccs_ca_menu_tabs_form_rfp_vetting").on("submit",t=>{const r=[],o=[],n=[],a=[];for(var s=1;s<e.length;s++){const e=document.getElementsByClassName("rfp_weight_vetting_class")[s-1];""!=e.value&&o.push(!0),e.value.includes(".")?(document.getElementsByClassName("weight_vetting_class")[s-1].classList.add("govuk-input--error"),document.getElementsByClassName("weight_vetting_class_error")[s-1].innerHTML="Decimal value is entered. Please enter number <100 and >0 ",n.push(!0)):isNaN(e.value)&&""!==e.value?(document.getElementsByClassName("weight_vetting_class")[s-1].classList.add("govuk-input--error"),document.getElementsByClassName("weight_vetting_class_error")[s-1].innerHTML="Alphabetical value is entered. Please enter number <100 and >0",a.push(!0)):e.value>99&&""!=e.value?(document.getElementsByClassName("weight_vetting_class")[s-1].classList.add("govuk-input--error"),document.getElementsByClassName("weight_vetting_class_error")[s-1].innerHTML="Please enter number <100 and >0",r.push(!0)):e.value<=0&&""!==e.value?(document.getElementsByClassName("weight_vetting_class")[s-1].classList.add("govuk-input--error"),document.getElementsByClassName("weight_vetting_class_error")[s-1].innerHTML="Please enter number <100 and >0",r.push(!0)):(document.getElementsByClassName("weight_vetting_class")[s-1].classList.remove("govuk-input--error"),document.getElementsByClassName("weight_vetting_class_error")[s-1].innerHTML="")}switch(!0){case r.length>0&&n.length>0&&a.length>0:t.preventDefault(),$("#rfp_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#summary_list").html('<li><a href="#">The input field must be a number less than 100 and greater than 0</a></li><br><li><a href="#">The input field should not contain decimal values</a></li><br><li><a href="#">The input field must be a number</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;case r.length>0&&n.length>0:t.preventDefault(),$("#rfp_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#summary_list").html('<li><a href="#">The input field must be a number less than 100 and greater than 0</a></li><br><li><a href="#">The input field should not contain decimal values</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;case r.length>0&&a.length>0:t.preventDefault(),$("#rfp_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#summary_list").html('<li><a href="#">The input field must be a number less than 100 and greater than 0</a></li><br><li><a href="#">The input field must be a number</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;case n.length>0&&a.length>0:t.preventDefault(),$("#rfp_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#summary_list").html('<li><a href="#">The input field should not contain decimal values</a></li><br><li><a href="#">The input field must be a number</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;case r.length>0:t.preventDefault(),$("#rfp_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#summary_list").html('<li><a href="#">The input field must be a number less than 100 and greater than 0</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;case a.length>0:t.preventDefault(),$("#rfp_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#summary_list").html('<li><a href="#">The input field must be a number</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;case n.length>0:t.preventDefault(),$("#rfp_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#summary_list").html('<li><a href="#">The input field should not contain decimal values</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;default:console.log("If all else fails")}!o.length>0&&(t.preventDefault(),$("#rfp_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#summary_list").html("You must enter atleast on value"),$("html, body").animate({scrollTop:0},"fast"))})}),document.addEventListener("DOMContentLoaded",()=>{if($(".check-popup").on("click",function(){console.log("Workied******");const e=document.querySelector(".backdrop-supplier-popup");e.classList.add("showpopup"),$(".dialog-close-supplier").on("click",function(){e.classList.remove("showpopup")}),stnewsupplier=document.getElementById("redirect-button-supplier"),stnewsupplier.addEventListener("click",t=>{e.classList.remove("showpopup"),console.log("Workied confirm******")})}),null!==document.getElementById("ccs_rfp_scoring_criteria")){let t=10,r=document.querySelectorAll("a.del").length>0?document.querySelectorAll("a.del"):document.querySelectorAll("a.clear-fields");selectTierButtons=document.querySelectorAll(".tier-popup");let o=document.querySelectorAll(".tierLable");document.getElementById("ccs_rfp_score_criteria_add").classList.remove("ccs-dynaform-hidden");const n=document.querySelectorAll(".govuk-input--width-3"),a=document.querySelectorAll(".govuk-input"),s=document.querySelectorAll(".govuk-textarea");a.forEach(e=>{e.addEventListener("focusout",e=>{null!=e.target.value&&""!==e.target.value&&removeErrorFieldsRfpScore()})}),s.forEach(e=>{e.addEventListener("focusout",e=>{null!=e.target.value&&""!==e.target.value&&removeErrorFieldsRfpScore()})}),document.getElementById("tiersAdded").textContent="0";let i={};o.forEach(e=>{null!=e.attributes&&null!=e.attributes[2]&&null!=e.attributes[2].textContent&&null!=e.attributes&&null!=e.attributes[2]&&null!=e.attributes[2].textContent&&e.attributes[2].textContent.toLowerCase()==="Create your own scoring criteria".toLowerCase()&&null!=e.attributes&&null!=e.attributes[4]&&null!=e.attributes&&null!=e.attributes[4]&&(i=null!=e.attributes[4].value?JSON.parse(e.attributes[4].value):null)});let l=!1;for(var e=1;e<11;e++){null!=i&&null!=i&&null!=i.rows&&null!=i.rows&&(1==e&&i.rows.unshift([{text:"ignore"}]),null!=i.rows[e]&&null!=i.rows[e]&&(document.getElementById("rfp_score_criteria_name_"+e).value=null!=i&&null!=i&&null!=i.rows[e].at(0).text?i.rows[e].at(0).text:"",document.getElementById("rfp_score_criteria_point_"+e).value=null!=i&&null!=i&&null!=i.rows[e].at(1).text?i.rows[e].at(1).text:"",document.getElementById("rfp_score_criteria_desc_"+e).value=null!=i&&null!=i&&null!=i.rows[e].at(2).text?i.rows[e].at(2).text:""));let r=document.querySelector(".score_criteria_"+(0===e?1:e)),o=document.getElementById("rfp_score_criteria_name_"+(0===e?1:e));""!==o.value&&void 0!==o.value&&null!==o.value?(r.classList.remove("ccs-dynaform-hidden"),10===e&&document.getElementById("ccs_rfp_score_criteria_add").classList.add("ccs-dynaform-hidden"),9===e&&(l=!0),document.getElementById("tiersAdded").textContent=e):1!==e?(null!=r&&null!=r&&r.classList.add("ccs-dynaform-hidden"),t=e):10===e&&l?document.getElementById("ccs_rfp_score_criteria_add").classList.add("ccs-dynaform-hidden"):document.getElementById("ccs_rfp_score_criteria_add").classList.remove("ccs-dynaform-hidden")}if(selectTierButtons.forEach(e=>{e.addEventListener("click",e=>{const r=JSON.parse(e.currentTarget.attributes[2].value);const o=document.querySelector(".backdrop-tier");if(!document.getElementById("agreement_id")||"RM1043.8"!=document.getElementById("agreement_id").value&&"RM1557.13"!=document.getElementById("agreement_id").value)o.classList.add("showpopup");else if(document.getElementById("rfp_score_criteria_name_1")&&document.getElementById("rfp_score_criteria_desc_1")&&document.getElementById("rfp_score_criteria_point_1")){let e=document.getElementById("rfp_score_criteria_name_1").value,a=document.getElementById("rfp_score_criteria_point_1").value,s=document.getElementById("rfp_score_criteria_desc_1").value;if(""!=e||""!=a||""!=s)o.classList.add("showpopup");else{for(let e=1;e<11;e++){document.getElementById("rfp_score_criteria_name_"+e).value="",document.getElementById("rfp_score_criteria_point_"+e).value="",document.getElementById("rfp_score_criteria_desc_"+e).value="",document.getElementsByClassName("score_criteria_"+e)[0].classList.add("ccs-dynaform-hidden")}if(null!=r&&null!=r&&(document.getElementById("tiersAdded").textContent=r.rows.length,t=r.rows.length+1,r.rows.unshift({text:"Ignore"}),document.getElementById("agreement_id")&&("RM1043.8"==document.getElementById("agreement_id").value||"RM1557.13"==document.getElementById("agreement_id").value))){r.rows.reverse();var n=r.rows.length;for(let e=0;e<r.rows.length;e++){if(e!==Number(n)-1){const t=e+1;document.getElementsByClassName("score_criteria_"+t)[0].classList.remove("ccs-dynaform-hidden"),document.getElementById("rfp_score_criteria_name_"+t).value=r.rows[e].at(0).text,document.getElementById("rfp_score_criteria_point_"+t).value=r.rows[e].at(1).text,document.getElementById("rfp_score_criteria_desc_"+t).value=r.rows[e].at(2).text,document.getElementById("rfp_score_criteria_desc_"+t).focus(),document.getElementById("rfp_score_criteria_name_"+t).focus()}11==r.rows.length&&$("#ccs_rfp_score_criteria_add").hasClass("ccs-dynaform-hidden")?document.getElementById("ccs_rfp_score_criteria_add").classList.add("ccs-dynaform-hidden"):document.getElementById("ccs_rfp_score_criteria_add").classList.remove("ccs-dynaform-hidden")}}}}$(".dialog-close-tier").on("click",function(){o.classList.remove("showpopup")}),stnew=document.getElementById("redirect-button-tier"),stnew.addEventListener("click",e=>{o.classList.remove("showpopup"),removeErrorFieldsRfpScore();for(var n=1;n<11;n++){document.getElementById("rfp_score_criteria_name_"+n).value="",document.getElementById("rfp_score_criteria_point_"+n).value="",document.getElementById("rfp_score_criteria_desc_"+n).value="",document.getElementsByClassName("score_criteria_"+n)[0].classList.add("ccs-dynaform-hidden")}if(null!=r&&null!=r)if(document.getElementById("tiersAdded").textContent=r.rows.length,t=r.rows.length+1,r.rows.unshift({text:"Ignore"}),document.getElementById("agreement_id")&&"RM1043.8"==document.getElementById("agreement_id").value){r.rows.reverse();for(let e=0;e<r.rows.length;e++){if(4!==e){const t=e+1;document.getElementsByClassName("score_criteria_"+t)[0].classList.remove("ccs-dynaform-hidden"),document.getElementById("rfp_score_criteria_name_"+t).value=r.rows[e].at(0).text,document.getElementById("rfp_score_criteria_point_"+t).value=r.rows[e].at(1).text,document.getElementById("rfp_score_criteria_desc_"+t).value=r.rows[e].at(2).text,document.getElementById("rfp_score_criteria_desc_"+t).focus(),document.getElementById("rfp_score_criteria_name_"+t).focus()}11==r.rows.length&&$("#ccs_rfp_score_criteria_add").hasClass("ccs-dynaform-hidden")?document.getElementById("ccs_rfp_score_criteria_add").classList.add("ccs-dynaform-hidden"):document.getElementById("ccs_rfp_score_criteria_add").classList.remove("ccs-dynaform-hidden")}}else if(document.getElementById("agreement_id")&&"RM1557.13"==document.getElementById("agreement_id").value){var a,s;r.rows.reverse(),6==r.rows.length?(a=4,s=5):(a=3,s=4);for(let e=0;e<r.rows.length;e++){if(e!==s){const t=e+1;document.getElementsByClassName("score_criteria_"+t)[0].classList.remove("ccs-dynaform-hidden"),document.getElementById("rfp_score_criteria_name_"+t).value=r.rows[e].at(0).text,document.getElementById("rfp_score_criteria_point_"+t).value=r.rows[e].at(1).text,document.getElementById("rfp_score_criteria_desc_"+t).value=r.rows[e].at(2).text,document.getElementById("rfp_score_criteria_desc_"+t).focus(),document.getElementById("rfp_score_criteria_name_"+t).focus()}if(e>a){var i=e+1;document.getElementsByClassName("score_criteria_"+i)[0].classList.add("ccs-dynaform-hidden")}11==r.rows.length&&$("#ccs_rfp_score_criteria_add").hasClass("ccs-dynaform-hidden")?document.getElementById("ccs_rfp_score_criteria_add").classList.add("ccs-dynaform-hidden"):document.getElementById("ccs_rfp_score_criteria_add").classList.remove("ccs-dynaform-hidden")}}else for(let e=0;e<r.rows.length;e++){if(0!==e)document.getElementsByClassName("score_criteria_"+e)[0].classList.remove("ccs-dynaform-hidden"),document.getElementById("rfp_score_criteria_name_"+e).value=r.rows[e].at(0).text,document.getElementById("rfp_score_criteria_point_"+e).value=r.rows[e].at(1).text,document.getElementById("rfp_score_criteria_desc_"+e).value=r.rows[e].at(2).text,document.getElementById("rfp_score_criteria_name_"+e).focus(),document.getElementById("rfp_score_criteria_desc_"+e).focus();11==r.rows.length&&$("#ccs_rfp_score_criteria_add").hasClass("ccs-dynaform-hidden")?document.getElementById("ccs_rfp_score_criteria_add").classList.add("ccs-dynaform-hidden"):document.getElementById("ccs_rfp_score_criteria_add").classList.remove("ccs-dynaform-hidden")}})})}),document.getElementById("ccs_rfp_score_criteria_add").addEventListener("click",e=>{$(".govuk-form-group textarea").removeClass("govuk-textarea--error"),checkFieldsRfpScore(),removeErrorFieldsRfpScore(),e.preventDefault();let t=1,r=!1;if(0==(errorStore=emptyFieldCheckRfpScore()).length){for(var o=1;o<11;o++){let e=document.querySelector(".score_criteria_"+(0===o?1:o)),n=document.getElementById("rfp_score_criteria_name_"+(0===o?1:o));""!==n.value&&void 0!==n.value&&null!==n.value&&(t+=1,document.getElementById("tiersAdded").textContent=o,e.classList.remove("ccs-dynaform-hidden"),9===o&&(r=!0),10===o&&(document.getElementById("ccs_rfp_score_criteria_add").classList.add("ccs-dynaform-hidden"),errorStore.push(["There is a problem","You must add min maximum 10 tiers."]))),10===o&&r&&document.getElementById("ccs_rfp_score_criteria_add").classList.add("ccs-dynaform-hidden")}$(".score_criteria_"+Number(t)).length>0&&$(".score_criteria_"+Number(t)).hasClass("ccs-dynaform-hidden")&&(document.querySelector(".score_criteria_"+Number(t)).classList.remove("ccs-dynaform-hidden"),document.getElementById("tiersAdded").textContent=t),errorStore.length>0&&ccsZPresentErrorSummary(errorStore)}else ccsZPresentErrorSummary(errorStore)}),r.forEach(e=>{e.classList.remove("ccs-dynaform-hidden"),e.addEventListener("click",r=>{r.preventDefault();let o=Number(document.getElementById("tiersAdded").textContent),n=e.href.replace(/^(.+\/)(\d{1,2})$/,"$2");Number(n);e.closest("fieldset").classList.add("ccs-dynaform-hidden"),document.getElementById("rfp_score_criteria_name_"+n).value="",document.getElementById("rfp_score_criteria_point_"+n).value="",document.getElementById("rfp_score_criteria_desc_"+n).value="",document.getElementById("rfp_score_criteria_name_"+n).removeAttribute("readonly"),document.getElementById("rfp_score_criteria_point_"+n).removeAttribute("readonly"),document.getElementById("rfp_score_criteria_desc_"+n).removeAttribute("readonly");let a=[];for(var s=1;s<11;s++){let e=document.getElementById("rfp_score_criteria_name_"+s).value,t=document.getElementById("rfp_score_criteria_point_"+s).value,r=document.getElementById("rfp_score_criteria_desc_"+s).value;null!=e&&null!=e&&""!=e&&null!=t&&null!=t&&""!=t&&null!=r&&null!=r&&""!=t&&a.push({name:e,point:t,desc:r}),document.getElementById("rfp_score_criteria_name_"+s).value="",document.getElementById("rfp_score_criteria_point_"+s).value="",document.getElementById("rfp_score_criteria_desc_"+s).value="";let o=document.querySelector(".score_criteria_"+(0===s?1:s));null!=o&&null!=o&&o.classList.add("ccs-dynaform-hidden")}for(s=1;s<11;s++){1==s?(document.getElementById("rfp_score_criteria_name_1").value=null!=a[0]&&null!=a[0].name?a[0].name:"",document.getElementById("rfp_score_criteria_point_1").value=null!=a[0]&&null!=a[0].point?a[0].point:"",document.getElementById("rfp_score_criteria_desc_1").value=null!=a[0]&&null!=a[0].desc?a[0].desc:""):(document.getElementById("rfp_score_criteria_name_"+s).value=null!=a[s-1]&&null!=a[s-1].name?a[s-1].name:"",document.getElementById("rfp_score_criteria_point_"+s).value=null!=a[s-1]&&null!=a[s-1].point?a[s-1].point:"",document.getElementById("rfp_score_criteria_desc_"+s).value=null!=a[s-1]&&null!=a[s-1].desc?a[s-1].desc:"");let e=document.querySelector(".score_criteria_"+(0===s?1:s)),r=document.getElementById("rfp_score_criteria_name_"+(0===s?1:s));""!==r.value&&void 0!==r.value&&null!==r.value?(e.classList.remove("ccs-dynaform-hidden"),10===s&&document.getElementById("ccs_rfp_score_criteria_add").classList.add("ccs-dynaform-hidden"),document.getElementById("tiersAdded").textContent=s):0!==s&&(null!=e&&null!=e&&e.classList.add("ccs-dynaform-hidden"),t=s),1===s&&(null!=e&&null!=e&&e.classList.remove("ccs-dynaform-hidden"),t=1)}document.getElementById("ccs_rfp_score_criteria_add").classList.remove("ccs-dynaform-hidden"),t--,0===o&&(document.getElementById("tiersAdded").textContent=0),1===o&&(document.getElementById("tiersAdded").textContent=1),o>0&&(document.getElementById("tiersAdded").textContent=o-1)})}),n.forEach(e=>{e.addEventListener("keydown",e=>{"."!==e.key&&69!==e.keyCode||e.preventDefault()})}),document.getElementsByClassName("score_criteria_fieldset").length>0){let e=document.getElementsByClassName("score_criteria_fieldset"),t=e.length;for(;t--;){let r=t+1;e[t].querySelector("#rfp_score_criteria_name_"+r).addEventListener("focusout",e=>{e.target;let t="rfp_score_criteria_point_"+r,o="rfp_score_criteria_desc_"+r;document.getElementById(t),document.getElementById(o)}),e[t].querySelector("#rfp_score_criteria_point_"+r).addEventListener("focusout",e=>{e.target;let t="rfp_score_criteria_name_"+r,o="rfp_score_criteria_desc_"+r;document.getElementById(t),document.getElementById(o)}),e[t].querySelector("#rfp_score_criteria_desc_"+r).addEventListener("focusout",e=>{e.target;let t="rfp_score_criteria_name_"+r,o="rfp_score_criteria_point_"+r;document.getElementById(t),document.getElementById(o)})}}}DelGCButtons=document.querySelectorAll(".DelGCButtons-popup"),DelGCButtons.forEach(e=>{e.addEventListener("click",e=>{e.preventDefault(),urldel=e.target.getAttribute("data-link");const t=document.querySelector(".backdrop-gcloud_delete");t.classList.add("showpopup"),$(".dialog-close-gcloud_delete").on("click",function(){t.classList.remove("showpopup")}),$(".close-dialog-close").on("click",function(){t.classList.remove("showpopup")}),deconf=document.getElementById("redirect-button-gcloud_delete"),deconf.addEventListener("click",e=>{t.classList.remove("showpopup"),window.location.href=window.location.origin+urldel})})})}),$(".maxValueValidate").keyup(function(e){if($(this).val().length>2||parseInt($(this).val())>100){let e=$(this).val();$(this).val(e.slice(0,3))}});const checkFieldsRfpScore=()=>{for(var e=1;e<=10;e++){let t=$(`#rfp_score_criteria_name_${e}`),r=$(`#rfp_score_criteria_point_${e}`),o=$(`#rfp_score_criteria_desc_${e}`);""!==t.val()&&($(`#rfp_score_criteria_name_${e}-error`).remove(),$(`score_criteria_${e} div`).removeClass("govuk-form-group--error"),$(`score_criteria_${e} input`).removeClass("govuk-input--error")),""!==r.val()&&($(`#rfp_score_criteria_point_${e}-error`).remove(),$(`score_criteria_${e} div`).removeClass("govuk-form-group--error"),$(`score_criteria_${e} input`).removeClass("govuk-input--error")),""!==o.val()&&($(`#rfp_score_criteria_desc_${e}-error`).remove(),$(`score_criteria_${e} div`).removeClass("govuk-form-group--error"),$(`score_criteria_${e} textarea`).removeClass("govuk-textarea--error"))}},removeErrorFieldsRfpScore=()=>{$(".govuk-error-message").remove(),$(".govuk-form-group--error").removeClass("govuk-form-group--error"),$(".govuk-error-summary").remove(),$(".govuk-input").removeClass("govuk-input--error"),$(".govuk-form-group textarea").removeClass("govuk-textarea--error")},emptyFieldCheckRfpScore=()=>{let e="",t=[],r=!1,o=document.getElementById("agreement_id");removeErrorFieldsRfpScore();for(var n=1;n<11;n++){let a=document.getElementById("rfp_score_criteria_name_"+n),s=document.getElementById("rfp_score_criteria_point_"+n),i=document.getElementById("rfp_score_criteria_desc_"+n);if(null!=a&&null!=a&&-1===a.closest("fieldset").classList.value.indexOf("ccs-dynaform-hidden"))if(checkFieldsRfpScore(),""===a.value.trim()&&""===s.value.trim()&&""===i.value.trim()&&"RM6187"!=o.value.trim()&&"RM1557.13"!=o.value.trim()){let r;""===a.value.trim()?r=a:""===s.value.trim()?r=s:""===i.value.trim()&&(r=i),null!=document.getElementById("agreement_id")&&"RM1043.8"==document.getElementById("agreement_id").value?(""===a.value.trim()&&(e=[a.id,"Enter a name for this level"],t.push(e)),""===s.value.trim()&&(e=[s.id,"Enter a score for this level"],t.push(e)),""===i.value.trim()&&(e=[i.id,"Enter a description for this level"],t.push(e)),ccsZaddErrorMessage(a,"Enter a name for this level"),ccsZaddErrorMessage(s,"Enter a score for this level"),ccsZaddErrorMessage(i,"Enter a description for this level")):(e=[r.id,"You must add information in all fields."],ccsZaddErrorMessage(a,"You must add information in all fields."),ccsZaddErrorMessage(s,"Enter valid score"),ccsZaddErrorMessage(i,"You must add information in all fields."),t.push(e))}else if("RM6187"==o.value.trim()&&""===a.value.trim()&&""===s.value.trim()&&""===i.value.trim())""===a.value.trim()&&(e=[a.id,"Enter a name for this level"],t.push(e)),""===s.value.trim()&&(e=[s.id,"Enter a score for this level"],t.push(e)),""===i.value.trim()&&(e=[i.id,"Enter a description for this level"],t.push(e)),ccsZaddErrorMessage(a,"Enter a name for this level"),ccsZaddErrorMessage(s,"Enter a score for this level"),ccsZaddErrorMessage(i,"Enter a description for this level");else if("RM1557.13"!=o.value.trim()||""!==a.value.trim()&&""!==s.value.trim()&&""!==i.value.trim())if("RM1043.8"==o.value.trim()&&Number(s.value.trim())>100){let r={field:s,isError:!1};e=[s.id,"Enter valid score"],ccsZaddErrorMessage(s,"Enter valid score"),r.isError=!0,r.field=s,r.isError&&(e=[r.field.id,"Enter valid score"],t.push(e))}else{let n={field:a,isError:!1};if(""!==a.value.trim()||"RM6187"!=o.value.trim()&&"RM1557.13"!=o.value.trim()||(ccsZaddErrorMessage(a,"Enter a name for this level"),n.isError=!0,n.field=a),""!==s.value.trim()||"RM6187"!=o.value.trim()&&"RM1557.13"!=o.value.trim()||(ccsZaddErrorMessage(s,"Enter a score for this level"),n.isError=!0,n.field=s),s.value.trim()<0&&("RM6187"==o.value.trim()||"RM1557.13"==o.value.trim())&&(ccsZaddErrorMessage(s,"Enter a valid score"),n.isError=!0,n.field=s),""!==i.value.trim()||"RM6187"!=o.value.trim()&&"RM1557.13"!=o.value.trim()||(ccsZaddErrorMessage(i,"Enter a description for this level"),n.isError=!0,n.field=i),""===a.value.trim()&&"RM6187"!=o.value.trim()&&"RM1557.13"!=o.value.trim()&&(ccsZaddErrorMessage(a,"Enter a name for this level"),n.isError=!0,n.field=a),""===s.value.trim()&&"RM6187"!=o.value.trim()&&"RM1557.13"!=o.value.trim()&&(ccsZaddErrorMessage(s,"Enter a score for this level"),n.isError=!0,n.field=s),"RM1043.8"==o.value.trim()&&(s.value.trim().length>3||s.value.trim()<0||s.value.trim()>100)&&(ccsZaddErrorMessage(s,"Enter valid score"),n.isError=!0,n.field=s),""===i.value.trim()&&"RM6187"!=o.value.trim()&&"RM1557.13"!=o.value.trim()&&(ccsZaddErrorMessage(i,"Enter a description for this level"),n.field=i,"RM1043.8"==o.value.trim()?r=!0:n.isError=!0),"RM6187"!=o.value.trim()&&"RM1557.13"!=o.value.trim()||n.isError&&(""===a.value.trim()&&(e=[n.field.id,"Enter a name for this level"],t.push(e)),""===s.value.trim()&&(e=[n.field.id,"Enter a score for this level"],t.push(e)),""===i.value.trim()&&(e=[n.field.id,"Enter a description for this level"],t.push(e))),"RM6187"!=o.value.trim()&&"RM1557.13"!=o.value.trim()){let l="";""===a.value.trim()?(n.field=a,l="Enter a name for this level"):""===s.value.trim()?(n.field=s,l="You must add score for this level"):"RM1043.8"==o.value.trim()&&(s.value.trim().length>3||s.value.trim()<0||s.value.trim()>100)?(n.field=s,l="Enter valid score"):""===i.value.trim()&&"RM1043.8"!=o.value.trim()&&(n.field=i,l="Enter a description for this level"),n.isError&&(e=[n.field.id,""==l?"You must add information in all fields.":l],t.push(e)),"RM1043.8"==o.value.trim()&&1==r&&(e=[i.id,"Enter a description for this level"],t.push(e))}}else""===a.value.trim()&&(e=[a.id,"Enter a name for this level"],t.push(e),ccsZaddErrorMessage(a,"Enter a name for this level")),""===s.value.trim()&&(e=[s.id,"Enter a score for this level"],t.push(e),ccsZaddErrorMessage(s,"Enter a score for this level")),""===i.value.trim()&&(e=[i.id,"Enter a description for this level"],ccsZaddErrorMessage(i,"Enter a description for this level"),t.push(e))}return t},ccsZvalidateScoringCriteria=e=>{e.preventDefault(),errorStore=[],errorStore=emptyFieldCheckRfpScore();let t=document.getElementById("tiersAdded").textContent;0===errorStore.length&&t.match(/(\d+)/)[0]>=2?document.forms.ccs_rfp_scoring_criteria.submit():t.match(/(\d+)/)[0]<2?(null!=document.getElementById("agreement_id")&&"RM1043.8"==document.getElementById("agreement_id").value?errorStore.push(["ccs_rfp_score_criteria_add","Number of scoring levels must be 2 or more"]):errorStore.push(["There is a problem","Number of scoring levels must be 2 or more"]),ccsZPresentErrorSummary(errorStore)):t.match(/(\d+)/)[0]>10?(errorStore.push(["There is a problem","You must add maximum 10 tiers."]),ccsZPresentErrorSummary(errorStore)):ccsZPresentErrorSummary(errorStore)},checkFieldsRfpScore2=()=>{for(var e=1;e<=10;e++){let t=$(`#rfp_term_service_group_${e}`),r=$(`#rfp_term_more_details_${e}`);""!==t.val()&&($(`#rfp_term_service_group_${e}-error`).remove(),$(`acronym_service_${e} div`).removeClass("govuk-form-group--error"),$(`acronym_service_${e} input`).removeClass("govuk-input--error")),""!==r.val()&&($(`#rfp_term_more_details_${e}-error`).remove(),$(`acronym_service_${e} div`).removeClass("govuk-form-group--error"),$(`acronym_service_${e} textarea`).removeClass("govuk-textarea--error"))}},removeErrorFieldsRfpScore2=()=>{$(".govuk-error-message").remove(),$(".govuk-form-group--error").removeClass("govuk-form-group--error"),$(".govuk-error-summary").remove(),$(".govuk-input").removeClass("govuk-input--error"),$(".govuk-form-group textarea").removeClass("govuk-textarea--error")},emptyFieldCheckRfpScore2=()=>{let e="",t="",r=[];$(".govuk-error-message").remove(),$(".govuk-form-group--error").removeClass("govuk-form-group--error"),$(".govuk-error-summary").remove(),$(".govuk-input").removeClass("govuk-input--error"),$(".govuk-form-group textarea").removeClass("govuk-textarea--error");for(var o=new URLSearchParams(window.location.search),n=o.get("agreement_id"),a=o.get("group_id"),s=o.get("id"),i=1;i<11;i++){let o=document.getElementById("rfp_term_service_group_"+i),l=document.getElementById("rfp_term_more_details_"+i);if(null!=o&&null!=o&&-1===o.closest("fieldset").classList.value.indexOf("ccs-dynaform-hidden"))if(checkFieldsRfpScore2(),""===o.value.trim()&&""===l.value.trim())"RM1043.8"==n&&"Group 9"==a&&"Criterion 3"==s?(e=[o.id,"Enter a user type"],ccsZaddErrorMessage(o,"Enter a user type"),t=[l.id,"Enter details about your users"],ccsZaddErrorMessage(l,"Enter details about your users"),r.push(e),r.push(t)):(e=[o.id,"You must add information in all fields."],ccsZaddErrorMessage(o,"You must add information in all fields."),ccsZaddErrorMessage(l,"You must add information in all fields."),r.push(e));else{let t={field:o,isError:!1};""===o.value.trim()&&("RM1043.8"==n&&"Group 9"==a&&"Criterion 3"==s?(e=[o.id,"Enter a user type"],ccsZaddErrorMessage(o,"Enter a user type"),r.push(e)):(ccsZaddErrorMessage(o,"You must add information in all fields."),t.isError=!0,t.field=o)),""===l.value.trim()&&("RM1043.8"==n&&"Group 9"==a&&"Criterion 3"==s?(e=[l.id,"Enter details about your users"],ccsZaddErrorMessage(l,"Enter details about your users"),r.push(e)):(ccsZaddErrorMessage(l,"You must add information in all fields."),t.isError=!0,t.field=l)),t.isError&&(e=[t.field.id,"You must add information in all fields."],r.push(e))}}return r},ccsZvalidateScoringCriteria2=e=>{e.preventDefault(),errorStore=[];var t=urlParams.get("agreement_id"),r=urlParams.get("group_id"),o=urlParams.get("id"),n=document.getElementById("lID").value;const a=document.getElementById("page-heading").innerHTML;0!==(errorStore="RM1557.13"==t&&"Group 6"==r&&"Criterion 3"==o&&"4"==n?[]:emptyFieldCheckRfpScore2()).length||a.includes("The people who will use your product or service (Optional)")?(console.log("errorStore",errorStore),ccsZPresentErrorSummary(errorStore)):document.forms.service_user_type_form.submit()},selectedTiers=e=>{},deletePost=e=>{window.confirm("Are you sure you want to delete this record?")&&(window.location.href=window.location.origin+e)};$("input[name='score_criteria_points']").on("input",function(){$(this).val($(this).val().replace(/[^a-z0-9]/gi,""))});let rfp_security_confirmation=null;document.addEventListener("DOMContentLoaded",()=>{document.getElementById("rfp_singleselect_Dos")&&(document.getElementById("rfp_singleselect_Dos").onsubmit=function(e){e.preventDefault(),removeErrorFieldsRfpSelect();let{fieldCheck:t,errorStore:r}=initializeErrorStoreForFieldCheck(e);if(document.getElementsByName("ccs_vetting_type")){t=[];var o=document.getElementsByName("ccs_vetting_type");if(o.length>0)if(1==o[0].checked){let e=$("input[name=rfp_prob_statement_m]"),t=Number(e[1].value),o=Number(e[0].value),n="";if(""==o||0==o?n="Enter an indicative maximum":(o>0&&o<t||o==t)&&(n="Indicative minimum budget must be less than indicative maximum budget"),r=[],""!=n&&("Indicative minimum budget must be less than indicative maximum budget"==n?r.push(["rfp_prob_statement_min",n]):r.push(["rfp_prob_statement_max",n])),0===r.length)document.forms.rfp_singleselect_Dos.submit();else{let e=document.getElementById("rfp_prob_statement_max");"Indicative minimum budget must be less than indicative maximum budget"==n&&(e=document.getElementById("rfp_prob_statement_min")),ccsZaddErrorMessage(e,n),ccsZPresentErrorSummary(r)}}else if(1==o[1].checked){let e=$("input[name=rfp_prob_statement_m]");e[0].value="",e[1].value="",0===r.length&&document.forms.rfp_singleselect_Dos.submit()}else if(o[0].checked||o[1].checked)0===r.length&&document.forms.rfp_singleselect_Dos.submit();else{var n=document.getElementById("page-heading").innerHTML,a="Select a security clearance level";n.includes("Set your budget")?a="Select “Yes” if you are prepared to share budget details, or select “No”":n.includes("Confirm if you require a contracted out service or supply of resource")&&(a="Select whether you need a contracted out service or a supply of resource"),!0!==(t=ccsZisOptionChecked("ccs_vetting_type",a))&&r.push(t),0===r.length?document.forms[""].submit():ccsZPresentErrorSummary(r)}}}),null!==document.getElementById("rfp_singleselect_Dos")&&null!==document.querySelector("#ccs_vetting_type")&&(document.querySelector("#ccs_vetting_type").checked?$(".main_rfp_prob_statement_m").fadeIn():$(".main_rfp_prob_statement_m").hide()),null!==document.getElementById("rfp_singleselect")&&(void 0!==document.getElementById("rfp_security_confirmation")&&null!==document.getElementById("rfp_security_confirmation")&&""!=document.getElementById("rfp_security_confirmation").value?$("#conditional-rfp_radio_security_confirmation").fadeIn():$("#conditional-rfp_radio_security_confirmation").hide()),$('input[type="checkbox"]:checked').each(function(){"other"==this.value&&($(".otherTextArea").removeClass("ccs-dynaform-hidden"),$(".otherTextAreaMsg").removeClass("ccs-dynaform-hidden"),$(".otherTextAreaPara").removeClass("ccs-dynaform-hidden"))}),$('input[type="checkbox"]:not(:checked)').each(function(){"other"==this.value&&($(".otherTextAreaMsg").addClass("ccs-dynaform-hidden"),$(".otherTextArea").addClass("ccs-dynaform-hidden"),$(".otherTextAreaPara").addClass("ccs-dynaform-hidden"),$(".otherTextArea").html(""))}),$('input[type="checkbox"]').on("click",function(e){$('input[type="checkbox"]:checked').each(function(){"other"==this.value&&($(".otherTextArea").removeClass("ccs-dynaform-hidden"),$(".otherTextAreaMsg").removeClass("ccs-dynaform-hidden"),$(".otherTextAreaPara").removeClass("ccs-dynaform-hidden"))}),$('input[type="checkbox"]:not(:checked)').each(function(){"other"==this.value&&($(".otherTextAreaMsg").addClass("ccs-dynaform-hidden"),$(".otherTextArea").addClass("ccs-dynaform-hidden"),$(".otherTextAreaPara").addClass("ccs-dynaform-hidden"),$(".otherTextArea").html(""))})}),$(".otherTextArea").on("keypress",function(){return!(this.value.length>500)})}),$('input[type="radio"]').on("change",function(e){"Yes"==e.currentTarget.value?($(".main_rfp_prob_statement_m").fadeIn(),$(".main_rfp_indicative_maximum").fadeIn(),$(".main_rfp_indicative_minimum").fadeIn()):($(".main_rfp_prob_statement_m").hide(),$(".main_rfp_indicative_maximum").hide(),$(".main_rfp_indicative_minimum").hide())});let rfp_vetting=document.querySelectorAll(".rpf_500"),rfp_term_percentage=document.querySelectorAll(".rfp_term_percentage"),ccs_vetting=document.querySelectorAll(".ccs_vetting"),rfp_term_definition_new=document.querySelectorAll(".rfp_term_definition_new");rfp_vetting.forEach(e=>{e.addEventListener("keydown",e=>{})}),rfp_term_percentage.forEach(e=>{e.addEventListener("keydown",e=>{removeErrorFieldsRfpSelect()})}),rfp_term_definition_new.forEach(e=>{e.addEventListener("keydown",e=>{removeErrorFieldsRfpSelect()})}),ccs_vetting.forEach(e=>{e.addEventListener("click",e=>{removeErrorFieldsRfpSelect()})});let removeErrRfi=document.querySelectorAll(".removeErr");removeErrRfi.forEach(e=>{e.addEventListener("keydown",e=>{ccsZremoveErrorMessage()})}),$('input[type="radio"]').on("change",function(e){"Yes"===e.currentTarget.value?(null!=rfp_security_confirmation&&""!=rfp_security_confirmation&&null!=document.getElementById("rfp_security_confirmation")&&(document.getElementById("rfp_security_confirmation").value=rfp_security_confirmation),$("#conditional-rfp_radio_security_confirmation").fadeIn()):(null!=document.getElementById("rfp_security_confirmation")&&(rfp_security_confirmation=document.getElementById("rfp_security_confirmation").value,document.getElementById("rfp_security_confirmation").value=""),$("#conditional-rfp_radio_security_confirmation").hide())});const removeErrorFieldsRfpSelect=()=>{$(".govuk-error-message").remove(),$(".govuk-form-group--error").removeClass("govuk-form-group--error"),$(".govuk-error-summary").remove(),$(".govuk-input").removeClass("govuk-input--error"),$(".govuk-form-group textarea").removeClass("govuk-textarea--error")};$("#rfp_singleselect").on("submit",e=>{if(e.preventDefault(),"RM1557.13"==document.getElementById("agreementID").value&&"Group 8"===document.getElementById("gID").value&&"4"===document.getElementById("lID").value)document.forms.rfp_singleselect.submit();else{removeErrorFieldsRfpSelect();var t=new URLSearchParams(window.location.search);t.get("agreement_id"),t.get("group_id"),t.get("id");const e=/^[a-zA-Z ]+$/;var r=document.querySelectorAll(".govuk-radios__input");let s=!1;var o=document.getElementById("page-heading").innerHTML;if(r.forEach(e=>{"radio"===e.type&&e.checked&&(s=!0)}),o.includes("existing supplier")&&s){var n=document.getElementById("ccs_vetting_type").checked,a=document.getElementById("rfp_security_confirmation");n&&""===a.value&&Number(a.value)?(ccsZaddErrorMessage(a,"You must add information in field."),ccsZPresentErrorSummary([["rfp_security_confirmationrfp_security_confirmation","You must add information in field."]])):n&&void 0!==a.value&&null!==a.value&&""!==a.value&&!e.test(a.value)&&Number(a.value)?(ccsZaddErrorMessage(a,"Please enter only character."),ccsZPresentErrorSummary([["rfp_security_confirmation","Please enter only character."]])):document.forms.rfp_singleselect.submit()}else{if(s)document.forms.rfp_singleselect.submit();else{n=document.getElementById("ccs_vetting_type");if(o.trim().toLowerCase()=="Which phase the project is in".toLowerCase())ccsZPresentErrorSummary([["ccs_vetting_type","Select a project phase"]]);else if(o.trim().toLowerCase()=="Confirm if you require a contracted out service or supply of resource".toLowerCase()){let e=new URLSearchParams(window.location.search);"RM1043.8"==e.get("agreement_id")&&"Group 21"==e.get("group_id")?ccsZPresentErrorSummary([["ccs_vetting_type","Select whether you need a contracted out service or a supply of resource"]]):ccsZPresentErrorSummary([["There is a problem","Select whether you need a contracted out service or a supply of resource"]])}else o.trim().toLowerCase()=="Choose if this is a new or replacement product or service".toLowerCase()?ccsZPresentErrorSummary([["ccs_vetting_type","Select whether this is a new or replacement product or service, or 'Not sure'"]]):o.trim().toLowerCase()=="Tell us if there is an existing supplier".toLowerCase()?ccsZPresentErrorSummary([["ccs_vetting_type","Select whether there is an existing supplier"]]):ccsZPresentErrorSummary([["ccs_vetting_type","Select a pricing model"]])}n&&(o.trim().toLowerCase()=="Which phase the project is in".toLowerCase()?ccsZaddErrorMessage(n,"Select a project phase"):o.trim().toLowerCase()=="Confirm if you require a contracted out service or supply of resource".toLowerCase()?ccsZaddErrorMessage(n,"Select whether you need a contracted out service or a supply of resource"):o.trim().toLowerCase()=="Choose if this is a new or replacement product or service".toLowerCase()?ccsZaddErrorMessage(n,"Select whether this is a new or replacement product or service, or 'Not sure'"):o.trim().toLowerCase()=="Tell us if there is an existing supplier".toLowerCase()?ccsZaddErrorMessage(n,"Select whether there is an existing supplier"):ccsZaddErrorMessage(n,"Select a pricing model"))}}}),$("#rfp_security_confirmation").on("input",function(){$(this).val($(this).val().replace(/[^a-z0-9,\s]/gi,""))});const countWordskpi=e=>e.trim().split(/\s+/).length;document.addEventListener("DOMContentLoaded",()=>{if(null!==document.getElementById("service_levels_kpi_form")){0==document.getElementById("kpiKeyLevel").textContent&&(document.getElementById("kpiKeyLevel").textContent="0");let t=10,r=0,o=document.querySelectorAll("a.del"),n=document.querySelectorAll(".govuk-input--width-5"),a=[];o.forEach(e=>{e.classList.add("ccs-dynaform-hidden"),e.addEventListener("click",r=>{r.preventDefault();let o=r.target.href.replace(/^(.+\/)(\d{1,2})$/,"$2"),n=Number(o)-1,a=e.closest("fieldset"),s=a.nextElementSibling;if(20!=o){let e=1,t=Number(o),r=Number(o),d=[];for(;s;){let o=s.classList;if(void 0!==Object.keys(o).find(e=>"closeCCS"===o[e])&&void 0===Object.keys(o).find(e=>"ccs-dynaform-hidden"===o[e])){let o=r;if(r+=1,d.push(r),1==e){var i=s.querySelector("[name='term']"),l=s.querySelector("[name='value']"),c=s.querySelector("[name='percentage']");document.getElementById("rfp_term_service_levels_KPI_"+o).value=i.value,document.getElementById("rfp_term_definition_service_levels_KPI_"+o).value=l.value,document.getElementById("rfp_term_percentage_KPI_"+o).value=c.value}else{t+=1;i=s.querySelector("[name='term']"),l=s.querySelector("[name='value']"),c=s.querySelector("[name='percentage']");document.getElementById("rfp_term_service_levels_KPI_"+t).value=i.value,document.getElementById("rfp_term_definition_service_levels_KPI_"+t).value=l.value,document.getElementById("rfp_term_percentage_KPI_"+t).value=c.value}s=s.nextElementSibling}else s=!1;e++}if(d.length>0){let e=d.at(-1);document.getElementById("rfp_term_service_levels_KPI_"+e).value="",document.getElementById("rfp_term_definition_service_levels_KPI_"+e).value="",document.getElementById("rfp_term_percentage_KPI_"+e).value="",document.getElementById("rfp_term_service_levels_KPI_"+e).closest("fieldset").classList.add("ccs-dynaform-hidden")}else a.classList.add("ccs-dynaform-hidden"),document.getElementById("rfp_term_service_levels_KPI_"+o).value="",document.getElementById("rfp_term_definition_service_levels_KPI_"+o).value="",document.getElementById("rfp_term_percentage_KPI_"+o).value="",n>1&&document.querySelector(".acronym_service_levels_KPI_"+n+" a.del").classList.remove("ccs-dynaform-hidden"),document.getElementById("ccs_rfpTerm_add").classList.remove("ccs-dynaform-hidden")}else a.classList.add("ccs-dynaform-hidden"),document.getElementById("rfp_term_service_levels_KPI_"+o).value="",document.getElementById("rfp_term_definition_service_levels_KPI_"+o).value="",document.getElementById("rfp_term_percentage_KPI_"+o).value="",n>1&&document.querySelector(".acronym_service_levels_KPI_"+n+" a.del").classList.remove("ccs-dynaform-hidden"),document.getElementById("ccs_rfpTerm_add").classList.remove("ccs-dynaform-hidden");11!=--t&&document.getElementById("ccs_rfpTerm_add").classList.remove("ccs-dynaform-hidden")})}),document.getElementById("ccs_rfpTerm_add").classList.remove("ccs-dynaform-hidden");for(var e=10;e>1;e--){let r=document.querySelector(".acronym_service_levels_KPI_"+e),o=document.getElementById("rfp_term_service_levels_KPI_"+e);document.getElementById("rfp_term_definition_service_levels_KPI_"+e),document.getElementById("rfp_term_percentage_KPI_"+e);null!=o&&null!=o&&""!==o.value?(r.classList.remove("ccs-dynaform-hidden"),r.classList.remove("ccs-dynaform-hidden"),a.push(e),10===e&&document.getElementById("ccs_rfpTerm_add").classList.add("ccs-dynaform-hidden")):(r.classList.add("ccs-dynaform-hidden"),t=e),$("#remove_icon_"+e).removeClass("ccs-dynaform-hidden"),2===e&&a.length>0&&$("#remove_icon_"+a[a.sort().length-1]).removeClass("ccs-dynaform-hidden")}document.getElementById("ccs_rfpTerm_add").addEventListener("click",e=>{let o=[];$(".govuk-form-group").removeClass("govuk-textarea--error");let n=0;var a=document.getElementsByName("percentage");for(let e=0;e<a.length;e++){n+=Number(a[e].value);let t=Number(e)+1;Number(a[e].value)>100&&o.push(["rfp_term_percentage_KPI_"+t,"Please enter percentage value less than 100"])}n<0&&o.push(["rfp_term_percentage_KPI_","You must enter a positive value"]);var s=$("fieldset.ccs-dynaform-hidden").length;console.log("divHide",s),console.log("with_value_count",t),1==s&&9==t&&(t=10),o=null==o||o.length<=0?emptyFieldCheckRfpKPI("add_more"):o,e.preventDefault(),null==o||o.length<=0?(document.querySelector(".acronym_service_levels_KPI_"+t).classList.remove("ccs-dynaform-hidden"),t>2&&(r=t-1),1!=t&&document.querySelector("#remove_icon_"+t).classList.remove("ccs-dynaform-hidden"),document.getElementById("kpiKeyLevel").textContent=t-1,$("#rfp_term_service_levels_KPI_10").keypress(function(e){document.getElementById("kpiKeyLevel").textContent=10}),11===++t&&document.getElementById("ccs_rfpTerm_add").classList.add("ccs-dynaform-hidden")):ccsZPresentErrorSummary(o)}),n.forEach(e=>{e.addEventListener("keydown",e=>{"69"==e.keyCode&&e.preventDefault()})})}});const checkFieldsRfpKPI=()=>{const e=document.getElementById("page-heading").innerHTML;for(var t=1;t<=10;t++){let r=$(`#rfp_term_service_levels_KPI_${t}`),o=$(`#rfp_term_definition_service_levels_KPI_${t}`);$(`#rfp_term_percentage_KPI_${t}`);if(!e.includes("(Optional)")){const e=countWordskpi(r.val())<50,n=countWordskpi(o.val())<150;(""!==r.val()||e)&&($(`#rfp_term_service_levels_KPI_${t}`).remove(),$(`.acronym_${t} div`).removeClass("govuk-form-group--error"),$(`.acronym_${t} input`).removeClass("govuk-input--error")),(""!==o.val()||n)&&($(`#rfp_term_service_levels_KPI_${t}-error`).remove(),$(`.acronym_${t} div`).removeClass("govuk-form-group--error"),$(`.acronym_${t} textarea`).removeClass("govuk-input--error"),$(`.acronym_${t} textarea`).removeClass("govuk-textarea--error"))}}},removeErrorFieldsRfpKPI=()=>{$(".govuk-error-message").remove(),$(".govuk-form-group--error").removeClass("govuk-form-group--error"),$(".govuk-error-summary").remove(),$(".govuk-input").removeClass("govuk-input--error"),$(".govuk-form-group textarea").removeClass("govuk-textarea--error")},emptyFieldCheckRfpKPI=(e="")=>{let t="",r=[];const o=document.getElementById("page-heading").innerHTML;$(".govuk-error-message").remove(),$(".govuk-form-group--error").removeClass("govuk-form-group--error"),$(".govuk-error-summary").remove(),$(".govuk-input").removeClass("govuk-input--error"),$(".govuk-form-group textarea").removeClass("govuk-textarea--error");for(var n=1;n<11;n++){let a=document.getElementById("rfp_term_service_levels_KPI_"+n),s=document.getElementById("rfp_term_definition_service_levels_KPI_"+n),i=document.getElementById("rfp_term_percentage_KPI_"+n);if(null!=a&&null!=s&&null!=i){const l=countWordskpi(a.value)>500,c=countWordskpi(s.value)>1e4;if(-1===a.closest("fieldset").classList.value.indexOf("ccs-dynaform-hidden")){if(""!==a.value.trim()&&""!==s.value.trim()&&""!==i.value.trim()&&(document.getElementById("kpiKeyLevel").textContent=n),""==a.value.trim()&&""==s.value.trim()&&""==i.value.trim());else if("add_more"!=e&&(o.includes("(Optional)")||o.includes("(optional)"))&&(""==a.value.trim()||""==s.value.trim()||"0"==i.value.trim()||""==i.value.trim())){let e,o=!1;""==a.value.trim()&&(e=a,o=!0,ccsZaddErrorMessage(a,"You must enter the name of requirement")),""==s.value.trim()&&(e=s,o=!0,ccsZaddErrorMessage(s,"You must enter the description of the criteria")),""==i.value.trim()&&(e=i,o=!0,ccsZaddErrorMessage(i,"Enter a success target between 0 and 100")),"0"==i.value.trim()&&(e=i,o=!0,ccsZaddErrorMessage(i,"Success target must be greater than or equal to 1.")),o&&(t=[e.id,"You must add information in all fields."],r.push(t))}if(!o.includes("(optional)")&&!o.includes("(Optional)")||"add_more"==e)if(""===a.value.trim()&&""===s.value.trim()&&""===i.value.trim())t=[s.id,"You must add information in all fields."],ccsZaddErrorMessage(a,"You must enter the name of requirement"),ccsZaddErrorMessage(s,"You must enter the description of the criteria"),ccsZaddErrorMessage(i,"Enter a success target between 0 and 100"),t=["rfp_term_service_levels_KPI_"+n,"You must enter the name of requirement"],r.push(t),t=["rfp_term_definition_service_levels_KPI_"+n,"You must enter the description of the criteria"],r.push(t),t=["rfp_term_percentage_KPI_"+n,"Enter a success target between 0 and 100"],r.push(t);else{let e=!1;""===a.value.trim()&&(ccsZaddErrorMessage(a,"You must enter the name of requirement"),e=!0,t=["rfp_term_service_levels_KPI_"+n,"You must enter the name of requirement"],r.push(t)),""===s.value.trim()&&(ccsZaddErrorMessage(s,"You must enter the description of the criteria"),e=!0,t=["rfp_term_definition_service_levels_KPI_"+n,"You must enter the description of the criteria"],r.push(t)),null!=i&&""===i.value.trim()&&(ccsZaddErrorMessage(i,"Enter a success target between 0 and 100"),e=!0,t=["rfp_term_percentage_KPI_"+n,"Enter a success target between 0 and 100"],r.push(t)),"0"==i.value.trim()&&(ccsZaddErrorMessage(i,"Success target must be greater than or equal to 1."),e=!0,t=["rfp_term_percentage_KPI_"+n,"Success target must be greater than or equal to 1."],r.push(t)),l&&(ccsZaddErrorMessage(a,"No more than 500 words are allowed."),e=!0),c&&(ccsZaddErrorMessage(s,"No more than 10000 words are allowed."),e=!0)}}}}return r},ccsZvalidateRfpKPI=e=>{e.preventDefault(),errorStore=[];let t=0;var r=document.getElementsByName("percentage");for(let e=0;e<r.length;e++)if(t+=Number(r[e].value),Number(r[e].value)>100){let t=Number(e)+1;errorStore.push(["rfp_term_percentage_KPI_"+t,"Please enter percentage value less than 100"])}100===t?errorStore.push(["rfp_term_percentage_KPI_","Percentage value equal 100% you can not add more set of question"]):t>100&&errorStore.push(["rfp_term_percentage_KPI_","Percentage value exceeding 100%, So you can not proceed"]),0===(errorStore=null==errorStore||errorStore.length<=0?emptyFieldCheckRfpKPI():errorStore).length?document.forms.service_levels_kpi_form.submit():ccsZPresentErrorSummary(errorStore)};$("#service_levels_kpi_form").on("submit",e=>{e.preventDefault();let t=0,r=[];var o=document.getElementsByName("percentage");for(let e=0;e<o.length;e++)if(t+=Number(o[e].value),Number(o[e].value)>100){let t=Number(e)+1;r.push(["rfp_term_percentage_KPI_"+t,"Please enter percentage value less than 100"])}if(t<0&&r.push(["rfp_term_percentage_KPI_","You must enter a positive value"]),0===(r=null==r||r.length<=0?emptyFieldCheckRfpKPI():r).length){if(0!=document.getElementsByClassName("govuk-hint-error-message").length)return!1;document.forms.service_levels_kpi_form.submit()}else ccsZPresentErrorSummary(r)});for(var x=1;x<11;x++)termbox=document.getElementById("rfp_term_service_levels_KPI_"+x),null!=termbox&&null!=termbox&&""!==termbox.value&&(document.getElementById("kpiKeyLevel").textContent=x);$("input[name='percentage']").on("input",function(){$(this).val($(this).val().replace(/[^a-z0-9]/gi,""))});const countWords=e=>e.trim().split(/\s+/).length;document.addEventListener("DOMContentLoaded",()=>{if(null!==document.getElementById("service_user_type_form")){"RM1557.13"==new URLSearchParams(window.location.search).get("agreement_id")&&document.getElementById("service_user_type_form").addEventListener("submit",ccsZvalidateRfpAcronyms);let t=10,r=document.querySelectorAll("a.del"),o=document.querySelectorAll("a.clear-fields"),n=[];for(var e=10;e>1;e--){let r=document.querySelector(".acronym_service_"+e),o=document.getElementById("rfp_term_service_group_"+e);document.getElementById("deleteButton_service_useer_type_"+e).classList.remove("ccs-dynaform-hidden"),null!=o&&null!=o&&""!==o.value?(r.classList.remove("ccs-dynaform-hidden"),n.push(e),10===e&&document.getElementById("ccs_rfpService_use_type_add").classList.add("ccs-dynaform-hidden")):(r.classList.add("ccs-dynaform-hidden"),t=e)}9!=n.length&&document.getElementById("ccs_rfpService_use_type_add").classList.remove("ccs-dynaform-hidden"),document.getElementById("ccs_rfpService_use_type_add").addEventListener("click",e=>{removeErrorFieldsRfpScoreQuestion(),errorStore=[],e.preventDefault();var r=new URLSearchParams(window.location.search),o=r.get("agreement_id"),n=r.get("group_id"),a=r.get("id");let s=t-1;for(var i=1;i<11;i++){let e="",t="";const r=document.querySelector("#rfp_term_service_group_"+i).value,s=document.querySelector("#rfp_term_more_details_"+i).value,l=document.querySelector(".acronym_service_"+i).classList.contains("ccs-dynaform-hidden");""!=r&&""!=s||l||(""==r&&(e=ccsZvalidateWithRegex("rfp_term_service_group_"+i,"RM1043.8"==o&&"Group 9"==n&&"Criterion 3"==a?"Enter a user type":"RM1557.13"==o&&"Group 6"==n&&"Criterion 3"==a?"Enter a user type":"You must enter information here",/\w+/)),""==s&&(t=ccsZvalidateWithRegex("rfp_term_more_details_"+i,"RM1043.8"==o&&"Group 9"==n&&"Criterion 3"==a?"Enter details about your users":"RM1557.13"==o&&"Group 6"==n&&"Criterion 3"==a?"Enter details about your users":"You must enter information here",/\w+/)),!0!==e&&errorStore.push(e),!0!==t&&errorStore.push(t),0!=errorStore.length&&ccsZPresentErrorSummary(errorStore))}if(0==errorStore.length){removeErrorFieldsRfpScoreQuestion();const e=document.querySelector("#rfp_term_service_group_"+t).value,r=document.querySelector("#rfp_term_more_details_"+t).value;""!=e&&""!=r?10==t?document.getElementById("ccs_rfpService_use_type_add").classList.add("ccs-dynaform-hidden"):(t++,document.querySelector(".acronym_service_"+t).classList.remove("ccs-dynaform-hidden"),10===t&&document.getElementById("ccs_rfpService_use_type_add").classList.add("ccs-dynaform-hidden")):(document.querySelector(".acronym_service_"+t).classList.remove("ccs-dynaform-hidden"),"RM1043.8"==o&&"Group 9"==n&&"Criterion 3"==a?0==errorStore.length&&10===t&&document.getElementById("ccs_rfpService_use_type_add").classList.add("ccs-dynaform-hidden"):10===t&&document.getElementById("ccs_rfpService_use_type_add").classList.add("ccs-dynaform-hidden"),0==errorStore.length&&($("#deleteButton_service_useer_type_"+s)&&$("#deleteButton_service_useer_type_"+s).removeClass("ccs-dynaform-hidden"),t++))}}),r.forEach(e=>{e.addEventListener("click",r=>{r.preventDefault();let o=e.href.replace(/^(.+\/)(\d{1,2})$/,"$2"),n=Number(o)-1,a=e.closest("fieldset"),s=a.nextElementSibling;if(console.log(`target: ${o}`),10!=o){let e=1,t=Number(o),r=Number(o),c=[];for(;s;){let o=s.classList;if(void 0!==Object.keys(o).find(e=>"closeCCS"===o[e])&&void 0===Object.keys(o).find(e=>"ccs-dynaform-hidden"===o[e])){let o=r;if(r+=1,c.push(r),1==e){console.log(`First: ${e} - ${t}`);var i=s.querySelector("[name='term']"),l=s.querySelector("[name='value']");console.log(i.value),console.log(l.value),document.getElementById("rfp_term_service_group_"+o).value=i.value,document.getElementById("rfp_term_more_details_"+o).value=l.value}else{t+=1,console.log(`Usual: ${e} - ${t}`);i=s.querySelector("[name='term']"),l=s.querySelector("[name='value']");console.log(i.value),console.log(l.value),document.getElementById("rfp_term_service_group_"+t).value=i.value,document.getElementById("rfp_term_more_details_"+t).value=l.value}console.log(s.classList),s=s.nextElementSibling}else s=!1;e++}if(c.length>0){console.log(c);let e=c.at(-1);console.log(`removeLogic: ${e}`),document.getElementById("rfp_term_service_group_"+e).value="",document.getElementById("rfp_term_more_details_"+e).value="",document.getElementById("rfp_term_service_group_"+e).closest("fieldset").classList.add("ccs-dynaform-hidden")}else a.classList.add("ccs-dynaform-hidden"),document.getElementById("rfp_term_service_group_"+o).value="",document.getElementById("rfp_term_more_details_"+o).value="",n>1&&document.querySelector(".acronym_service_"+n+" a.del").classList.remove("ccs-dynaform-hidden"),document.getElementById("ccs_rfpService_use_type_add").classList.remove("ccs-dynaform-hidden")}else a.classList.add("ccs-dynaform-hidden"),document.getElementById("rfp_term_service_group_"+o).value="",document.getElementById("rfp_term_more_details_"+o).value="",n>1&&document.querySelector(".acronym_service_"+n+" a.del").classList.remove("ccs-dynaform-hidden"),document.getElementById("ccs_rfpService_use_type_add").classList.remove("ccs-dynaform-hidden");11!=--t&&document.getElementById("ccs_rfpService_use_type_add").classList.remove("ccs-dynaform-hidden")})}),o.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();e.href.replace(/^(.+\/)(\d{1,2})$/,"$2");e.closest("fieldset").classList.add("ccs-dynaform")})}),n.length>=2&&n.forEach((e,t)=>{0==t&&$("#deleteButton_service_useer_type_"+e).removeClass("ccs-dynaform-hidden")})}});const removeErrorFieldsRfpScoreQuestion=()=>{$(".govuk-error-message").remove(),$(".govuk-form-group--error").removeClass("govuk-form-group--error"),$(".govuk-error-summary").remove(),$(".govuk-input").removeClass("govuk-input--error"),$(".govuk-form-group textarea").removeClass("govuk-textarea--error")},checkFieldsRfp=()=>{const e=document.getElementById("page-heading").innerHTML;for(var t=1;t<=10;t++){let r=$(`#rfp_term_${t}`),o=$(`#rfp_term_definition_${t}`);if(!e.includes("(Optional)")){const e=countWords(r.val())<50,n=countWords(o.val())<150;(""!==r.val()||e)&&($(`#rfp_term_${t}-error`).remove(),$(`.acronym_${t} div`).removeClass("govuk-form-group--error"),$(`.acronym_${t} input`).removeClass("govuk-input--error")),(""!==o.val()||n)&&($(`#rfp_term_definition_${t}-error`).remove(),$(`.acronym_${t} div`).removeClass("govuk-form-group--error"),$(`.acronym_${t} textarea`).removeClass("govuk-input--error"),$(`.acronym_${t} textarea`).removeClass("govuk-textarea--error"))}}},removeErrorFieldsRfp=()=>{$(".govuk-error-message").remove(),$(".govuk-form-group--error").removeClass("govuk-form-group--error"),$(".govuk-error-summary").remove(),$(".govuk-input").removeClass("govuk-input--error"),$(".govuk-form-group textarea").removeClass("govuk-textarea--error")},emptyFieldCheckRfp=()=>{let e="",t=[];const r=document.getElementById("page-heading").innerHTML;for(var o=1;o<11;o++){let n=document.getElementById("rfp_term_"+o),a=document.getElementById("rfp_term_definition_"+o),s=document.getElementById("rfp_term_target_"+o);if(void 0!==n.value&&void 0!==a){const o=countWords(n.value)>50,i=countWords(a.value)>150;if(-1===n.closest("fieldset").classList.value.indexOf("ccs-dynaform-hidden")&&(checkFieldsRfp(),!r.includes("(Optional)")))if(""===n.value.trim()&&""===a.value.trim())e=[a.id,"You must add information in all fields."],ccsZaddErrorMessage(n,"You must add information in all fields."),ccsZaddErrorMessage(a,"You must add information in all fields."),null!=s&&""===s.value.trim()&&ccsZaddErrorMessage(s,"You must add information in all fields."),t.push(e);else{let r=!1;""===n.value.trim()&&(ccsZaddErrorMessage(n,"You must add information in all fields."),r=!0),""===a.value.trim()&&(ccsZaddErrorMessage(a,"You must add information in all fields."),r=!0),null!=s&&""===s.value.trim()&&(ccsZaddErrorMessage(s,"You must add information in all fields."),r=!0),o&&(ccsZaddErrorMessage(n,"No more than 50 words are allowed."),r=!0),i&&(ccsZaddErrorMessage(a,"No more than 250 words are allowed."),r=!0),r&&(e=[a.id,"You must add information in all fields."],t.push(e))}}}return t},removeErrorFieldsRfpgc=()=>{$(".govuk-error-message").remove(),$(".govuk-form-group--error").removeClass("govuk-form-group--error"),$(".govuk-error-summary").remove(),$(".govuk-input").removeClass("govuk-input--error"),$(".govuk-form-group textarea").removeClass("govuk-textarea--error")},checkFieldsRfpgc=()=>{const e=document.getElementById("page-heading").innerHTML;for(var t=1;t<=20;t++){let r=$(`#rfp_term_service_group_${t}`),o=$(`#rfp_term_more_details_${t}`);if(!e.includes("(Optional)")){const e=countWords1(r.val())<50,n=countWords1(o.val())<150;(""!==r.val()||e)&&($(`#rfp_term_service_group_${t}-error`).remove(),$(`.acronym_${t} div`).removeClass("govuk-form-group--error"),$(`.acronym_${t} input`).removeClass("govuk-input--error")),(""!==o.val()||n)&&($(`#rfp_term_more_details_${t}-error`).remove(),$(`.acronym_${t} div`).removeClass("govuk-form-group--error"),$(`.acronym_${t} textarea`).removeClass("govuk-input--error"),$(`.acronym_${t} textarea`).removeClass("govuk-textarea--error"))}}},emptyFieldCheckgcloud=e=>{let t="",r=[];$(".govuk-error-message").remove(),$(".govuk-form-group--error").removeClass("govuk-form-group--error"),$(".govuk-error-summary").remove(),$(".govuk-input").removeClass("govuk-input--error"),$(".govuk-form-group textarea").removeClass("govuk-textarea--error");document.getElementById("page-heading").innerHTML;fieldMsg="You must add information in all fields.",descMsg="You must add information in all fields.";for(var o=1;o<21;o++){let n=document.getElementById("rfp_term_service_group_"+o),a=document.getElementById("rfp_term_more_details_"+o);if(null!=n&&void 0!==n.value&&null!=a&&void 0!==a)if("addmore"==e){countWords1(n.value),countWords1(a.value);-1===n.closest("fieldset").classList.value.indexOf("ccs-dynaform-hidden")&&(checkFieldsRfpgc(),""===n.value.trim()?(t=[n.id,fieldMsg],ccsZaddErrorMessage(n,fieldMsg),r.push(t)):""===a.value.trim()&&(t=[a.id,descMsg],ccsZaddErrorMessage(a,descMsg),r.push(t)))}else if(!(""==n.value&&""==a.value||""!=n.value&&""!=a.value)){countWords1(n.value),countWords1(a.value);-1===n.closest("fieldset").classList.value.indexOf("ccs-dynaform-hidden")&&(checkFieldsRfp1(),""===n.value.trim()?(t=[n.id,fieldMsg],ccsZaddErrorMessage(n,fieldMsg),r.push(t)):""===a.value.trim()&&(t=[a.id,descMsg],ccsZaddErrorMessage(a,descMsg),r.push(t)))}}return r},ccsZvalidateRfpAcronyms=e=>{errorStoreforOptional=emptyFieldCheckgcloud("submit"),0==errorStoreforOptional.length?document.forms.service_user_type_form.submit():ccsZPresentErrorSummary(errorStoreforOptional)},ccsScrollToJourney=e=>{let t=document.querySelector(".govuk-breadcrumbs"),r=setInterval(function(){window.scrollBy(0,2),window.scrollY>=t.offsetTop&&clearInterval(r)},10)},ccsZvalidateAward=e=>{e.preventDefault(),errorStore=[];const t=document.getElementById("pre_award_supplier_confirmation");if(null==t||t.checked){const e=document.querySelector(".backdrop-award");e.classList.add("showpopup"),$(".dialog-close-award").on("click",function(){e.classList.remove("showpopup"),ccsZremoveErrorMessage(t)}),stnewsupplier=document.getElementById("btn_pre_award_supplier"),stnewsupplier.addEventListener("click",t=>{0===errorStore.length?document.forms.ccs_pre_award_supplier_form.submit():ccsZPresentErrorSummary(errorStore),e.classList.remove("showpopup")})}else{let e,t=document.getElementById("agreementId");!0!==(e=null!=t&&t.value&&"RM1043.8"==t.value?ccsZisOptionChecked("pre_award_supplier_confirmation","Confirm that you have received the signed contract"):ccsZisOptionChecked("pre_award_supplier_confirmation","Acknowledgement check box must be selected to continue with the awarding of the selected supplier."))&&errorStore.push(e),ccsZPresentErrorSummary(errorStore)}},removeErrorFieldssdsd=()=>{$(".govuk-error-message").remove(),$(".govuk-form-group--error").removeClass("govuk-form-group--error"),$(".govuk-error-summary").remove(),$(".govuk-input").removeClass("govuk-input--error"),$(".govuk-form-group textarea").removeClass("govuk-textarea--error")};document.addEventListener("DOMContentLoaded",()=>{$("#award_supplier_confirmation").on("change",function(e){document.getElementById("award_supplier_confirmation").checked&&($(".govuk-error-message").remove(),$(".govuk-form-group--error").removeClass("govuk-form-group--error"),$(".govuk-error-summary").remove(),$(".govuk-input").removeClass("govuk-input--error"),$(".govuk-form-group textarea").removeClass("govuk-textarea--error"))})});const ccsZvalidateStandStillPeriod=e=>{e.preventDefault();const t=document.getElementById("standstill_period_yes").checked,r=document.getElementById("standstill_period_no").checked;t||r?document.forms.ccs_standstill_period_form.submit():ccsZPresentErrorSummary([errorStore=["There is a problem","Please select an option"]])};document.addEventListener("DOMContentLoaded",()=>{$(".btn_event_managment_award").on("click",function(e){if(console.log("!!!"),e.preventDefault(),document.getElementById("award_supplier_confirmation").checked)if($(this).hasClass("selected"))deselect($(this)),$(".backdrop-vetting").fadeOut(200);else{$(".backdrop-vetting").fadeTo(200,1);let e=document.querySelector("#redirect-button-vetting");e&&"logo rfp_vetting-popup"!=this.className&&"govuk-footer__link logo rfp_vetting-popup"!=this.className?(e.setAttribute("name","Continue"),$("#redirect-button-vetting").text("Continue")):document.body.scrollTop=document.documentElement.scrollTop=0,$(".pop").slideFadeToggle()}else ccsZisOptionChecked("award_supplier_confirmation","Please confirm that you are ready to award this contract."),ccsZPresentErrorSummary([errorStore=["award_supplier_confirmation","Confirmation checkbox must be checked before progressing"]]),document.getElementById("error-summary-title").innerText="There has been an error awarding your FC";return!1}),$(".popupbutton").on("click",function(){ccsZvalidateAward()}),$(".event_managment_award").on("click",function(e){e.preventDefault();const t=document.getElementById("standstill_period_yes").checked,r=document.getElementById("standstill_period_no").checked;if(t||r)if($(this).hasClass("selected"))deselect($(this)),$(".backdrop-vetting").fadeOut(200);else{$(".backdrop-vetting").fadeTo(200,1);let e=document.querySelector("#redirect-button-vetting");e&&"logo rfp_vetting-popup"!=this.className&&"govuk-footer__link logo rfp_vetting-popup"!=this.className?(e.setAttribute("name","Continue"),$("#redirect-button-vetting").text("Continue")):(e.setAttribute("name","CCS website"),document.body.scrollTop=document.documentElement.scrollTop=0),$(".pop").slideFadeToggle()}else ccsZPresentErrorSummary([errorStore=["There is a problem","Select if you want a standstill period"]]);return!1}),$(".dialog-close-vetting").on("click",function(){return $(".backdrop-vetting").fadeOut(200),deselect($(".dialog-close-vetting")),$(".pop").slideFadeToggle(),!1}),$(".dialog-close-nav-menu").on("click",function(){return $(".backdrop-nav-menu").fadeOut(200),deselect($(".dialog-close-nav-menu")),!1}),$("#redirect-button-vetting").on("click",function(){if($(".rfp_cap").attr("checked",!1),deselect($(".dialog-close-vetting")),$(".backdrop-vetting").fadeOut(200),"Continue"!=this.name)return!1;document.forms.ccs_standstill_period_form.submit()})});const ccsZvalidateCreateOrChoose=e=>{e.preventDefault();let t="",r=[];!0!==(t=ccsZisOptionChecked("create_or_choose","Select an option"))&&r.push(t),0===r.length?document.forms.ccs_create_or_choose.submit():ccsZPresentErrorSummary(r)},ccsZvalidateDaProjectName=e=>{e.preventDefault();let t="",r=[];!0!==(t=ccsZvalidateWithRegex("da_projLongName","Your project must have a name.",/^.+$/))&&r.push(t),0===r.length?document.forms.ccs_da_project_name_form.submit():ccsZPresentErrorSummary(r)},ccsZCountDaProjectName=e=>{e.preventDefault();const t=document.getElementById("da_projLongName");let r=document.getElementById("da_label_name_project"),o=500-t.value.length;r.innerText=o+" remaining of 500"},ccsZvalidateScore=e=>{e.preventDefault();let t="",r=[];!0!==(t=ccsZvalidateWithRegex("enter_evaluation_score","Enter Feedback.",/^.+$/))&&r.push(t),0===r.length?document.forms.enter_evaluation.submit():ccsZPresentErrorSummary(r)};$("#enter_evaluation").submit(function(){let e=[],t=Number(document.getElementById("enter_evaluation_score").value)>100,r="",o=document.getElementById("enter_evaluation_score");if(ccsZremoveErrorMessage(o),1==t&&!0!==(r=ccsZvalidateWithRegex("enter_evaluation_score","Enter a score between 0 and 100",null))&&e.push(r),""==$("#enter_evaluation_score").val()&&(r=ccsZvalidateWithRegex("enter_evaluation_score","Enter a score between 0 and 100",/^.+$/),e.push(r)),""==$("#enter_evaluation_feedback").val()&&(r=ccsZvalidateWithRegex("enter_evaluation_feedback","Please enter final feedback",/^.+$/),e.push(r),console.log("errorStore",e)),0!==e.length)return ccsZPresentErrorSummary(e),!1;document.body.classList.add("pageblur"),document.forms.enter_evaluation.submit()});const ccsZvalidateFeedback=e=>{e.preventDefault();let t="",r=[];!0!==(t=ccsZvalidateWithRegex("enter_evaluation_feedback","Enter Feedback.",/^.+$/))&&r.push(t),0===r.length?document.forms.enter_evaluation.submit():ccsZPresentErrorSummary(r)},ccsZCountsupplierFeedback=e=>{e.preventDefault();const t=document.getElementById("enter_evaluation_feedback");let r=document.getElementById("supplierFeedback"),o=5e3-t.value.length;r.innerText=o+" remaining of 5000"};if(null!==document.getElementById("enter_evaluation_score")){var txt=document.getElementById("enter_evaluation_score");txt.addEventListener("keyup",myFunc)}function myFunc(e){var t=this.value;/^([0-9]+[\.]?[0-9]?[0-9]?|[0-9]+)$/g.test(t)||(t=/^([0-9]+[\.]?[0-9]?[0-9]?|[0-9]+)/g.exec(t),this.value=t?t[0]:"")}const ccsZValidateDecimalScore=e=>{},ccsZvalidateEoiBudget=e=>{e.preventDefault();let t="",r="",o=[];const n=document.getElementById("page-heading").innerHTML;ccsZremoveErrorMessage($("#eoi_minimum_budget")),ccsZremoveErrorMessage($("#eoi_maximum_budget")),n.includes("(Optional)")||(t=ccsZvalidateWithRegex("eoi_maximum_budget","Enter a maximum value",/^.+$/),r=ccsZvalidateWithRegex("eoi_maximum_budget","Enter a valid maximum value",/^[+]?(\d*|\d{1,3}(,\d{3})*)(\.\d+)?\b$/)),!0!==t?n.includes("(Optional)")||o.push(t):!0!==r&&o.push(r),$("#eoi_minimum_budget").val()&&$("#eoi_minimum_budget").val().trim().length>0&&$("#eoi_maximum_budget").val()&&$("#eoi_maximum_budget").val().trim().length>0&&(t=ccsZvalidateWithRegex("eoi_minimum_budget","Enter a minimum value",/^.+$/),r=ccsZvalidateWithRegex("eoi_minimum_budget","Enter a valid minimum value",/^[+]?(\d*|\d{1,3}(,\d{3})*)(\.\d+)?\b$/),!0!==t?o.push(t):!0!==r?o.push(r):Number($("#eoi_maximum_budget").val())<Number($("#eoi_minimum_budget").val())&&o.push(ccsZvalidateWithRegex("eoi_minimum_budget","Minimum budget should be less than maximum budget",/(?=a)b/))),0===o.length?document.forms.eoi_budget_form.submit():ccsZPresentErrorSummary(o)},ccsZvalidateEoiContact=e=>{e.preventDefault();let t="",r=[];!0!==(t=ccsZisOptionChecked("use_stored_contact","Select an option"))&&r.push(t),0===r.length?document.forms.ccs_eoi_contact_form.submit():ccsZPresentErrorSummary(r)},ccsZvalidateEoiDeadline=e=>{e.preventDefault();let t="",r=[];!0!==(t=ccsZvalidateThisDate("eoi_response_date","Deadline must be 7 or more days in the future",1,7))&&r.push(t),!0!==(t=ccsZvalidateWithRegex("eoi_response_date_time","Select a time for your EoI deadline",/^.+$/))&&r.push(t),0===r.length?document.forms.ccs_eoi_deadline_form.submit():ccsZPresentErrorSummary(r)},ccsZvalidateEoiIncumbent=e=>{e.preventDefault();let t="",r=[];!0!==(t=ccsZisOptionChecked("ccs_eoi_incumbent","Indicate if there is an incumbent supplier"))?r.push(t):ccsZremoveErrorMessage("ccs_eoi_incumbent"),"Yes"===$("input[type='radio'][name='ccs_eoi_incumbent']:checked").val()&&0===document.getElementById("incumbent_supplier").value.trim().length?(r.push(["incumbent_supplier","Provide the name of the incumbent supplier"]),ccsZaddErrorMessage(document.getElementById("incumbent_supplier"),"Provide the name of the incumbent supplier")):ccsZremoveErrorMessage("incumbent_supplier"),0===r.length?document.forms.ccs_eoi_incumbent_form.submit():ccsZPresentErrorSummary(r)};document.addEventListener("DOMContentLoaded",()=>{if(null!==document.getElementById("ccs_eoi_incumbent_form")){if(document.getElementById("ccs_eoi_incumbent-2").checked||!document.getElementById("ccs_eoi_incumbent-2").checked&&!document.getElementById("ccs_eoi_incumbent").checked)document.getElementById("incumbent_supplier").classList.add("ccs-dynaform-hidden"),document.querySelector('label[for="incumbent_supplier"]').classList.add("ccs-dynaform-hidden");else{document.getElementById("incumbent_supplier").parentNode.classList.add("yes"),document.getElementById("incumbent_supplier").classList.add("yeswho"),document.querySelector('label[for="incumbent_supplier"]').classList.add("yeswho")}document.querySelectorAll('input[name="ccs_eoi_incumbent"]').forEach(e=>{e.addEventListener("change",function(e){let t=e.target.value;"Yes"===t&&e.target.checked?(document.getElementById("incumbent_supplier").classList.remove("ccs-dynaform-hidden"),document.querySelector('label[for="incumbent_supplier"]').classList.remove("ccs-dynaform-hidden"),e.target.parentNode.classList.add("yes"),document.getElementById("incumbent_supplier").parentNode.classList.add("yeswho")):"No"===t&&e.target.checked&&(document.getElementById("incumbent_supplier").classList.add("ccs-dynaform-hidden"),document.querySelector('label[for="incumbent_supplier"]').classList.add("ccs-dynaform-hidden"),document.getElementById("ccs_eoi_incumbent").parentNode.classList.remove("yes"),document.getElementById("incumbent_supplier").parentNode.classList.remove("yeswho"),null!==document.getElementById("incumbent_supplier-error")&&document.getElementById("incumbent_supplier-error").classList.add("ccs-dynaform-hidden"))})})}});let noLocationTag="No specific location, for example they can work remotely";const ccsZvalidateEoiLocation=e=>{e.preventDefault();let t="",r=[];!0!==(t=ccsZisOptionChecked("required_locations","You must select at least one region"))&&r.push(t),0===r.length?document.forms.eoi_location.submit():ccsZPresentErrorSummary(r)};document.addEventListener("DOMContentLoaded",()=>{if(null!==document.getElementById("ccs_select_location")||null!==document.getElementById("rfi_location")||null!==document.getElementById("eoi_location")){nospeclocationCheckboxeseoi=document.querySelectorAll("input[name='required_locations']"),nospeclocationCheckboxeseoi.forEach(e=>{"No specific location, for example they can work remotely"===e.value&&(noLocationtagideoi=e.id),"Overseas"===e.value&&(overSeesid=e.id)});let e=document.getElementById(overSeesid),t=document.getElementById(noLocationtagideoi),r=document.querySelectorAll("input[name='required_locations']");t.checked&&r.forEach(r=>{r.value!=t.value&&(r.value,e.value)}),document.getElementById(noLocationtagideoi).addEventListener("change",()=>{let e=document.getElementById(overSeesid),t=document.getElementById(noLocationtagideoi);document.querySelectorAll("input[name='required_locations']").forEach(r=>{t.checked&&r.value!=t.value&&(r.value,e.value),!t.checked&&(r.value,t.value),!t.checked&&(r.value,e.value)})})}});const ccsZvalidateEoiProjectName=e=>{e.preventDefault();let t="",r=[];!0!==(t=ccsZvalidateWithRegex("eoi_projLongName","Enter the name of your project",/^.+$/))&&r.push(t),0===r.length?document.forms.ccs_eoi_project_name_form.submit():ccsZPresentErrorSummary(r)},ccsZvalidateEoiNeeds=e=>{e.preventDefault();let t="",r=[];!0!==(t=ccsZvalidateTextArea("eoi_about_cust_org","Briefly describe your organisation"))&&r.push(t),!0!==(t=ccsZvalidateTextArea("eoi_work_objectives","Briefly describe the aims and objectives of the work"))&&r.push(t),0===r.length?document.forms.ccs_eoi_needs.submit():ccsZPresentErrorSummary(r)},ccsZvalidateEoiProject=e=>{e.preventDefault();let t="",r=[];!0!==(t=ccsZvalidateTextArea("eoi_prob_statement","Enter your project background"))&&r.push(t),0===r.length?document.forms.ccs_eoi_about_proj.submit():ccsZPresentErrorSummary(r)};function publishConfirmation(e,t){publishBtnDisable(t),document.getElementById(e).addEventListener("change",e=>{e.target.checked?publishBtnEnable(t):publishBtnDisable(t)})}function publishBtnDisable(e){document.getElementById(e).classList.add("govuk-button--disabled"),document.getElementById(e).setAttribute("disabled",!0),document.getElementById(e).setAttribute("aria-disabled",!0)}function publishBtnEnable(e){document.getElementById(e).classList.remove("govuk-button--disabled"),document.getElementById(e).removeAttribute("disabled"),document.getElementById(e).removeAttribute("aria-disabled")}document.addEventListener("DOMContentLoaded",()=>{null!==document.getElementById("eoi_publish_confirmation")&&publishConfirmation("eoi_publish_confirmation","eoi_btn_publish_now"),null!==document.getElementById("rfp_publish_confirmation")&&publishConfirmation("rfp_publish_confirmation","rfp_btn_publish_now"),null!==document.getElementById("rfi_publish_confirmation")&&publishConfirmation("rfi_publish_confirmation","rfi_btn_publish_now")});const ccsZvalidateEoiSecurity1=e=>{e.preventDefault()},ccsZvalidateLogin=e=>{e.preventDefault();let t="",r=[];!0!==(t=ccsZvalidateWithRegex("user_email","Enter a valid email address",/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/))&&r.push(t),!0!==(t=ccsZvalidateWithRegex("_user_pwd","Enter a password",/^.+$/))&&r.push(t),0===r.length?document.forms.ccs_login.submit():ccsZPresentErrorSummary(r)},ccsZvalidateRfiAddress=e=>{e.preventDefault();let t="",r=[],o=document.getElementById("rfi_proj_address-line-1").value,n=document.getElementById("rfi_proj_address-town").value,a=document.getElementById("rfi_proj_address-postcode").value;""===o&&""===n&&""===a||(!0!==(t=ccsZvalidateWithRegex("rfi_proj_address-line-1","Specify the building and street",/^.+$/))&&r.push(t),!0!==(t=ccsZvalidateWithRegex("rfi_proj_address-town","Specify the town or city",/^[A-Z|a-z| ]+$/))&&r.push(t),!0!==(t=ccsZvalidateWithRegex("rfi_proj_address-postcode","Enter a valid postcode",/A([Gg][Ii][Rr] 0[Aa]{2})|((([A-Za-z][0-9]{1,2})|(([A-Za-z][A-Ha-hJ-Yj-y][0-9]{1,2})|(([A-Za-z][0-9][A-Za-z])|([A-Za-z][A-Ha-hJ-Yj-y][0-9][A-Za-z]?))))\s?[0-9][A-Za-z]{2})$/))&&r.push(t)),0===r.length?document.forms.ccs_rfi_address_form.submit():ccsZPresentErrorSummary(r)},ccsZvalidateRfiDates=e=>{e.preventDefault();let t="",r=[],o=[];!0!==(t=ccsZvalidateThisDate("rfi_proj_start_date","Service Start Date must be a valid future date",1,0))&&o.push(t),!0!==(t=ccsZvalidateWithRegex("rfi_proj_duration_number","Specify the project duration",/^.+$/))&&r.push(t),!0!==(t=ccsZvalidateThisDate("rfi_proj_end_date","Service End Date must be a valid future date",1,0))&&r.push(t),2===r.length?o.push(["rfi_proj_duration_number","One of either project duration or project end date must be specified"]):document.getElementById("rfi_proj_duration_number").value<1&&o.push(["rfi_proj_duration_number","Project end date must be after project start date"]),0===o.length?document.forms.ccs_rfi_dates_form.submit():ccsZPresentErrorSummary(o)},ccsZvalidateRfiResponseDate=e=>{e.preventDefault();let t="",r=[];!0!==(t=ccsZvalidateThisDate("rfi_response_date","Response date must be a valid future date",1,0))&&r.push(t),0===r.length?document.forms.ccs_rfi_response_date_form.submit():ccsZPresentErrorSummary(r)};noLocationTag="No specific location, for example they can work remotely",document.addEventListener("DOMContentLoaded",()=>{if(null!==document.getElementById("ccs_select_location")||null!==document.getElementById("rfi_location")||null!==document.getElementById("rfi_location")){nospeclocationCheckboxes=document.querySelectorAll("input[name='required_locations']"),nospeclocationCheckboxes.forEach(e=>{"No specific location, for example they can work remotely"===e.value&&(noLocationtagid=e.id),"Overseas"===e.value&&(overSeesid=e.id)});document.getElementById(overSeesid);let e=document.getElementById("required_locations-14"),t=document.querySelectorAll("input[name='required_locations']");e&&e.checked&&t.forEach(e=>{}),document.getElementById("required_locations-14")&&document.getElementById("required_locations-14").addEventListener("change",()=>{let e=document.getElementById("required_locations-14");document.querySelectorAll("input[name='required_locations']").forEach(t=>{e.checked&&t.value,!e.checked&&t.value})})}});const ccsZvalidateRfiProjectName=e=>{e.preventDefault();let t="",r=[];""==$("#rfi_projLongName").val()&&(t=ccsZvalidateWithRegex("rfi_projLongName","Enter the name of your project",/^.+$/),r.push(t)),0===r.length?document.forms.ccs_rfi_project_name_form.submit():ccsZPresentErrorSummary(r)},ccsZCountRfiProjectName=e=>{e.preventDefault()};var urlParamsDefault=new URLSearchParams(window.location.search);const ccsZvalidateRfiProject=e=>{e.preventDefault();let t="",r=[];!0!==(t="RM1557.13"==urlParamsDefault.get("agreement_id")?ccsZvalidateTextArea("rfi_prob_statement","Enter your project background"):"RM6187"==urlParamsDefault.get("agreement_id")?ccsZvalidateTextArea("rfi_prob_statement","Enter your project background."):ccsZvalidateTextArea("rfi_prob_statement","You must add background information about your procurement"))&&void 0!==t&&r.push(t),0===r.length?document.forms.ccs_rfi_about_proj.submit():ccsZPresentErrorSummary(r)},ccsZCountRfiProject=e=>{e.preventDefault();const t=document.getElementById("rfi_prob_statement");let r=document.getElementById("rfi_label_prob_statement"),o=t.getAttribute("maxlength")-t.value.length;r.innerText="You have "+o+" characters remaining"},ccsZvalidateRfiProjectStatus=e=>{e.preventDefault();let t="",r=[];!0!==(t=ccsZvalidateWithRegex("rfi_prog_phase","Enter the current phase of your project",/^.+$/))&&r.push(t),!0!==(t=ccsZvalidateWithRegex("rfi_prog_phase_req","Specify the phase that the resource will work on",/^.+$/))&&r.push(t),!0!==(t=ccsZvalidateTextArea("rfi_engagement_to_date","Describe any market engagement carried out to date"))&&r.push(t),!0!==(t=ccsZvalidateWithRegex("rfi_work_arrangements","Specify the working arrangements",/^.+$/))&&r.push(t),0===r.length?document.forms.ccs_rfi_proj_status.submit():ccsZPresentErrorSummary(r)},ccsZvalidateRfiDocs=e=>{e.preventDefault();let t="",r=[];document.getElementById("rfi_file_upload_1").value.length>0&&!0!==(t=ccsZvalidateWithRegex("rfi_file_upload_1","Document must be a Word or Acrobat file",/^(\w|\W)+\.(docx?|pdf)$/))&&r.push(t),document.getElementById("rfi_additional_link").value.length>0&&!0!==(t=ccsZvalidateWithRegex("rfi_additional_link","Please enter a valid link",/^(http:\/\/www\.|https:\/\/www\.|http:\/\/|https:\/\/)?[a-z0-9]+([\-\.]{1}[a-z0-9]+)*\.[a-z]{2,5}(:[0-9]{1,5})?(\/.*)?$/))&&r.push(t),0===r.length?document.forms.ccs_rfi_docs_form.submit():ccsZPresentErrorSummary(r)};let inputLinks=$("#rfi_additional_link");inputLinks.on("keypress",()=>{""!==inputLinks.val()&&$("#upload_doc_form").fadeOut()}),inputLinks.on("blur",()=>{""===inputLinks.val()&&$("#upload_doc_form").fadeIn()});const ccsZvalidateRfiWho=e=>{e.preventDefault();let t=[];const r=document.getElementById("page-heading").innerHTML;document.getElementById("rfi_contracting_auth");""!=$("#rfi_contracting_auth").val()&&r.includes("(optional)"),0===t.length?document.forms.ccs_rfi_who_form.submit():ccsZPresentErrorSummary(t)},ccsZCountRfiWho=e=>{e.preventDefault();const t=document.getElementById("rfi_contracting_auth");let r=document.getElementById("rfi_label_contracting_auth"),o=500-t.value.length;r.innerText="You have "+o+" characters remaining"},ccsZvalidateRfPAboutBG=e=>{e.preventDefault();let t="",r=[];1==$("#rfp_prob_statement_1").data("mandatory")&&!0!==(t=ccsZvalidateTextArea("rfp_prob_statement_1","You must enter information here"))&&r.push(t),$("#rfp_prob_statement_2").length>0&&!0!==(t=ccsZvalidateTextArea("rfp_prob_statement_2","You must enter information here"))&&r.push(t),0===r.length?document.forms.ccs_rfp_about_proj.submit():ccsZPresentErrorSummary(r)},ccsZvalidateTextRfpChangeStrategy=e=>{e.preventDefault();const t=document.getElementsByClassName("govuk-hint-error-message").length,r=document.getElementById("page-heading").innerHTML;errorStore=[],null==$("#rfp_contracting_auth").val()||0!=$("#rfp_contracting_auth").val().length||r.includes("(Optional)")||r.includes("(optional)")||(r.trim().toLowerCase()=="Summary of work".toLowerCase()?fieldCheck=ccsZvalidateTextArea("rfp_contracting_auth","Enter your project summary "):fieldCheck=ccsZvalidateTextArea("rfp_contracting_auth","You must enter information here"),!0!==fieldCheck&&errorStore.push(fieldCheck));var o=document.getElementById("rfp_contracting_auth");if(null!=$("#rfp_contracting_auth").val()&&""!=$("#rfp_contracting_auth").val()&&r.includes("(Optional)"),errorStore.length>0?(ccsZPresentErrorSummary(errorStore),ccsZaddErrorMessage(o,"Supplier must be minimum 3")):(errorStore=[],document.forms.ccs_rfp_who_form.submit()),0!=t)return!1};let notApplicableTag="No specific location, for example they can work remotely";document.addEventListener("DOMContentLoaded",()=>{let e;if(nospeclocationCheckboxes=document.querySelectorAll("input[name='required_locations']"),nospeclocationCheckboxes.forEach(t=>{console.log("cl.value",t.value),"No specific location (for example they can work remotely)"===t.value&&(e=t.id)}),void 0!==e){document.getElementById(e),document.querySelectorAll("input[name='required_locations']")}if(null!==document.getElementById("rfp_location")){var t=$("input[name='required_locations']:checkbox");if(null!==document.querySelector(".dos6_vetting_change"))if(document.querySelector(".dos6_vetting_change").checked){console.log("CHECKEDDD BY LAST"),document.querySelectorAll(".dos6_vetting").forEach(function(e){e.checked=!1,e.disabled=!0,$(".main_rfp_prob_statement_s").hide()})}else t.is(":checked")?$(".main_rfp_prob_statement_s").fadeIn():$(".main_rfp_prob_statement_s").hide()}}),$('input[type="checkbox"]').on("change",function(e){var t=[];$(":checkbox:checked").each(function(e){t[e]=$(this).val()}),t.includes("No security clearance needed")?$(".main_rfp_prob_statement_s").hide():""==t?$(".main_rfp_prob_statement_s").hide():$(".main_rfp_prob_statement_s").fadeIn()}),document.querySelector(".dos6_vetting_change")&&(document.querySelector(".dos6_vetting_change").onchange=function(e){const t=document.querySelectorAll(".dos6_vetting");this.checked?t.forEach(function(e){e.checked=!1,e.disabled=!0,$(".main_rfp_prob_statement_s").hide()}):($("#rfp_prob_statement_s").val(""),t.forEach(function(e){e.disabled=!1}))});const ccsZvalidateRfpLocation=e=>{e.preventDefault();var t=new URLSearchParams(window.location.search),r=t.get("agreement_id"),o=t.get("group_id");let n="",a="",s=[],i=document.getElementById("agreement_id");null!==i&&"RM1043.8"!=i.value&&(a="You must select at least one region where your staff will be working, or  the “No specific location”");let l=document.getElementById("question_id");if(null!==l&&"Question 10"==l.value&&(a="You must select which project phases you need resource for, or confirm if this does not apply to your project."),console.log("hiddenagreement_id.value",i.value),"RM1043.8"==i.value)if(document.querySelector("#required_locations").checked){var c=$("#rfp_prob_statement_s").val();console.log("getStatement",c),document.forms.rfp_location.submit()}else{const e=document.getElementById("page-heading").innerHTML;if(e.includes("(Optional)")||e.includes("(optional)"))document.forms.rfp_location.submit();else{const e=document.getElementById("lID").value;console.log("lotid",e),console.log("group_id",o),!0!==(n=ccsZisOptionChecked("required_locations",a="RM1043.8"==r&&"Group 5"==o&&"1"==e?"Select at least one location":"RM1043.8"==r&&"Group 9"==o&&"3"==e?"Select at least one additional assessment method, or “None”":"RM1043.8"==r&&"Group 16"==o?"Select the needed security levels or “No security clearance needed”":"RM1043.8"==r&&"Group 11"==o&&"1"==e?"Select at least one additional assessment method, or “None”":"RM1043.8"==r&&"Group 4"==o&&"3"==e?"Select at least one location":" Please select the checkbox."))&&s.push(n),0===s.length?document.forms.rfp_location.submit():ccsZPresentErrorSummary(s)}}else!0!==(n=ccsZisOptionChecked("required_locations",a))&&s.push(n),0===s.length?document.forms.rfp_location.submit():ccsZPresentErrorSummary(s)},ccsZvalidateChangeRfpLocation=e=>{e.preventDefault();document.getElementById("rfp_location")};document.addEventListener("DOMContentLoaded",()=>{if(null!==document.getElementById("rfp_location")){let e=document.getElementById("required_locations-14"),t=document.querySelectorAll("input[name='required_locations']");e&&e.checked&&t.forEach(e=>{e.value!=notApplicableTag&&(e.disabled=!0)}),document.getElementById("required_locations-14")&&document.getElementById("required_locations-14").addEventListener("change",()=>{let e=document.getElementById("required_locations-14");document.querySelectorAll("input[name='required_locations']").forEach(t=>{e.checked&&t.value!=notApplicableTag&&(t.checked=!1,t.disabled=!0),e.checked||t.value==notApplicableTag||(t.disabled=!1)})})}});var errorStore=[];let words="",char="";const textPattern=/^[a-zA-Z ]+$/,condLength=e=>char=e.trim().length>1e4,wordLength=e=>(words=e.trim().split(/\s+/).length>25,char=e.trim().length>250,words||char),ccsZvalidateRfpChangeStrategy=e=>{e.preventDefault()},removeErrorFieldsRfpStar=()=>{$(".govuk-error-message").remove(),$(".govuk-form-group--error").removeClass("govuk-form-group--error"),$(".govuk-error-summary").remove(),$(".govuk-input").removeClass("govuk-input--error"),$(".govuk-form-group textarea").removeClass("govuk-textarea--error")};document.addEventListener("DOMContentLoaded",()=>{null===document.getElementById("ccs_rfp_exit_strategy_form")&&null===document.getElementById("ccs_eoi_vetting_form")||(void 0!==document.getElementById("rfp_security_confirmation")&&null!==document.getElementById("rfp_security_confirmation")&&""!=document.getElementById("rfp_security_confirmation").value?$("#conditional-rfp_radio_security_confirmation").fadeIn():$("#conditional-rfp_radio_security_confirmation").hide())});const ccsZvalidateRfPStrategy=e=>{e.preventDefault();let t="";errorStore.length=0;const r=document.getElementById("page-heading").innerHTML;var o=new URLSearchParams(window.location.search),n=o.get("agreement_id"),a=o.get("group_id"),s=o.get("id");if(void 0!==$("#ccs_vetting_type")){var i=document.querySelectorAll(".govuk-radios__input");let e=!1;i.forEach(t=>{"radio"===t.type&&t.checked&&(e=!0)}),e||!0!==(t=ccsZisOptionChecked("ccs_vetting_type","Please select an option"))&&void 0!==t&&errorStore.push(t)}if(void 0!==$("#rfp_prob_statement_t")&&void 0!==$("#rfp_prob_statement_t").val()&&(r.includes("(Optional)")||r.includes("(optional)")||0===$("#rfp_prob_statement_t").val().length&&!0!==(t=ccsZvalidateTextArea("rfp_prob_statement_t","You must enter information here"))&&errorStore.push(t),condLength($("#rfp_prob_statement_t").val()))){!0!==(t=ccsZvalidateTextArea("rfp_prob_statement_t",char?"Entry must be <= 10000 characters":"Entry must be <= 500 words",!condLength($("#rfp_prob_statement_t").val())))&&errorStore.push(t)}if(void 0!==$("#rfp_prob_statement_m")&&void 0!==$("#rfp_prob_statement_m").val()&&(r.includes("(Optional)")||0===$("#rfp_prob_statement_m").val().length&&!0!==(t=ccsZvalidateTextArea("rfp_prob_statement_m","RM1043.8"==n&&"Group 13"==a?"Enter the details of your existing team":"You must enter information here"))&&errorStore.push(t),condLength($("#rfp_prob_statement_m").val()))){!0!==(t=ccsZvalidateTextArea("rfp_prob_statement_m",char?"Entry must be <= 5000 characters":"Entry must be <= 500 words",!condLength($("#rfp_prob_statement_m").val())))&&errorStore.push(t)}if(void 0!==$("#rfp_prob_statement_n")&&void 0!==$("#rfp_prob_statement_n").val()&&(r.includes("(Optional)")||r.includes("(optional)")||0===$("#rfp_prob_statement_n").val().length&&!0!==(t=ccsZvalidateTextArea("rfp_prob_statement_n","RM1043.8"==n&&"Criterion 3"==s&&"Group 10"==a?"Enter the number of rounds":"RM1043.8"==n&&"Criterion 3"==s&&"Group 12"==a?"Enter the research location":"You must enter information here"))&&errorStore.push(t),condLength($("#rfp_prob_statement_n").val()))){!0!==(t=ccsZvalidateTextArea("rfp_prob_statement_n",char?"Entry must be <= 5000 characters":"Entry must be <= 500 words",!condLength($("#rfp_prob_statement_n").val())))&&errorStore.push(t)}if(void 0!==$("#rfp_prob_statement_g")&&void 0!==$("#rfp_prob_statement_g").val()&&(r.includes("(Optional)")||0===$("#rfp_prob_statement_g").val().length&&!0!==(t=r.trim().toLowerCase()=="The business problem you need to solve".toLowerCase()?ccsZvalidateTextArea("rfp_prob_statement_g","Enter the business problem you need to solve"):ccsZvalidateTextArea("rfp_prob_statement_g","You must enter information here"))&&errorStore.push(t),condLength($("#rfp_prob_statement_g").val()))){!0!==(t=ccsZvalidateTextArea("rfp_prob_statement_g",char?"Entry must be <= 5000 characters":"Entry must be <= 500 words",!condLength($("#rfp_prob_statement_g").val())))&&errorStore.push(t)}if(void 0!==$("#rfp_prob_statement_s")&&void 0!==$("#rfp_prob_statement_s").val()&&condLength($("#rfp_prob_statement_s").val())){!0!==(t=ccsZvalidateTextArea("rfp_prob_statement_s",char?"Entry must be <= 10000 characters":"Entry must be <= 500 words",!condLength($("#rfp_prob_statement_s").val())))&&errorStore.push(t)}void 0!==$("#rfp_prob_statement_d")&&void 0!==$("#rfp_prob_statement_d").val()&&(r.includes("(Optional)")||0===$("#rfp_prob_statement_d").val().length&&!0!==(t=r.trim().toLowerCase()=="Add background to your project".toLowerCase()?ccsZvalidateTextArea("rfp_prob_statement_d","Add background information about your procurement"):ccsZvalidateTextArea("rfp_prob_statement_d","You must add background information about your procurement"))&&errorStore.push(t),$("#rfp_prob_statement_d").val().length>500&&!0!==(t=ccsZvalidateTextArea("rfp_prob_statement_d","You must enter less than 500 characters"))&&errorStore.push(t)),void 0===$("#rfp_prob_statement_s")||void 0===$("#rfp_prob_statement_s").val()||r.includes("(optional)")||r.includes("(Optional)")||"RM6187"===n||(0===$("#rfp_prob_statement_s").val().length&&r.includes("Number of research rounds")?!0!==(t=ccsZvalidateTextArea("rfp_prob_statement_s","RM1043.8"==n?"Enter details about the number of research rounds":"Enter the number of research round"))&&errorStore.push(t):0===$("#rfp_prob_statement_s").val().length&&r.includes("Number of participants per round")?!0!==(t=ccsZvalidateTextArea("rfp_prob_statement_s","Enter the number of participants per round"))&&errorStore.push(t):0===$("#rfp_prob_statement_s").val().length&&r.includes("Research dates")?!0!==(t=ccsZvalidateTextArea("rfp_prob_statement_s","Enter research dates"))&&errorStore.push(t):0===$("#rfp_prob_statement_s").val().length&&r.includes("Description of your participants")?!0!==(t=ccsZvalidateTextArea("rfp_prob_statement_s","RM1043.8"==n?"Enter a description of your participants":"Enter description of your participants"))&&errorStore.push(t):0===$("#rfp_prob_statement_s").val().length&&r.includes("Add background to your project")?!0!==(t=ccsZvalidateTextArea("rfp_prob_statement_s","Add the social value, economic and environmental benefits of your procurement"))&&errorStore.push(t):0===$("#rfp_prob_statement_s").val().length&&r.includes("Management information and reporting")?!0!==(t=ccsZvalidateTextArea("rfp_prob_statement_s","Enter your reporting requirements"))&&errorStore.push(t):!0!==(t=ccsZvalidateTextArea("rfp_prob_statement_s","Enter details of your working arrangements"))&&errorStore.push(t)),void 0!==$("#rfp_prob_statement_s")&&void 0!==$("#rfp_prob_statement_s").val()&&!r.includes("(Optional)")&&r.includes("Management information and reporting")&&"RM6187"===n&&0===$("#rfp_prob_statement_s").val().length&&!0!==(t=ccsZvalidateTextArea("rfp_prob_statement_s","Enter management information and reporting requirements"))&&errorStore.push(t),void 0===$("#rfp_prob_statement_s")||void 0===$("#rfp_prob_statement_s").val()||r.includes("(Optional)")||r.includes("Management information and reporting")||"RM6187"!==n||0===$("#rfp_prob_statement_s").val().length&&!0!==(t=ccsZvalidateTextArea("rfp_prob_statement_s","You must enter the social value, economic and environmental benefits"))&&errorStore.push(t),void 0!==$("#rfp_prob_statement_r")&&void 0!==$("#rfp_prob_statement_r").val()&&(errorStore=[],r.includes("(Optional)")||0===$("#rfp_prob_statement_r").val().length&&!0!==(t=ccsZvalidateTextArea("rfp_prob_statement_r","You must enter information here"))&&errorStore.push(t),$("#rfp_prob_statement_r").val().length>1e4&&!0!==(t=ccsZvalidateTextArea("rfp_prob_statement_r","You must enter less than 10000 characters",!1))&&errorStore.push(t)),void 0!==$("#rfp_security_confirmation")&&void 0!==$("#rfp_security_confirmation").val()&&$("input[name='ccs_vetting_type']").prop("checked")&&(0===$("#rfp_security_confirmation").val().length?!0!==(t=ccsZvalidateTextArea("rfp_security_confirmation","Provide the name of the incumbent supplier"))&&errorStore.push(t):$("#rfp_security_confirmation").val().length>500&&!0!==(t=ccsZvalidateTextArea("rfp_security_confirmation","supplier name must be less than 500 characters"))&&errorStore.push(t)),void 0!==$("#rfp_prob_statement_e")&&void 0!==$("#rfp_prob_statement_e").val()&&(r.includes("(optional)")||r.includes("(Optional)")||"RM6187"===n||0===$("#rfp_prob_statement_e").val().length&&!0!==(t=r.trim().toLowerCase()=="Why the work is being done".toLowerCase()?ccsZvalidateTextArea("rfp_prob_statement_e","Enter the reason for doing the work "):r.trim().toLowerCase()=="Address where the work will be done".toLowerCase()?ccsZvalidateTextArea("rfp_prob_statement_e","Enter the address where the work will be done"):r.trim().toLowerCase()=="The business need".toLowerCase()?ccsZvalidateTextArea("rfp_prob_statement_e","Add details about your business need"):ccsZvalidateTextArea("rfp_prob_statement_e","You must enter information here"))&&errorStore.push(t),r.includes("(optional)")||r.includes("(Optional)")||"RM6187"!==n||(r.includes("Management information and reporting")||r.includes("The business need")?r.includes("The business need")||r.includes("Add background to your procurement")?r.includes("Management information and reporting")||r.includes("Add background to your procurement")||0===$("#rfp_prob_statement_e").val().length&&!0!==(t=ccsZvalidateTextArea("rfp_prob_statement_e","Add details about your business need"))&&errorStore.push(t):0===$("#rfp_prob_statement_e").val().length&&!0!==(t=ccsZvalidateTextArea("rfp_prob_statement_e","Enter management information and reporting requirements"))&&errorStore.push(t):0===$("#rfp_prob_statement_e").val().length&&!0!==(t=ccsZvalidateTextArea("rfp_prob_statement_e","You must add background information about your procurement"))&&errorStore.push(t)),$("#rfp_prob_statement_e").val().length>1e4&&!0!==(t=ccsZvalidateTextArea("rfp_prob_statement_e","You must enter less than 10000 characters",!1))&&errorStore.push(t)),r.includes("(Optional)")||"RM1043.8"==n||"Group 207"==a||"RM6187"==n||"RM1557.13"==n||void 0!==$("#rfp_prob_statement_s")&&void 0!==$("#rfp_prob_statement_s").val()&&0===$("#rfp_prob_statement_s").val().length&&!0!==(t=ccsZvalidateTextArea("rfp_prob_statement_s","You must enter information here"))&&errorStore.push(t),0===errorStore.length?document.forms.ccs_rfp_exit_strategy_form.submit():ccsZPresentErrorSummary(errorStore)},ccsZOnChange=e=>{$(".govuk-error-message").remove(),$(".govuk-form-group--error").removeClass("govuk-form-group--error"),$(".govuk-error-summary").remove(),$(".govuk-input").removeClass("govuk-input--error"),$(".govuk-form-group textarea").removeClass("govuk-textarea--error"),e.preventDefault();e.path[0].id},ccsZvalidateSelectOffer=e=>{e.preventDefault();let t="",r=[];!0!==(t=ccsZisOptionChecked("offer_required","Select an option"))&&r.push(t),0===r.length?document.forms.ccs_select_offer.submit():ccsZPresentErrorSummary(r)};$(document).ready(function(){window.GOVUKFrontend.initAll();var e=document.querySelector('meta[name="csrf-token"]').getAttribute("content");if($.ajaxSetup({beforeSend:function(t){t.setRequestHeader("CSRF-Token",e)}}),matchMedia){const e=window.matchMedia("(min-width: 40.0625em)");e.addListener(t),t(e)}function t(e){e.matches?document.querySelector(".global-navigation").setAttribute("aria-hidden","false"):document.querySelector(".global-navigation").setAttribute("aria-hidden","true")}document.querySelector(".global-navigation__toggler").addEventListener("click",()=>{var e="true";"true"==document.querySelector(".global-navigation").getAttribute("aria-hidden")&&(e="false"),document.querySelector(".global-navigation").setAttribute("aria-hidden",e)})});const ccsZvalidateRfiLocation=e=>{e.preventDefault();let t="",r=[];!0!==(t=ccsZisOptionChecked("required_locations","You must select at least one region"))&&r.push(t),0===r.length?document.forms.rfi_location.submit():ccsZPresentErrorSummary(r)};$(".focusdata").click(function(){var e=$("html,body"),t=$(".focus-data");e.animate({scrollTop:t.offset().top-e.offset().top+e.scrollTop(),scrollLeft:0},300)}),$("#getId").click(function(){$(this).hasClass("uncheck")?($("input[type='checkbox']").prop("checked",!0),$(this).removeClass("uncheck"),$(this).addClass("check"),$(".otherTextArea").removeClass("ccs-dynaform-hidden")):($(".otherTextArea").addClass("ccs-dynaform-hidden"),$("input[type='checkbox']").prop("checked",!1),$(this).addClass("uncheck"),$(this).removeClass("check"))}),null!==document.getElementById("ccs_login")&&document.getElementById("ccs_login").addEventListener("submit",ccsZvalidateLogin),null!==document.getElementById("ccs_create_or_choose")&&document.getElementById("ccs_create_or_choose").addEventListener("submit",ccsZvalidateCreateOrChoose),null!==document.getElementById("ccs_select_offer")&&document.getElementById("ccs_select_offer").addEventListener("submit",ccsZvalidateSelectOffer),null!==document.getElementById("ccs_eoi_needs")&&document.getElementById("ccs_eoi_needs").addEventListener("submit",ccsZvalidateEoiNeeds),null!==document.getElementById("eoi_budget_form")&&document.getElementById("eoi_budget_form").addEventListener("submit",ccsZvalidateEoiBudget),null!==document.getElementById("ccs_eoi_criteria_form")&&document.getElementById("ccs_eoi_criteria_form").addEventListener("submit",ccsZvalidateEoiCriteria),null!==document.getElementById("ccs_eoi_deadline_form")&&document.getElementById("ccs_eoi_deadline_form").addEventListener("submit",ccsZvalidateEoiDeadline),null!==document.getElementById("eoi_location")&&document.getElementById("eoi_location").addEventListener("submit",ccsZvalidateEoiLocation),null!==document.getElementById("rfi_location")&&document.getElementById("rfi_location").addEventListener("submit",ccsZvalidateRfiLocation),null!==document.getElementById("ccs_eoi_contact_form")&&document.getElementById("ccs_eoi_contact_form").addEventListener("submit",ccsZvalidateEoiContact),null!==document.getElementById("ccs_rfp_exit_strategy_form")&&document.getElementById("ccs_rfp_exit_strategy_form").addEventListener("change",ccsZOnChange),null!==document.getElementById("ccs_rfi_project_name_form")&&document.getElementById("ccs_rfi_project_name_form").addEventListener("submit",ccsZvalidateRfiProjectName),null!==document.getElementById("rfi_projLongName")&&document.getElementById("rfi_projLongName").addEventListener("input",ccsZCountRfiProjectName),null!==document.getElementById("enter_evaluation_feedback")&&document.getElementById("enter_evaluation_feedback").addEventListener("input",ccsZCountsupplierFeedback),null!==document.getElementById("enter_evaluation_score")&&document.getElementById("enter_evaluation_score").addEventListener("keypress",ccsZValidateDecimalScore),null!==document.getElementById("enter_evaluation_feedback")&&document.getElementById("enter_evaluation_feedback").addEventListener("submit",ccsZvalidateFeedback),null!==document.getElementById("enter_evaluation_score")&&document.getElementById("enter_evaluation_score").addEventListener("submit",ccsZvalidateScore),null!==document.getElementById("ccs_eoi_project_name_form")&&document.getElementById("ccs_eoi_project_name_form").addEventListener("submit",ccsZvalidateEoiProjectName),null!==document.getElementById("ccs_choose_pre_engage")&&document.getElementById("ccs_choose_pre_engage").addEventListener("submit",ccsZvalidatePreMarketRoute),null!==document.getElementById("ccs_eoi_type_form")&&document.getElementById("ccs_eoi_type_form").addEventListener("submit",ccsZvalidateEoiType),null!==document.getElementById("ccs_rfi_type_form")&&document.getElementById("ccs_rfi_type_form").addEventListener("submit",ccsZvalidateRfiType),null!==document.getElementById("ccs_rfi_who_form")&&document.getElementById("ccs_rfi_who_form").addEventListener("submit",ccsZvalidateRfiWho),null!==document.getElementById("ccs_rfi_vetting_form")&&document.getElementById("ccs_rfi_vetting_form").addEventListener("submit",ccsZvalidateRfiSecurity),null!==document.getElementById("ccs_eoi_vetting_form")&&document.getElementById("ccs_eoi_vetting_form").addEventListener("submit",ccsZvalidateEoiSecurity),null!==document.getElementById("ccs_ca_type_form")&&document.getElementById("ccs_ca_type_form").addEventListener("submit",ccsZvalidateCaaAssFCSecurity),null!==document.getElementById("ccs_ca_weighting")&&document.getElementById("ccs_ca_weighting").addEventListener("submit",ccsZvalidateCAWeightings),null!==document.getElementById("ccs_daa_weighting")&&document.getElementById("ccs_daa_weighting").addEventListener("submit",ccsZvalidateDAAWeightings),null!==document.getElementById("ca_where_work_done")&&document.getElementById("ca_where_work_done").addEventListener("submit",ccsZvalidateCAWhereWorkDone),null!==document.getElementById("da_where_work_done")&&document.getElementById("da_where_work_done").addEventListener("submit",ccsZvalidateDAWhereWorkDone),null!==document.getElementById("ccs_rfp_scoring_criteria")&&document.getElementById("ccs_rfp_scoring_criteria").addEventListener("submit",ccsZvalidateScoringCriteria),null!==document.getElementById("service_user_type_form")&&document.getElementById("service_user_type_form").addEventListener("submit",ccsZvalidateScoringCriteria2),null!==document.getElementById("ccs_rfi_address_form")&&(ccsZInitAddressFinder("rfi_proj_address-address"),document.getElementById("rfi_find_address_btn").addEventListener("click",ccsZFindAddress),document.getElementById("change_postcode").addEventListener("click",ccsZResetAddress)),null!==document.getElementById("ccs_rfi_address_manual_form")&&document.getElementById("ccs_rfi_address_manual_form").addEventListener("submit",ccsZvalidateRfiAddress),null!==document.getElementById("ccs_rfi_about_proj")&&document.getElementById("ccs_rfi_about_proj").addEventListener("submit",ccsZvalidateRfiProject),null!==document.getElementById("rfi_prob_statement")&&document.getElementById("rfi_prob_statement").addEventListener("input",ccsZCountRfiProject),null!==document.getElementById("ccs_rfi_next_steps")&&document.getElementById("ccs_rfi_next_steps").addEventListener("submit",showPopup),null!==document.getElementById("ccs_rfi_closeyouproject")&&document.getElementById("ccs_rfi_closeyouproject").addEventListener("submit",loseyouprojectShowPopup),null!==document.getElementById("supplierMsgCancel")&&document.getElementById("supplierMsgCancel").addEventListener("click",supplierMsgCancelPopup),null!==document.getElementById("rfi_contracting_auth")&&document.getElementById("rfi_contracting_auth").addEventListener("input",ccsZCountRfiWho),null!==document.getElementById("ca_justification")&&document.getElementById("ca_justification").addEventListener("input",ccsZCountCAReviewRank),null!==document.getElementById("ccs_rfi_docs_form")&&document.getElementById("ccs_rfi_docs_form").addEventListener("submit",ccsZvalidateRfiDocs),null!==document.getElementById("ccs_rfi_questions_form")&&document.getElementById("ccs_rfi_questions_form").addEventListener("submit",ccsZvalidateRfIQuestions),null!==document.getElementById("ccs_eoi_questions_form")&&document.getElementById("ccs_eoi_questions_form").addEventListener("submit",ccsZvalidateEoIQuestions),null!==document.getElementById("ccs_rfp_exit_strategy_form")&&document.getElementById("ccs_rfp_exit_strategy_form").addEventListener("submit",ccsZvalidateRfPStrategy),null!==document.getElementById("ccs_rfp_exit_strategy_form")&&null!==document.getElementById("ccs_rfp_about_proj")&&document.getElementById("ccs_rfp_about_proj").addEventListener("submit",ccsZvalidateRfPAboutBG),null!==document.getElementById("ccs_rfp_who_form")&&document.getElementById("ccs_rfp_who_form").addEventListener("submit",ccsZvalidateTextRfpChangeStrategy),null!==document.getElementById("ccs_eoi_purpose_form")&&document.getElementById("ccs_eoi_purpose_form").addEventListener("submit",ccsZvalidateEoiPurpose),null!==document.getElementById("ccs_eoi_about_proj")&&document.getElementById("ccs_eoi_about_proj").addEventListener("submit",ccsZvalidateEoiProject),null!==document.getElementById("ccs_eoi_new_form")&&document.getElementById("ccs_eoi_new_form").addEventListener("submit",ccsZvalidateEoiServiceType),null!==document.getElementById("ccs_eoi_terms_form")&&document.getElementById("ccs_eoi_terms_form").addEventListener("submit",ccsZvalidateEoiTermsForm),null!==document.getElementById("ccs_incumbent_form")&&document.getElementById("ccs_incumbent_form").addEventListener("submit",ccsZvalidateIncumbentForm),null!==document.getElementById("eoi_docs_form")&&document.getElementById("eoi_docs_form").addEventListener("submit",ccsZvalidateEoiDocs),null!==document.getElementById("ccs_eoi_duration")&&document.getElementById("ccs_eoi_duration").addEventListener("submit",ccsZvalidateEoiStartDate),null!==document.getElementById("ccs-rfi-suppliers-form")&&document.getElementById("ccs-rfi-suppliers-form").addEventListener("submit",ccsZValidateSuppliersForm),null!==document.getElementById("ccs_eoi_acronyms_form")&&document.getElementById("ccs_eoi_acronyms_form").addEventListener("submit",ccsZvalidateEoiAcronyms),null!==document.getElementById("ccs_rfp_acronyms_form")&&document.getElementById("ccs_rfp_acronyms_form").addEventListener("submit",ccsZvalidateRfpAcronymsRFP),null!==document.getElementById("rfp_location")&&document.getElementById("rfp_location").addEventListener("submit",ccsZvalidateRfpLocation),null!=document.getElementById("rfp_location")&&null!=document.getElementById("rfp_location")&&document.getElementById("rfp_location").addEventListener("change",ccsZvalidateChangeRfpLocation),null!==document.getElementById("ccs_eoi_splterms_form")&&document.getElementById("ccs_eoi_splterms_form").addEventListener("submit",ccsZvalidateEoiSpecialTerms),null!==document.getElementById("ccs_rfi_acronyms_form")&&document.getElementById("ccs_rfi_acronyms_form").addEventListener("submit",ccsZvalidateRfiAcronyms),null!==document.getElementById("ccs_eoi_date_form")&&document.getElementById("ccs_eoi_date_form").addEventListener("submit",ccsZvalidateEoiDate),null!==document.getElementById("fca_select_services_form")&&document.getElementById("fca_select_services_form").addEventListener("submit",ccsFcaSelectedServices),null!==document.getElementById("rfp_percentage_form")&&document.getElementById("rfp_percentage_form").addEventListener("submit",ccsZvalidateRfpPercentages),null!==document.getElementById("ccs_pre_award_supplier_form")&&document.getElementById("ccs_pre_award_supplier_form").addEventListener("submit",ccsZvalidateAward),null!==document.getElementById("ccs_standstill_period_form")&&document.getElementById("ccs_standstill_period_form").addEventListener("submit",ccsZvalidateStandStillPeriod),null!==document.getElementById("ccs_da_project_name_form")&&document.getElementById("ccs_da_project_name_form").addEventListener("submit",ccsZvalidateDaProjectName),null!==document.getElementById("da_projLongName")&&document.getElementById("da_projLongName").addEventListener("input",ccsZCountDaProjectName);let noOfCharac=200,contents=document.querySelectorAll(".content_review_length");function readMoreWithLength(){document.querySelectorAll(".content_review_length").forEach(function(e){e.addEventListener("click",function(e){let t=e.target.id;document.querySelector("#content-"+t);"Read more"==$("#"+t).html()?($("#moreValue"+t).removeClass("hide"),$("#"+t).html("Read less"),$("#moreValue"+t).show(),$("#dots-"+t).hide()):($("#moreValue"+t).addClass("hide"),$("#"+t).html("Read more"),$("#moreValue"+t).hide(),$("#dots-"+t).show())})})}function parseQueryG13(e){object={},-1!=e.indexOf("?")&&(e=(e=e.split("?"))[1]),parseQuery=e.split("&");for(var t=0;t<parseQuery.length;t++)if(pair=parseQuery[t].split("="),key=decodeURIComponent(pair[0]),0!=key.length){if(value=decodeURIComponent(pair[1].replace("+"," ")),"q"==key){let e=decodeURIComponent(pair[1].replace("+"," "));value=encodeURIComponent(e)}null==object[key]?object[key]=value:object[key]instanceof Array?object[key].push(value):object[key]=[object[key],value]}return object}contents.forEach((e,t)=>{if(e.textContent.length<noOfCharac);else{let r=e.textContent.slice(0,noOfCharac),o=e.textContent.slice(noOfCharac);e.innerHTML=`<div id="content-${t}">${r}<span id="dots-${t}" class="dots">...  </span><span id="moreValue${t}" class="hide more">${o}</span><a  class="read_more_btn_review" id="${t}" data-name="${t}">Read more</a> </div>`}}),readMoreWithLength(),null!==document.querySelectorAll(".ons-list__item")&&ccsTabMenuNaviation(),setInputFilter(document.getElementById("eoi_resource_start_date-day"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=31)),setInputFilter(document.getElementById("eoi_resource_start_date-month"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=12)),setInputFilter(document.getElementById("eoi_duration-days"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=31)),setInputFilter(document.getElementById("eoi_duration-months"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=12)),setInputFilter(document.getElementById("eoi_duration-years"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=100)),setInputFilter(document.getElementById("clarification_date-minute_2"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=60)),setInputFilter(document.getElementById("clarification_date-hour_2"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=23)),setInputFilter(document.getElementById("clarification_date-day_2"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=31)),setInputFilter(document.getElementById("clarification_date-month_2"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=12)),setInputFilter(document.getElementById("clarification_date-year_2"),e=>/^\d*$/.test(e)),setInputFilter(document.getElementById("clarification_date-minute_3"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=60)),setInputFilter(document.getElementById("clarification_date-hour_3"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=23)),setInputFilter(document.getElementById("clarification_date-day_3"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=31)),setInputFilter(document.getElementById("clarification_date-month_3"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=12)),setInputFilter(document.getElementById("clarification_date-year_3"),e=>/^\d*$/.test(e)),setInputFilter(document.getElementById("clarification_date-minute_4"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=60)),setInputFilter(document.getElementById("clarification_date-hour_4"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=23)),setInputFilter(document.getElementById("clarification_date-day_4"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=31)),setInputFilter(document.getElementById("clarification_date-month_4"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=12)),setInputFilter(document.getElementById("clarification_date-year_4"),e=>/^\d*$/.test(e)),setInputFilter(document.getElementById("clarification_date-minute_5"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=60)),setInputFilter(document.getElementById("clarification_date-hour_5"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=23)),setInputFilter(document.getElementById("clarification_date-day_5"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=31)),setInputFilter(document.getElementById("clarification_date-month_5"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=12)),setInputFilter(document.getElementById("clarification_date-year_5"),e=>/^\d*$/.test(e)),setInputFilter(document.getElementById("clarification_date-minute_6"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=60)),setInputFilter(document.getElementById("clarification_date-hour_6"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=23)),setInputFilter(document.getElementById("clarification_date-day_6"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=31)),setInputFilter(document.getElementById("clarification_date-month_6"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=12)),setInputFilter(document.getElementById("clarification_date-year_6"),e=>/^\d*$/.test(e)),setInputFilter(document.getElementById("clarification_date-minute_7"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=60)),setInputFilter(document.getElementById("clarification_date-hour_7"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=23)),setInputFilter(document.getElementById("clarification_date-day_7"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=31)),setInputFilter(document.getElementById("clarification_date-month_7"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=12)),setInputFilter(document.getElementById("clarification_date-year_7"),e=>/^\d*$/.test(e)),setInputFilter(document.getElementById("clarification_date-minute_8"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=60)),setInputFilter(document.getElementById("clarification_date-hour_8"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=23)),setInputFilter(document.getElementById("clarification_date-day_8"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=31)),setInputFilter(document.getElementById("clarification_date-month_8"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=12)),setInputFilter(document.getElementById("clarification_date-year_8"),e=>/^\d*$/.test(e)),setInputFilter(document.getElementById("clarification_date-minute_9"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=60)),setInputFilter(document.getElementById("clarification_date-hour_9"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=23)),setInputFilter(document.getElementById("clarification_date-day_9"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=31)),setInputFilter(document.getElementById("clarification_date-month_9"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=12)),setInputFilter(document.getElementById("clarification_date-year_9"),e=>/^\d*$/.test(e)),setInputFilter(document.getElementById("clarification_date-minute_10"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=60)),setInputFilter(document.getElementById("clarification_date-hour_10"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=23)),setInputFilter(document.getElementById("clarification_date-day_10"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=31)),setInputFilter(document.getElementById("clarification_date-month_10"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=12)),setInputFilter(document.getElementById("clarification_date-year_10"),e=>/^\d*$/.test(e)),setInputFilter(document.getElementById("clarification_date-minute_11"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=60)),setInputFilter(document.getElementById("clarification_date-hour_11"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=23)),setInputFilter(document.getElementById("clarification_date-day_11"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=31)),setInputFilter(document.getElementById("clarification_date-month_11"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=12)),setInputFilter(document.getElementById("clarification_date-year_11"),e=>/^\d*$/.test(e)),setInputFilter(document.getElementById("clarification_date-minute_12"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=60)),setInputFilter(document.getElementById("clarification_date-hour_12"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=23)),setInputFilter(document.getElementById("clarification_date-day_12"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=31)),setInputFilter(document.getElementById("clarification_date-month_12"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=12)),setInputFilter(document.getElementById("clarification_date-year_12"),e=>/^\d*$/.test(e)),setInputFilter(document.getElementById("clarification_date-minute_13"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=60)),setInputFilter(document.getElementById("clarification_date-hour_13"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=23)),setInputFilter(document.getElementById("clarification_date-day_13"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=31)),setInputFilter(document.getElementById("clarification_date-month_13"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=12)),setInputFilter(document.getElementById("clarification_date-year_13"),e=>/^\d*$/.test(e)),setInputFilter(document.getElementById("rfp_resource_start_date_day_Question11"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=31)),setInputFilter(document.getElementById("rfp_resource_start_date_month_Question 11"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=12)),setInputFilter(document.getElementById("rfp_resource_start_date_year_Question 11"),e=>/^\d*$/.test(e)),setInputFilter(document.getElementById("rfp_duration_days_Question12"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=31)),setInputFilter(document.getElementById("rfp_duration_months_Question12"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=11)),setInputFilter(document.getElementById("rfp_duration-years_Question12"),e=>/^\d*$/.test(e)),setInputFilter(document.getElementById("rfp_duration_days_Question13"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=31)),setInputFilter(document.getElementById("rfp_duration_months_Question13"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=11)),setInputFilter(document.getElementById("rfp_duration-years_Question13"),e=>/^\d*$/.test(e));const tune=e=>{let t=[];for(const r in e)if("object"==typeof e[r]){let o=e[r];for(let e=0;e<o.length;e++)t.push({key:r,value:o[e]})}else t.push({key:r,value:e[r]});return t};function g13ServiceQueryFliterJquery(e,t,r){let o="",n=r.name,a=r.value,s=r.type;if(e.length>0){if("unchecked"==s){let t=a,r=n,o=[];e.find(e=>{e.value==t&&e.key==r||o.push(e)}),e=o}e.forEach((t,r)=>{let i=t.key,l=t.value;0==r?""!=i&&(o+=`?${i}=${l}`):o+=`&${i}=${l}`,r==e.length-1&&("checked"!=s&&"categoryClicked"!=s||(o+=""!=i?`&${n}=${a}`:`?${n}=${a}`))})}else""!=a&&(o+=`?${n}=${a}`);return o}function titleCase(e){return e.toLowerCase().split(" ").map(function(e){return e.replace(e[0],e[0].toUpperCase())}).join(" ")}function removeURLParameter(e,t){var r=e.split("?");if(r.length>=2){for(var o=encodeURIComponent(t)+"=",n=r[1].split(/[&;]/g),a=n.length;a-- >0;)-1!==n[a].lastIndexOf(o,0)&&n.splice(a,1);return e=r[0]+"?"+n.join("&")}return e}function loadQuerySelector(){document.querySelectorAll(".clickCategory").forEach(function(e){e.addEventListener("click",function(){let e=this.getAttribute("data-name"),t=this.getAttribute("data-value"),r=parseQueryG13(document.location.search);r=tune(r);let o=window.location.href.split("?")[0],n=g13ServiceQueryFliterJquery(r,o,{name:e,value:t,type:"categoryClicked"});window.location.href=`${o}${n}`})}),document.querySelectorAll(".serviceCategory")&&document.querySelectorAll(".serviceCategory").forEach(function(e){e.addEventListener("click",function(){let e=this.getAttribute("data-name"),t=this.getAttribute("data-value"),r=parseQueryG13(document.location.search);r=tune(r);let o=[];r.find(e=>{"serviceCategories"!==e.key&&o.push(e)}),(r=o).push({key:"serviceCategories",value:t});let n=window.location.href.split("?")[0],a=g13ServiceQueryFliterJquery(r,n,{name:e,value:t,type:"serviceCategoryClicked"});window.location.href=`${n}${a}`})}),document.querySelectorAll(".parentCategory")&&document.querySelectorAll(".parentCategory").forEach(function(e){e.addEventListener("click",function(){let e=this.getAttribute("data-name"),t=this.getAttribute("data-value"),r=parseQueryG13(document.location.search);if(void 0===(r=tune(r)).find(e=>"parentCategory"===e.key)){let e=r.find(e=>"serviceCategories"===e.key);r.push({key:"parentCategory",value:e.value}),r.splice(r.findIndex(({key:e})=>"serviceCategories"==e),1),r.push({key:"serviceCategories",value:t})}else{let e=[];r.find(t=>{"serviceCategories"!==t.key&&e.push(t)}),(r=e).push({key:"serviceCategories",value:t})}let o=window.location.href.split("?")[0],n=g13ServiceQueryFliterJquery(r,o,{name:e,value:t,type:"parentCategoryClicked"});window.location.href=`${o}${n}`})})}function getCriterianDetails(e=0){let t=[];$(".g13Check:checked").each(function(){var e=$(this);t.push({title:e.attr("data-title"),name:e.attr("data-name")})});const r=((e,t)=>e.reduce((e,r)=>((e[r[t]]=e[r[t]]||[]).push(r),e),{}))(t,"title");let o='<b class="govuk-!-font-size-48">'+e+"</b> results found",n=parseQueryG13(document.location.search),a=(n=tune(n)).filter(e=>"q"===e.key);a.length>0&&(o+=" containing <b>"+decodeURIComponent(a[0].value)+"</b>");let s=n.filter(e=>"lot"===e.key);s.length>0?o+=" in <b>"+capitalize(s[0].value.replace("-"," "))+"</b>":o+=" in <b>All Categories</b>";let i=n.filter(e=>"serviceCategories"===e.key);i.length>0&&(o+=" in the category <b>"+capitalize(i[0].value.replace("+"," "))+"</b>"),Object.keys(r).forEach(e=>{if(void 0!==e){o+=", where <b>"+capitalize(e)+"</b> is ";let t=[];for(let o=0;o<r[e].length;o++)t.push("<b>"+capitalize(r[e][o].name)+"</b>");o+=t.join(" and ")}}),$("#criteriandetails").html(o),$("#criteriadetailsform").val(o.replace("govuk-!-font-size-48","govuk-!-font-size-24"))}document.querySelectorAll(".clickCategory").forEach(function(e){e.addEventListener("click",function(){let e=this.getAttribute("data-name"),t=this.getAttribute("data-value"),r=parseQueryG13(document.location.search);r=tune(r);let o=window.location.href.split("?")[0],n=g13ServiceQueryFliterJquery(r,o,{name:e,value:t,type:"categoryClicked"});window.location.href=`${o}${n}`})}),document.querySelectorAll(".serviceCategory")&&document.querySelectorAll(".serviceCategory").forEach(function(e){e.addEventListener("click",function(){let e=this.getAttribute("data-name"),t=this.getAttribute("data-value"),r=parseQueryG13(document.location.search);r=tune(r);let o=[];r.find(e=>{"serviceCategories"!==e.key&&o.push(e)}),(r=o).push({key:"serviceCategories",value:t});let n=window.location.href.split("?")[0],a=g13ServiceQueryFliterJquery(r,n,{name:e,value:t,type:"serviceCategoryClicked"});window.location.href=`${n}${a}`})}),document.querySelectorAll(".parentCategory")&&document.querySelectorAll(".parentCategory").forEach(function(e){e.addEventListener("click",function(){let e=this.getAttribute("data-name"),t=this.getAttribute("data-value"),r=parseQueryG13(document.location.search);if(void 0===(r=tune(r)).find(e=>"parentCategory"===e.key)){let e=r.find(e=>"serviceCategories"===e.key);r.push({key:"parentCategory",value:e.value}),r.splice(r.findIndex(({key:e})=>"serviceCategories"==e),1),r.push({key:"serviceCategories",value:t})}else{let e=[];r.find(t=>{"serviceCategories"!==t.key&&e.push(t)}),(r=e).push({key:"serviceCategories",value:t})}let o=window.location.href.split("?")[0],n=g13ServiceQueryFliterJquery(r,o,{name:e,value:t,type:"parentCategoryClicked"});window.location.href=`${o}${n}`})}),document.querySelectorAll(".g13Check").forEach(function(e){e.addEventListener("change",function(e){let t,r=this.getAttribute("name"),o=this.getAttribute("value");t=this.checked?"checked":"unchecked";let n=parseQueryG13(removeURLParameter(document.location.search,"page")),a=g13ServiceQueryFliterJquery(n=tune(n),window.location.href.split("?")[0],{name:r,value:o,type:t});window.history.pushState({html:"",pageTitle:""},"",`/g-cloud/search${a}`),document.getElementById("mainLotandcategoryContainer").innerHTML="",document.getElementById("paginationContainer").innerHTML="";let s=document.querySelector(".govuk-grid-sresult-right");s.classList.add("loadingres"),$("#criteriasavebtn").prop("disabled",!0);$.ajax({url:`/g-cloud/search-api${a}`,type:"GET",contentType:"application/json"}).done(function(e){if($("#criteriasavebtn").prop("disabled",!1),$("#criteriasavebtn").removeClass("govuk-button--disabled"),$("#clearfilter").attr("href",e.clearFilterURL),e.data.meta.total>0){s.classList.remove("loadingres"),getCriterianDetails(e.data.meta.total),document.getElementById("rightSidefooterCotainer").innerHTML="";var t="";e.njkDatas.haveLot?t='<a class="govuk-link govuk-link-filter-main" href="/g-cloud/search">All Categories</a>':(t+="<strong>All Categories</strong>",t+='<ul class="govuk-list">',e.njkDatas.lotInfos.lots.forEach(e=>{t+='<li><a data-name="lot" data-value="'+e.slug+'" class="govuk-link clickCategory" style="cursor: pointer !important;">'+titleCase(e.key)+" ("+e.count+")</a></li>"}),t+="</ul>"),e.njkDatas.haveLot&&(t+='<ul class="govuk-list">',e.njkDatas.haveserviceCategory?t+='<a class="govuk-link govuk-link-filter-main" href="/g-cloud/search?lot='+e.njkDatas.lotInfos.slug+'">'+e.njkDatas.lotInfos.label+"</a>":t+="<li><strong>"+titleCase(e.njkDatas.lotInfos.label)+" </strong></li>",e.njkDatas.lotInfos.currentparentCategory&&(t+='<p><a class="govuk-link govuk-link-filter-main" href="/g-cloud/search?lot='+e.njkDatas.lotInfos.slug+"&serviceCategories="+e.njkDatas.lotInfos.currentparentCategory+'">'+titleCase(e.njkDatas.lotInfos.currentparentCategory)+"</a></p>"),t+="<li>",t+='<ul class="govuk-list govuk-!-margin-top-0">',t+='<ul class="govuk-list govuk-!-margin-top-0 govuk-!-margin-left-2">',e.njkDatas.lotInfos.subservices.forEach(r=>{if(r.childrenssts)e.njkDatas.lotInfos.currentparentCategory?(t+="<li>",t+='<ul class="govuk-list govuk-!-margin-top-0">',t+='<ul class="govuk-list govuk-!-margin-top-0 govuk-!-margin-left-2">',r.childrens.forEach(r=>{if(r.value==e.njkDatas.lotInfos.currentserviceCategory)t+="<li><strong>"+r.label+" ("+r.count+")</strong></li>";else{var o=r.value.split(" ").join("+");t+='<li><a class="govuk-link parentCategory" data-name="'+r.name+'" data-value="'+o+'">'+r.label+"("+r.count+")</a></li>"}}),t+="</ul>",t+="</ul>"):(t+="<li>",t+="<strong>"+titleCase(e.njkDatas.lotInfos.currentserviceCategory)+"</strong>",t+='<ul class="govuk-list govuk-!-margin-top-0">',t+='<ul class="govuk-list govuk-!-margin-top-0 govuk-!-margin-left-2">',r.childrens.forEach(e=>{var r=e.value.split(" ").join("+");t+='<li><a class="govuk-link parentCategory" data-name="'+e.name+'" data-value="'+r+'">'+e.label+"("+e.count+")</a></li>"}),t+="</ul>",t+="</ul>"),t+="</li>";else if(r.value==e.njkDatas.lotInfos.currentserviceCategory)t+="<li><strong>"+r.label+"</strong></li>";else if("supportMultiCloud"!==r.name){var o=r.value.split(" ").join("+");t+='<li><a class="govuk-link serviceCategory" data-name="'+r.name+'" data-value="'+o+'">'+r.label+"("+r.count+")</a></li>"}}),t+="</ul>",t+="</ul>",t+="</li>",t+="</ul>"),document.getElementById("mainLotandcategoryContainer").innerHTML=t;var r="";r+='<div class="govuk-grid-row">',r+='<div class="govuk-grid-column-full">',r+='<ul class="govuk-list govuk-supplier-list">',e.data.documents.forEach(e=>{r+='<li class="app-search-result"><h2 class="govuk-heading-s govuk-!-margin-bottom-1"><a class="govuk-link" href="/g-cloud/services?id='+e.id+'">'+e.serviceName+'</a></h2><p class="govuk-body govuk-!-font-size-16 govuk-!-font-weight-bold">'+e.supplierName+'</p><p class="govuk-body govuk-!-font-size-16">'+e.serviceDescription+'</p><ul aria-label="tags" class="govuk-list app-search-result__metadata"><li class="govuk-!-display-inline govuk-!-padding-right-4">'+e.lotName+'</li><li class="govuk-!-display-inline">'+e.frameworkName+"</li></ul></li>"}),r+="<div>",r+="<div>",r+="<ul>",document.getElementById("searchResultsContainer").innerHTML=r;var o="";o+='<div class="govuk-grid-row">',o+='<div class="govuk-grid-column-full">',o+='<div class="govuk-grid-column-one-half">',o+="<div>",o+="&nbsp;",""!=e.njkDatas.PrvePageUrl&&1!=e.njkDatas.CurrentPageNumber&&(o+='<p class="govuk-body govuk-!-margin-0">',o+='<a href="/g-cloud/search?'+e.njkDatas.PrvePageUrl+'" class="govuk-link govuk-link--no-visited-state govuk-!-font-weight-bold govuk-!-font-size-24 paginationUrlClass">',o+='<svg class="govuk-pagination__icon govuk-pagination__icon--prev" xmlns="http://www.w3.org/2000/svg" height="13" width="15" aria-hidden="true" focusable="false" viewBox="0 0 15 13" fill="#1d70b8">',o+='<path d="m6.5938-0.0078125-6.7266 6.7266 6.7441 6.4062 1.377-1.449-4.1856-3.9768h12.896v-2h-12.984l4.2931-4.293-1.414-1.414z"></path>',o+="</svg>",o+="Previous Page</a>",o+="</p>",o+='<p class="govuk-body govuk-!-margin-0"><label class="govuk-!-font-size-16">'+(e.njkDatas.CurrentPageNumber-1)+" of "+e.njkDatas.noOfPages+"</label></p>  "),o+="</div>",o+="</div>",o+='<div class="govuk-grid-column-one-half govuk-!-text-align-right">',o+="<div>",o+="&nbsp;",""!=e.njkDatas.NextPageUrl&&(o+='<p class="govuk-body govuk-!-margin-0">',o+='<a href="/g-cloud/search?'+e.njkDatas.NextPageUrl+'" class="govuk-link govuk-link--no-visited-state govuk-!-font-weight-bold govuk-!-font-size-24 paginationUrlClass">',o+='<svg class="govuk-pagination__icon govuk-pagination__icon--next" xmlns="http://www.w3.org/2000/svg" height="13" width="15" aria-hidden="true" focusable="false" viewBox="0 0 15 13" fill="#1d70b8">',o+='<path d="m8.107-0.0078125-1.4136 1.414 4.2926 4.293h-12.986v2h12.896l-4.1855 3.9766 1.377 1.4492 6.7441-6.4062-6.7246-6.7266z"></path>',o+="</svg>",o+="Next Page</a>",o+="</p>"),"0"==e.njkDatas.noOfPages||"1"==e.njkDatas.noOfPages?o+='<p class="govuk-body govuk-!-margin-0"><label class="govuk-!-font-size-16">'+e.njkDatas.CurrentPageNumber+" of 1</label></p>":o+='<p class="govuk-body govuk-!-margin-0"><label class="govuk-!-font-size-16">'+e.njkDatas.CurrentPageNumber+" of "+e.njkDatas.noOfPages+"</label></p>",o+="</div>",o+="</div>",o+="</div>",o+="</div>",document.getElementById("paginationContainer").innerHTML=o}else{$("#criteriasavebtn").prop("disabled",!0),s.classList.remove("loadingres"),getCriterianDetails(0),document.getElementById("searchResultsContainer").innerHTML="",document.getElementById("rightSidefooterCotainer").innerHTML="";'<h3 class="govuk-heading-m">Improve your search results by:</h3>','<ul class="govuk-list govuk-!-margin-top-0">','<ul class="govuk-list govuk-!-margin-top-0 govuk-!-margin-left-2">',"</li>removing filters</li><br>","</li>choosing a different category</li><br>","</li>double-checking your spelling</li><br>","</li>using fewer keywords</li><br>","</li>searching for something less specific, you can refine your results later</li><br>","</ul>","</ul>",document.getElementById("rightSidefooterCotainer").innerHTML='<h3 class="govuk-heading-m">Improve your search results by:</h3><ul class="govuk-list govuk-!-margin-top-0"><ul class="govuk-list govuk-!-margin-top-0 govuk-!-margin-left-2"></li>removing filters</li><br></li>choosing a different category</li><br></li>double-checking your spelling</li><br></li>using fewer keywords</li><br></li>searching for something less specific, you can refine your results later</li><br></ul></ul>'}loadQuerySelector()}).fail(e=>{})})}),window.addEventListener("DOMContentLoaded",e=>{document.getElementById("searchQuery")&&(document.getElementById("searchQuery").value=window.location.search);let t=document.getElementById("criteriasavebtn");t&&t.addEventListener("click",function(e){document.getElementById("searchQuery")&&(document.getElementById("searchQuery").value=window.location.search)}),document.querySelectorAll(".paginationUrlClass").forEach(e=>{e.addEventListener("click",function(e){let t="",r=document.getElementsByClassName("g13_search"),o=parseQueryG13(document.location.search),n=(o=tune(o)).find(e=>"q"===e.key);n&&o.splice(n,1),r.length>0&&o.unshift({key:"q",value:encodeURIComponent(r)});let a=window.location.href.split("?")[0];o.forEach((e,r)=>{let o=e.key,n=e.value;0==r?""!=o&&(t+=`?${o}=${n}`):t+=`&${o}=${n}`}),window.location.href=`${a}${t}`})});var r=document.getElementsByClassName("g13_search")[0];r&&r.addEventListener("keypress",function(e){"Enter"===e.key&&(e.preventDefault(),document.getElementsByClassName("g13_search_click")[0].click())}),document.querySelector(".g13_search_click")&&document.querySelector(".g13_search_click").addEventListener("click",function(){$(".govuk-error-message").remove(),$(".govuk-form-group--error").removeClass("govuk-form-group--error"),$(".govuk-error-summary").remove(),$(".govuk-input").removeClass("govuk-input--error"),$(".govuk-form-group textarea").removeClass("govuk-textarea--error");let e="";document.getElementById("searchQuery").value=window.location.search;let t=document.getElementsByClassName("g13_search"),r=document.getElementById("with-hint");if(t[0].value.length>250)return ccsZaddErrorMessage(r,"Keywords must be 250 characters or fewer."),!1;let o=parseQueryG13(removeURLParameter(document.location.search,"page")),n=(o=tune(o)).find(e=>"q"===e.key);n&&o.splice(n,1),t[0].value.length>0&&o.unshift({key:"q",value:encodeURIComponent(t[0].value)});window.location.href.split("?")[0];o.forEach((t,r)=>{let o=t.key,n=t.value;0==r?""!=o&&(e+=`?${o}=${n}`):e+=`&${o}=${n}`});window.history.pushState({html:"",pageTitle:""},"",`/g-cloud/search${e}`),document.getElementById("searchResultsContainer").innerHTML="",document.getElementById("mainLotandcategoryContainer").innerHTML="",document.getElementById("paginationContainer").innerHTML="";let a=document.querySelector("#searchResultsContainer");a.classList.add("loadingres"),$("#criteriasavebtn").prop("disabled",!0),$.ajax({url:`/g-cloud/search-api${e}`,type:"GET",contentType:"application/json"}).done(function(e){if($("#criteriasavebtn").prop("disabled",!1),$("#criteriasavebtn").removeClass("govuk-button--disabled"),$("#clearfilter").attr("href",e.clearFilterURL),e.data.meta.total>0){a.classList.remove("loadingres"),getCriterianDetails(e.data.meta.total),document.getElementById("rightSidefooterCotainer").innerHTML="";var t="";e.njkDatas.haveLot?t='<a class="govuk-link govuk-link-filter-main" href="/g-cloud/search">All Categories</a>':(t+="<strong>All Categories</strong>",t+='<ul class="govuk-list">',e.njkDatas.lotInfos.lots.forEach(e=>{t+='<li><a data-name="lot" data-value="'+e.slug+'" class="govuk-link clickCategory" style="cursor: pointer !important;">'+titleCase(e.key)+" ("+e.count+")</a></li>"}),t+="</ul>"),e.njkDatas.haveLot&&(t+='<ul class="govuk-list">',e.njkDatas.haveserviceCategory?t+='<a class="govuk-link govuk-link-filter-main" href="/g-cloud/search?lot='+e.njkDatas.lotInfos.slug+'">'+e.njkDatas.lotInfos.label+"</a>":t+="<li><strong>"+titleCase(e.njkDatas.lotInfos.label)+" </strong></li>",e.njkDatas.lotInfos.currentparentCategory&&(t+='<p><a class="govuk-link govuk-link-filter-main" href="/g-cloud/search?lot='+e.njkDatas.lotInfos.slug+"&serviceCategories="+e.njkDatas.lotInfos.currentparentCategory+'">'+titleCase(e.njkDatas.lotInfos.currentparentCategory)+"</a></p>"),t+="<li>",t+='<ul class="govuk-list govuk-!-margin-top-0">',t+='<ul class="govuk-list govuk-!-margin-top-0 govuk-!-margin-left-2">',e.njkDatas.lotInfos.subservices.forEach(r=>{if(r.childrenssts)e.njkDatas.lotInfos.currentparentCategory?(t+="<li>",t+='<ul class="govuk-list govuk-!-margin-top-0">',t+='<ul class="govuk-list govuk-!-margin-top-0 govuk-!-margin-left-2">',r.childrens.forEach(r=>{if(r.value==e.njkDatas.lotInfos.currentserviceCategory)t+="<li><strong>"+r.label+" ("+r.count+")</strong></li>";else{var o=r.value.split(" ").join("+");t+='<li><a class="govuk-link parentCategory" data-name="'+r.name+'" data-value="'+o+'">'+r.label+"("+r.count+")</a></li>"}}),t+="</ul>",t+="</ul>"):(t+="<li>",t+="<strong>"+titleCase(e.njkDatas.lotInfos.currentserviceCategory)+"</strong>",t+='<ul class="govuk-list govuk-!-margin-top-0">',t+='<ul class="govuk-list govuk-!-margin-top-0 govuk-!-margin-left-2">',r.childrens.forEach(e=>{var r=e.value.split(" ").join("+");t+='<li><a class="govuk-link parentCategory" data-name="'+e.name+'" data-value="'+r+'">'+e.label+"("+e.count+")</a></li>"}),t+="</ul>",t+="</ul>"),t+="</li>";else if(r.value==e.njkDatas.lotInfos.currentserviceCategory)t+="<li><strong>"+r.label+"</strong></li>";else if("supportMultiCloud"!==r.name){var o=r.value.split(" ").join("+");t+='<li><a class="govuk-link serviceCategory" data-name="'+r.name+'" data-value="'+o+'">'+r.label+"("+r.count+")</a></li>"}}),t+="</ul>",t+="</ul>",t+="</li>",t+="</ul>"),document.getElementById("mainLotandcategoryContainer").innerHTML=t;var r="";r+='<div class="govuk-grid-row">',r+='<div class="govuk-grid-column-full">',r+='<ul class="govuk-list govuk-supplier-list">',e.data.documents.forEach(e=>{r+='<li class="app-search-result"><h2 class="govuk-heading-s govuk-!-margin-bottom-1"><a class="govuk-link" href="/g-cloud/services?id='+e.id+'">'+e.serviceName+'</a></h2><p class="govuk-body govuk-!-font-size-16 govuk-!-font-weight-bold">'+e.supplierName+'</p><p class="govuk-body govuk-!-font-size-16">'+e.serviceDescription+'</p><ul aria-label="tags" class="govuk-list app-search-result__metadata"><li class="govuk-!-display-inline govuk-!-padding-right-4">'+e.lotName+'</li><li class="govuk-!-display-inline">'+e.frameworkName+"</li></ul></li>"}),r+="<div>",r+="<div>",r+="<ul>",document.getElementById("searchResultsContainer").innerHTML=r;var o="";o+='<div class="govuk-grid-row">',o+='<div class="govuk-grid-column-full">',o+='<div class="govuk-grid-column-one-half">',o+="<div>",o+="&nbsp;",""!=e.njkDatas.PrvePageUrl&&1!=e.njkDatas.CurrentPageNumber&&(o+='<p class="govuk-body govuk-!-margin-0">',o+='<a href="/g-cloud/search?'+e.njkDatas.PrvePageUrl+'" class="govuk-link govuk-link--no-visited-state govuk-!-font-weight-bold govuk-!-font-size-24 paginationUrlClass">',o+='<svg class="govuk-pagination__icon govuk-pagination__icon--prev" xmlns="http://www.w3.org/2000/svg" height="13" width="15" aria-hidden="true" focusable="false" viewBox="0 0 15 13" fill="#1d70b8">',o+='<path d="m6.5938-0.0078125-6.7266 6.7266 6.7441 6.4062 1.377-1.449-4.1856-3.9768h12.896v-2h-12.984l4.2931-4.293-1.414-1.414z"></path>',o+="</svg>",o+="Previous Page</a>",o+="</p>",o+='<p class="govuk-body govuk-!-margin-0"><label class="govuk-!-font-size-16">'+(e.njkDatas.CurrentPageNumber-1)+" of "+e.njkDatas.noOfPages+"</label></p>  "),o+="</div>",o+="</div>",o+='<div class="govuk-grid-column-one-half govuk-!-text-align-right">',o+="<div>",o+="&nbsp;",""!=e.njkDatas.NextPageUrl&&(o+='<p class="govuk-body govuk-!-margin-0">',o+='<a href="/g-cloud/search?'+e.njkDatas.NextPageUrl+'" class="govuk-link govuk-link--no-visited-state govuk-!-font-weight-bold govuk-!-font-size-24 paginationUrlClass">',o+='<svg class="govuk-pagination__icon govuk-pagination__icon--next" xmlns="http://www.w3.org/2000/svg" height="13" width="15" aria-hidden="true" focusable="false" viewBox="0 0 15 13" fill="#1d70b8">',o+='<path d="m8.107-0.0078125-1.4136 1.414 4.2926 4.293h-12.986v2h12.896l-4.1855 3.9766 1.377 1.4492 6.7441-6.4062-6.7246-6.7266z"></path>',o+="</svg>",o+="Next Page</a>",o+="</p>"),"0"==e.njkDatas.noOfPages||"1"==e.njkDatas.noOfPages?o+='<p class="govuk-body govuk-!-margin-0"><label class="govuk-!-font-size-16">'+e.njkDatas.CurrentPageNumber+" of 1</label></p>":o+='<p class="govuk-body govuk-!-margin-0"><label class="govuk-!-font-size-16">'+e.njkDatas.CurrentPageNumber+" of "+e.njkDatas.noOfPages+"</label></p>",o+="</div>",o+="</div>",o+="</div>",o+="</div>",document.getElementById("paginationContainer").innerHTML=o}else{$("#criteriasavebtn").prop("disabled",!0),document.getElementById("searchResultsContainer").innerHTML="",getCriterianDetails(0),a.classList.remove("loadingres"),document.getElementById("rightSidefooterCotainer").innerHTML="";'<h3 class="govuk-heading-m">Improve your search results by:</h3>','<ul class="govuk-list govuk-!-margin-top-0">','<ul class="govuk-list govuk-!-margin-top-0 govuk-!-margin-left-2">',"</li>removing filters</li><br>","</li>choosing a different category</li><br>","</li>double-checking your spelling</li><br>","</li>using fewer keywords</li><br>","</li>searching for something less specific, you can refine your results later</li><br>","</ul>","</ul>",document.getElementById("rightSidefooterCotainer").innerHTML='<h3 class="govuk-heading-m">Improve your search results by:</h3><ul class="govuk-list govuk-!-margin-top-0"><ul class="govuk-list govuk-!-margin-top-0 govuk-!-margin-left-2"></li>removing filters</li><br></li>choosing a different category</li><br></li>double-checking your spelling</li><br></li>using fewer keywords</li><br></li>searching for something less specific, you can refine your results later</li><br></ul></ul>'}loadQuerySelector()}).fail(e=>{})})}),document.addEventListener("readystatechange",e=>{if("complete"===e.target.readyState){let e=parseQueryG13(document.location.search);(e=tune(e)).forEach((e,t)=>{console.log(e),"q"===e.key&&$(".g13_search").val(decodeURIComponent(e.value)),$(".g13Check").each(function(){$(this).attr("name")==e.key&&$(this).val()==e.value&&$(this).attr("checked","checked")})}),getCriterianDetails($("#totalResult").attr("data-value"))}});const capitalize=e=>"string"!=typeof e?"":e.charAt(0).toUpperCase()+e.slice(1);if(document.querySelectorAll(".dos_evaluate_supplier").forEach(function(e){e.addEventListener("change",function(e){var t=$(".dos_evaluate_supplier:checked").map(function(){return this.value}).get().join(", ");$("#invite_suppliers").val(t)});var t=$(".dos_evaluate_supplier:checked").map(function(){return this.value}).get().join(", ");$("#invite_suppliers").val(t)}),document.querySelectorAll(".dos_evaluate_supplier").forEach(function(e){e.addEventListener("change",function(e){var t=$(".dos_evaluate_supplier:checked").map(function(){return this.value}).get().join(", ");$("#invite_suppliers").val(t)});var t=$(".dos_evaluate_supplier:checked").map(function(){return this.value}).get().join(", ");$("#invite_suppliers").val(t)}),document.querySelectorAll("#invite_short_list_suppliers_btn").forEach(function(e){e.addEventListener("click",function(e){document.getElementById("invite_short_list_suppliers").submit()})}),document.querySelectorAll(".loaderClick").forEach(function(e){e.addEventListener("click",function(e){document.body.classList.add("pageblur")})}),document.querySelectorAll(".startEvalDos6Btn").forEach(function(e){e.addEventListener("click",function(e){document.querySelector(".loderMakeRes").innerHTML='<p class="govuk-body loader-desc-hdr">Retrieving supplier responses</p><p class="govuk-body loader-desc">Please allow some time for this operation to complete. Once finished, you will be able to download supplier responses. We suggest taking a break in the meantime and checking back in a few minutes. Please keep the tab open while this process is taking place.</p>',document.body.classList.add("pageblur")})}),document.querySelectorAll(".download").forEach(function(e){e.addEventListener("click",function(e){var t=$(this).attr("data-url");$.ajax({url:t,type:"GET",contentType:"application/json",xhrFields:{responseType:"blob"},beforeSend:function(){document.querySelector(".loderMakeRes").innerHTML="<p class='govuk-body loader-desc-hdr'>Downloading supplier responses</p><p class='govuk-body loader-desc'>Please allow some time for this operation to complete. Once finished, your downloaded responses can be found in the 'Downloads' section of your browser.  We suggest taking a break in the meantime and checking back in a few minutes. Please keep the tab open while this process is taking place.</p>",document.body.classList.add("pageblur")},success:function(e,t,r){document.body.classList.remove("pageblur");var o="",n=r.getResponseHeader("Content-Disposition");if(n&&-1!==n.indexOf("attachment")){var a=/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/.exec(n);null!=a&&a[1]&&(o=a[1].replace(/['"]/g,""))}if(void 0!==window.navigator.msSaveBlob)window.navigator.msSaveBlob(e,o);else{var s=window.URL||window.webkitURL,i=s.createObjectURL(e);if(o){var l=document.createElement("a");void 0===l.download?window.location.href=i:(l.href=i,l.download=o,document.body.appendChild(l),l.click())}else window.location.href=i;setTimeout(function(){s.revokeObjectURL(i),window.location.reload()},1e3)}},error:function(e,t,r){document.body.classList.remove("pageblur")}})})}),document.querySelectorAll(".suppliersAwardConfirm")){let e=[];document.querySelectorAll(".suppliersAwardConfirm").forEach(function(t){e.push(t.getAttribute("data-value"));let r=Math.max.apply(Math,e);t.addEventListener("click",function(){let e=this.getAttribute("data-url"),t=this.getAttribute("data-name"),o=document.querySelector(`[data-type="supplierName_${t}"]`);this.getAttribute("data-value")<r?showSuppliersAwardPopup(o.textContent,e):window.location.href=e})})}DelGCButtons=document.querySelectorAll(".confir-all-supplier-popup"),DelGCButtons.forEach(e=>{e.addEventListener("click",e=>{e.preventDefault(),urldel=e.target.getAttribute("data-link");const t=document.querySelector(".backdrop-supplierConfirmAllPopup");t.classList.add("showpopup"),$(".dialog-close-supplierConfirmAllPopup").on("click",function(){t.classList.remove("showpopup")}),$(".close-dialog-close").on("click",function(){t.classList.remove("showpopup")}),deconf=document.getElementById("redirect-button-supplierConfirmAllPopup"),deconf.addEventListener("click",e=>{t.classList.remove("showpopup"),document.body.classList.add("pageblur"),document.location.href="/evaluate-confirm"})})});let countOfpublishBtn=0;if($(".oneTimeClick").click(function(e){$(this).attr("disabled",!0),0==countOfpublishBtn&&$(this).parents("form").submit(),countOfpublishBtn++}),document.forms.length>0){const e=document.forms[0].id;if("ccs_rfp_publish_form"==e){let t;"ccs_rfp_publish_form"==e&&(t="rfp_publish_confirmation"),document.querySelectorAll("#"+e).forEach(function(r){r.addEventListener("submit",function(r){if(r.preventDefault(),!document.getElementById(t).checked)return $("#checkbox_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#checkbox_error_summary_list").html('<li><a href="#'+t+'">You must check this box to confirm that you have read and confirm the statements above</a></li>'),$("html, body").animate({scrollTop:0},"fast"),!1;document.querySelector(".loderMakeRes").innerHTML='<p class="govuk-body loader-desc-hdr"></p><p class="govuk-body loader-desc">Please wait...</p>',document.body.classList.add("pageblur"),$.ajax({url:"/rfp/publish_date_mismatch",type:"GET",contentType:"application/json"}).done(function(t){if(document.body.classList.remove("pageblur"),t.warning){document.getElementById("redirect-button-publishTimelineMismatch").innerHTML="Go back and continue with timeline";const e=document.querySelector(".backdrop-publishTimelineMismatch");return e.classList.add("showpopup"),$(".dialog-close-publishTimelineMismatch").on("click",function(){timelineRevertCancel(),e.classList.remove("showpopup")}),$(".close-dialog-close").on("click",function(){e.classList.remove("showpopup")}),deconf=document.getElementById("redirect-button-publishTimelineMismatch"),deconf.addEventListener("click",r=>{document.querySelector(".loderMakeRes").innerHTML='<p class="govuk-body loader-desc-hdr"></p><p class="govuk-body loader-desc">Please wait...</p>',document.body.classList.add("pageblur"),e.classList.remove("showpopup"),"FC"==t.eventType&&(window.location.href=window.location.origin+"/rfp/response-date")}),!1}return document.getElementById(e).submit(),!0}).fail(e=>{console.log(e)})})})}}function timelineRevertCancel(){$.ajax({url:"/rfp/publish_date_mismatch/cancel",type:"GET",contentType:"application/json"}).done(function(e){})}