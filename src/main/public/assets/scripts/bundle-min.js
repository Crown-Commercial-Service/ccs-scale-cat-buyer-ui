!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){"use strict";var r=[],n=Object.getPrototypeOf,o=r.slice,a=r.flat?function(e){return r.flat.call(e)}:function(e){return r.concat.apply([],e)},i=r.push,s=r.indexOf,l={},c=l.toString,u=l.hasOwnProperty,d=u.toString,m=d.call(Object),g={},p=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},f=function(e){return null!=e&&e===e.window},_=e.document,h={type:!0,src:!0,nonce:!0,noModule:!0};function v(e,t,r){var n,o,a=(r=r||_).createElement("script");if(a.text=e,t)for(n in h)(o=t[n]||t.getAttribute&&t.getAttribute(n))&&a.setAttribute(n,o);r.head.appendChild(a).parentNode.removeChild(a)}function y(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?l[c.call(e)]||"object":typeof e}var E="3.6.4",b=function(e,t){return new b.fn.init(e,t)};function $(e){var t=!!e&&"length"in e&&e.length,r=y(e);return!p(e)&&!f(e)&&("array"===r||0===t||"number"==typeof t&&0<t&&t-1 in e)}b.fn=b.prototype={jquery:E,constructor:b,length:0,toArray:function(){return o.call(this)},get:function(e){return null==e?o.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=b.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return b.each(this,e)},map:function(e){return this.pushStack(b.map(this,function(t,r){return e.call(t,r,t)}))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(b.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(b.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,r=+e+(e<0?t:0);return this.pushStack(0<=r&&r<t?[this[r]]:[])},end:function(){return this.prevObject||this.constructor()},push:i,sort:r.sort,splice:r.splice},b.extend=b.fn.extend=function(){var e,t,r,n,o,a,i=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof i&&(c=i,i=arguments[s]||{},s++),"object"==typeof i||p(i)||(i={}),s===l&&(i=this,s--);s<l;s++)if(null!=(e=arguments[s]))for(t in e)n=e[t],"__proto__"!==t&&i!==n&&(c&&n&&(b.isPlainObject(n)||(o=Array.isArray(n)))?(r=i[t],a=o&&!Array.isArray(r)?[]:o||b.isPlainObject(r)?r:{},o=!1,i[t]=b.extend(c,a,n)):void 0!==n&&(i[t]=n));return i},b.extend({expando:"jQuery"+(E+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,r;return!(!e||"[object Object]"!==c.call(e)||(t=n(e))&&("function"!=typeof(r=u.call(t,"constructor")&&t.constructor)||d.call(r)!==m))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,r){v(e,{nonce:t&&t.nonce},r)},each:function(e,t){var r,n=0;if($(e))for(r=e.length;n<r&&!1!==t.call(e[n],n,e[n]);n++);else for(n in e)if(!1===t.call(e[n],n,e[n]))break;return e},makeArray:function(e,t){var r=t||[];return null!=e&&($(Object(e))?b.merge(r,"string"==typeof e?[e]:e):i.call(r,e)),r},inArray:function(e,t,r){return null==t?-1:s.call(t,e,r)},merge:function(e,t){for(var r=+t.length,n=0,o=e.length;n<r;n++)e[o++]=t[n];return e.length=o,e},grep:function(e,t,r){for(var n=[],o=0,a=e.length,i=!r;o<a;o++)!t(e[o],o)!==i&&n.push(e[o]);return n},map:function(e,t,r){var n,o,i=0,s=[];if($(e))for(n=e.length;i<n;i++)null!=(o=t(e[i],i,r))&&s.push(o);else for(i in e)null!=(o=t(e[i],i,r))&&s.push(o);return a(s)},guid:1,support:g}),"function"==typeof Symbol&&(b.fn[Symbol.iterator]=r[Symbol.iterator]),b.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){l["[object "+t+"]"]=t.toLowerCase()});var k=function(e){var t,r,n,o,a,i,s,l,c,u,d,m,g,p,f,_,h,v,y,E="sizzle"+1*new Date,b=e.document,$=0,k=0,C=le(),w=le(),I=le(),x=le(),B=function(e,t){return e===t&&(d=!0),0},S={}.hasOwnProperty,L=[],T=L.pop,q=L.push,D=L.push,N=L.slice,A=function(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1},M="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",R="[\\x20\\t\\r\\n\\f]",Z="(?:\\\\[\\da-fA-F]{1,6}"+R+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",P="\\["+R+"*("+Z+")(?:"+R+"*([*^$|!~]?=)"+R+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+Z+"))|)"+R+"*\\]",j=":("+Z+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+P+")*)|.*)\\)|)",F=new RegExp(R+"+","g"),O=new RegExp("^"+R+"+|((?:^|[^\\\\])(?:\\\\.)*)"+R+"+$","g"),H=new RegExp("^"+R+"*,"+R+"*"),W=new RegExp("^"+R+"*([>+~]|"+R+")"+R+"*"),G=new RegExp(R+"|>"),Y=new RegExp(j),Q=new RegExp("^"+Z+"$"),U={ID:new RegExp("^#("+Z+")"),CLASS:new RegExp("^\\.("+Z+")"),TAG:new RegExp("^("+Z+"|[*])"),ATTR:new RegExp("^"+P),PSEUDO:new RegExp("^"+j),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+R+"*(even|odd|(([+-]|)(\\d*)n|)"+R+"*(?:([+-]|)"+R+"*(\\d+)|))"+R+"*\\)|)","i"),bool:new RegExp("^(?:"+M+")$","i"),needsContext:new RegExp("^"+R+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+R+"*((?:-\\d)?\\d*)"+R+"*\\)|)(?=[^-]|$)","i")},z=/HTML$/i,V=/^(?:input|select|textarea|button)$/i,K=/^h\d$/i,J=/^[^{]+\{\s*\[native \w/,X=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}"+R+"?|\\\\([^\\r\\n\\f])","g"),re=function(e,t){var r="0x"+e.slice(1)-65536;return t||(r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320))},ne=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,oe=function(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},ae=function(){m()},ie=Ee(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{D.apply(L=N.call(b.childNodes),b.childNodes),L[b.childNodes.length].nodeType}catch(t){D={apply:L.length?function(e,t){q.apply(e,N.call(t))}:function(e,t){for(var r=e.length,n=0;e[r++]=t[n++];);e.length=r-1}}}function se(e,t,n,o){var a,s,c,u,d,p,h,v=t&&t.ownerDocument,b=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==b&&9!==b&&11!==b)return n;if(!o&&(m(t),t=t||g,f)){if(11!==b&&(d=X.exec(e)))if(a=d[1]){if(9===b){if(!(c=t.getElementById(a)))return n;if(c.id===a)return n.push(c),n}else if(v&&(c=v.getElementById(a))&&y(t,c)&&c.id===a)return n.push(c),n}else{if(d[2])return D.apply(n,t.getElementsByTagName(e)),n;if((a=d[3])&&r.getElementsByClassName&&t.getElementsByClassName)return D.apply(n,t.getElementsByClassName(a)),n}if(r.qsa&&!x[e+" "]&&(!_||!_.test(e))&&(1!==b||"object"!==t.nodeName.toLowerCase())){if(h=e,v=t,1===b&&(G.test(e)||W.test(e))){for((v=ee.test(e)&&he(t.parentNode)||t)===t&&r.scope||((u=t.getAttribute("id"))?u=u.replace(ne,oe):t.setAttribute("id",u=E)),s=(p=i(e)).length;s--;)p[s]=(u?"#"+u:":scope")+" "+ye(p[s]);h=p.join(",")}try{return D.apply(n,v.querySelectorAll(h)),n}catch(t){x(e,!0)}finally{u===E&&t.removeAttribute("id")}}}return l(e.replace(O,"$1"),t,n,o)}function le(){var e=[];return function t(r,o){return e.push(r+" ")>n.cacheLength&&delete t[e.shift()],t[r+" "]=o}}function ce(e){return e[E]=!0,e}function ue(e){var t=g.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function de(e,t){for(var r=e.split("|"),o=r.length;o--;)n.attrHandle[r[o]]=t}function me(e,t){var r=t&&e,n=r&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(n)return n;if(r)for(;r=r.nextSibling;)if(r===t)return-1;return e?1:-1}function ge(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function pe(e){return function(t){var r=t.nodeName.toLowerCase();return("input"===r||"button"===r)&&t.type===e}}function fe(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ie(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function _e(e){return ce(function(t){return t=+t,ce(function(r,n){for(var o,a=e([],r.length,t),i=a.length;i--;)r[o=a[i]]&&(r[o]=!(n[o]=r[o]))})})}function he(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in r=se.support={},a=se.isXML=function(e){var t=e&&e.namespaceURI,r=e&&(e.ownerDocument||e).documentElement;return!z.test(t||r&&r.nodeName||"HTML")},m=se.setDocument=function(e){var t,o,i=e?e.ownerDocument||e:b;return i!=g&&9===i.nodeType&&i.documentElement&&(p=(g=i).documentElement,f=!a(g),b!=g&&(o=g.defaultView)&&o.top!==o&&(o.addEventListener?o.addEventListener("unload",ae,!1):o.attachEvent&&o.attachEvent("onunload",ae)),r.scope=ue(function(e){return p.appendChild(e).appendChild(g.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length}),r.cssHas=ue(function(){try{return g.querySelector(":has(*,:jqfake)"),!1}catch(e){return!0}}),r.attributes=ue(function(e){return e.className="i",!e.getAttribute("className")}),r.getElementsByTagName=ue(function(e){return e.appendChild(g.createComment("")),!e.getElementsByTagName("*").length}),r.getElementsByClassName=J.test(g.getElementsByClassName),r.getById=ue(function(e){return p.appendChild(e).id=E,!g.getElementsByName||!g.getElementsByName(E).length}),r.getById?(n.filter.ID=function(e){var t=e.replace(te,re);return function(e){return e.getAttribute("id")===t}},n.find.ID=function(e,t){if(void 0!==t.getElementById&&f){var r=t.getElementById(e);return r?[r]:[]}}):(n.filter.ID=function(e){var t=e.replace(te,re);return function(e){var r=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return r&&r.value===t}},n.find.ID=function(e,t){if(void 0!==t.getElementById&&f){var r,n,o,a=t.getElementById(e);if(a){if((r=a.getAttributeNode("id"))&&r.value===e)return[a];for(o=t.getElementsByName(e),n=0;a=o[n++];)if((r=a.getAttributeNode("id"))&&r.value===e)return[a]}return[]}}),n.find.TAG=r.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):r.qsa?t.querySelectorAll(e):void 0}:function(e,t){var r,n=[],o=0,a=t.getElementsByTagName(e);if("*"===e){for(;r=a[o++];)1===r.nodeType&&n.push(r);return n}return a},n.find.CLASS=r.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&f)return t.getElementsByClassName(e)},h=[],_=[],(r.qsa=J.test(g.querySelectorAll))&&(ue(function(e){var t;p.appendChild(e).innerHTML="<a id='"+E+"'></a><select id='"+E+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&_.push("[*^$]="+R+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||_.push("\\["+R+"*(?:value|"+M+")"),e.querySelectorAll("[id~="+E+"-]").length||_.push("~="),(t=g.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||_.push("\\["+R+"*name"+R+"*="+R+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||_.push(":checked"),e.querySelectorAll("a#"+E+"+*").length||_.push(".#.+[+~]"),e.querySelectorAll("\\\f"),_.push("[\\r\\n\\f]")}),ue(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=g.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&_.push("name"+R+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&_.push(":enabled",":disabled"),p.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&_.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),_.push(",.*:")})),(r.matchesSelector=J.test(v=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&ue(function(e){r.disconnectedMatch=v.call(e,"*"),v.call(e,"[s!='']:x"),h.push("!=",j)}),r.cssHas||_.push(":has"),_=_.length&&new RegExp(_.join("|")),h=h.length&&new RegExp(h.join("|")),t=J.test(p.compareDocumentPosition),y=t||J.test(p.contains)?function(e,t){var r=9===e.nodeType&&e.documentElement||e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(r.contains?r.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},B=t?function(e,t){if(e===t)return d=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!r.sortDetached&&t.compareDocumentPosition(e)===n?e==g||e.ownerDocument==b&&y(b,e)?-1:t==g||t.ownerDocument==b&&y(b,t)?1:u?A(u,e)-A(u,t):0:4&n?-1:1)}:function(e,t){if(e===t)return d=!0,0;var r,n=0,o=e.parentNode,a=t.parentNode,i=[e],s=[t];if(!o||!a)return e==g?-1:t==g?1:o?-1:a?1:u?A(u,e)-A(u,t):0;if(o===a)return me(e,t);for(r=e;r=r.parentNode;)i.unshift(r);for(r=t;r=r.parentNode;)s.unshift(r);for(;i[n]===s[n];)n++;return n?me(i[n],s[n]):i[n]==b?-1:s[n]==b?1:0}),g},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if(m(e),r.matchesSelector&&f&&!x[t+" "]&&(!h||!h.test(t))&&(!_||!_.test(t)))try{var n=v.call(e,t);if(n||r.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){x(t,!0)}return 0<se(t,g,null,[e]).length},se.contains=function(e,t){return(e.ownerDocument||e)!=g&&m(e),y(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!=g&&m(e);var o=n.attrHandle[t.toLowerCase()],a=o&&S.call(n.attrHandle,t.toLowerCase())?o(e,t,!f):void 0;return void 0!==a?a:r.attributes||!f?e.getAttribute(t):(a=e.getAttributeNode(t))&&a.specified?a.value:null},se.escape=function(e){return(e+"").replace(ne,oe)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,n=[],o=0,a=0;if(d=!r.detectDuplicates,u=!r.sortStable&&e.slice(0),e.sort(B),d){for(;t=e[a++];)t===e[a]&&(o=n.push(a));for(;o--;)e.splice(n[o],1)}return u=null,e},o=se.getText=function(e){var t,r="",n=0,a=e.nodeType;if(a){if(1===a||9===a||11===a){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)r+=o(e)}else if(3===a||4===a)return e.nodeValue}else for(;t=e[n++];)r+=o(t);return r},(n=se.selectors={cacheLength:50,createPseudo:ce,match:U,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,re),e[3]=(e[3]||e[4]||e[5]||"").replace(te,re),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,r=!e[6]&&e[2];return U.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":r&&Y.test(r)&&(t=i(r,!0))&&(t=r.indexOf(")",r.length-t)-r.length)&&(e[0]=e[0].slice(0,t),e[2]=r.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,re).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=C[e+" "];return t||(t=new RegExp("(^|"+R+")"+e+"("+R+"|$)"))&&C(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,r){return function(n){var o=se.attr(n,e);return null==o?"!="===t:!t||(o+="","="===t?o===r:"!="===t?o!==r:"^="===t?r&&0===o.indexOf(r):"*="===t?r&&-1<o.indexOf(r):"$="===t?r&&o.slice(-r.length)===r:"~="===t?-1<(" "+o.replace(F," ")+" ").indexOf(r):"|="===t&&(o===r||o.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,r,n,o){var a="nth"!==e.slice(0,3),i="last"!==e.slice(-4),s="of-type"===t;return 1===n&&0===o?function(e){return!!e.parentNode}:function(t,r,l){var c,u,d,m,g,p,f=a!==i?"nextSibling":"previousSibling",_=t.parentNode,h=s&&t.nodeName.toLowerCase(),v=!l&&!s,y=!1;if(_){if(a){for(;f;){for(m=t;m=m[f];)if(s?m.nodeName.toLowerCase()===h:1===m.nodeType)return!1;p=f="only"===e&&!p&&"nextSibling"}return!0}if(p=[i?_.firstChild:_.lastChild],i&&v){for(y=(g=(c=(u=(d=(m=_)[E]||(m[E]={}))[m.uniqueID]||(d[m.uniqueID]={}))[e]||[])[0]===$&&c[1])&&c[2],m=g&&_.childNodes[g];m=++g&&m&&m[f]||(y=g=0)||p.pop();)if(1===m.nodeType&&++y&&m===t){u[e]=[$,g,y];break}}else if(v&&(y=g=(c=(u=(d=(m=t)[E]||(m[E]={}))[m.uniqueID]||(d[m.uniqueID]={}))[e]||[])[0]===$&&c[1]),!1===y)for(;(m=++g&&m&&m[f]||(y=g=0)||p.pop())&&((s?m.nodeName.toLowerCase()!==h:1!==m.nodeType)||!++y||(v&&((u=(d=m[E]||(m[E]={}))[m.uniqueID]||(d[m.uniqueID]={}))[e]=[$,y]),m!==t)););return(y-=o)===n||y%n==0&&0<=y/n}}},PSEUDO:function(e,t){var r,o=n.pseudos[e]||n.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return o[E]?o(t):1<o.length?(r=[e,e,"",t],n.setFilters.hasOwnProperty(e.toLowerCase())?ce(function(e,r){for(var n,a=o(e,t),i=a.length;i--;)e[n=A(e,a[i])]=!(r[n]=a[i])}):function(e){return o(e,0,r)}):o}},pseudos:{not:ce(function(e){var t=[],r=[],n=s(e.replace(O,"$1"));return n[E]?ce(function(e,t,r,o){for(var a,i=n(e,null,o,[]),s=e.length;s--;)(a=i[s])&&(e[s]=!(t[s]=a))}):function(e,o,a){return t[0]=e,n(t,null,a,r),t[0]=null,!r.pop()}}),has:ce(function(e){return function(t){return 0<se(e,t).length}}),contains:ce(function(e){return e=e.replace(te,re),function(t){return-1<(t.textContent||o(t)).indexOf(e)}}),lang:ce(function(e){return Q.test(e||"")||se.error("unsupported lang: "+e),e=e.replace(te,re).toLowerCase(),function(t){var r;do{if(r=f?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(r=r.toLowerCase())===e||0===r.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var r=e.location&&e.location.hash;return r&&r.slice(1)===t.id},root:function(e){return e===p},focus:function(e){return e===g.activeElement&&(!g.hasFocus||g.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:fe(!1),disabled:fe(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!n.pseudos.empty(e)},header:function(e){return K.test(e.nodeName)},input:function(e){return V.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:_e(function(){return[0]}),last:_e(function(e,t){return[t-1]}),eq:_e(function(e,t,r){return[r<0?r+t:r]}),even:_e(function(e,t){for(var r=0;r<t;r+=2)e.push(r);return e}),odd:_e(function(e,t){for(var r=1;r<t;r+=2)e.push(r);return e}),lt:_e(function(e,t,r){for(var n=r<0?r+t:t<r?t:r;0<=--n;)e.push(n);return e}),gt:_e(function(e,t,r){for(var n=r<0?r+t:r;++n<t;)e.push(n);return e})}}).pseudos.nth=n.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})n.pseudos[t]=ge(t);for(t in{submit:!0,reset:!0})n.pseudos[t]=pe(t);function ve(){}function ye(e){for(var t=0,r=e.length,n="";t<r;t++)n+=e[t].value;return n}function Ee(e,t,r){var n=t.dir,o=t.next,a=o||n,i=r&&"parentNode"===a,s=k++;return t.first?function(t,r,o){for(;t=t[n];)if(1===t.nodeType||i)return e(t,r,o);return!1}:function(t,r,l){var c,u,d,m=[$,s];if(l){for(;t=t[n];)if((1===t.nodeType||i)&&e(t,r,l))return!0}else for(;t=t[n];)if(1===t.nodeType||i)if(u=(d=t[E]||(t[E]={}))[t.uniqueID]||(d[t.uniqueID]={}),o&&o===t.nodeName.toLowerCase())t=t[n]||t;else{if((c=u[a])&&c[0]===$&&c[1]===s)return m[2]=c[2];if((u[a]=m)[2]=e(t,r,l))return!0}return!1}}function be(e){return 1<e.length?function(t,r,n){for(var o=e.length;o--;)if(!e[o](t,r,n))return!1;return!0}:e[0]}function $e(e,t,r,n,o){for(var a,i=[],s=0,l=e.length,c=null!=t;s<l;s++)(a=e[s])&&(r&&!r(a,n,o)||(i.push(a),c&&t.push(s)));return i}function ke(e,t,r,n,o,a){return n&&!n[E]&&(n=ke(n)),o&&!o[E]&&(o=ke(o,a)),ce(function(a,i,s,l){var c,u,d,m=[],g=[],p=i.length,f=a||function(e,t,r){for(var n=0,o=t.length;n<o;n++)se(e,t[n],r);return r}(t||"*",s.nodeType?[s]:s,[]),_=!e||!a&&t?f:$e(f,m,e,s,l),h=r?o||(a?e:p||n)?[]:i:_;if(r&&r(_,h,s,l),n)for(c=$e(h,g),n(c,[],s,l),u=c.length;u--;)(d=c[u])&&(h[g[u]]=!(_[g[u]]=d));if(a){if(o||e){if(o){for(c=[],u=h.length;u--;)(d=h[u])&&c.push(_[u]=d);o(null,h=[],c,l)}for(u=h.length;u--;)(d=h[u])&&-1<(c=o?A(a,d):m[u])&&(a[c]=!(i[c]=d))}}else h=$e(h===i?h.splice(p,h.length):h),o?o(null,i,h,l):D.apply(i,h)})}function Ce(e){for(var t,r,o,a=e.length,i=n.relative[e[0].type],s=i||n.relative[" "],l=i?1:0,u=Ee(function(e){return e===t},s,!0),d=Ee(function(e){return-1<A(t,e)},s,!0),m=[function(e,r,n){var o=!i&&(n||r!==c)||((t=r).nodeType?u(e,r,n):d(e,r,n));return t=null,o}];l<a;l++)if(r=n.relative[e[l].type])m=[Ee(be(m),r)];else{if((r=n.filter[e[l].type].apply(null,e[l].matches))[E]){for(o=++l;o<a&&!n.relative[e[o].type];o++);return ke(1<l&&be(m),1<l&&ye(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(O,"$1"),r,l<o&&Ce(e.slice(l,o)),o<a&&Ce(e=e.slice(o)),o<a&&ye(e))}m.push(r)}return be(m)}return ve.prototype=n.filters=n.pseudos,n.setFilters=new ve,i=se.tokenize=function(e,t){var r,o,a,i,s,l,c,u=w[e+" "];if(u)return t?0:u.slice(0);for(s=e,l=[],c=n.preFilter;s;){for(i in r&&!(o=H.exec(s))||(o&&(s=s.slice(o[0].length)||s),l.push(a=[])),r=!1,(o=W.exec(s))&&(r=o.shift(),a.push({value:r,type:o[0].replace(O," ")}),s=s.slice(r.length)),n.filter)!(o=U[i].exec(s))||c[i]&&!(o=c[i](o))||(r=o.shift(),a.push({value:r,type:i,matches:o}),s=s.slice(r.length));if(!r)break}return t?s.length:s?se.error(e):w(e,l).slice(0)},s=se.compile=function(e,t){var r,o,a,s,l,u,d=[],p=[],_=I[e+" "];if(!_){for(t||(t=i(e)),r=t.length;r--;)(_=Ce(t[r]))[E]?d.push(_):p.push(_);(_=I(e,(o=p,s=0<(a=d).length,l=0<o.length,u=function(e,t,r,i,u){var d,p,_,h=0,v="0",y=e&&[],E=[],b=c,k=e||l&&n.find.TAG("*",u),C=$+=null==b?1:Math.random()||.1,w=k.length;for(u&&(c=t==g||t||u);v!==w&&null!=(d=k[v]);v++){if(l&&d){for(p=0,t||d.ownerDocument==g||(m(d),r=!f);_=o[p++];)if(_(d,t||g,r)){i.push(d);break}u&&($=C)}s&&((d=!_&&d)&&h--,e&&y.push(d))}if(h+=v,s&&v!==h){for(p=0;_=a[p++];)_(y,E,t,r);if(e){if(0<h)for(;v--;)y[v]||E[v]||(E[v]=T.call(i));E=$e(E)}D.apply(i,E),u&&!e&&0<E.length&&1<h+a.length&&se.uniqueSort(i)}return u&&($=C,c=b),y},s?ce(u):u))).selector=e}return _},l=se.select=function(e,t,r,o){var a,l,c,u,d,m="function"==typeof e&&e,g=!o&&i(e=m.selector||e);if(r=r||[],1===g.length){if(2<(l=g[0]=g[0].slice(0)).length&&"ID"===(c=l[0]).type&&9===t.nodeType&&f&&n.relative[l[1].type]){if(!(t=(n.find.ID(c.matches[0].replace(te,re),t)||[])[0]))return r;m&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(a=U.needsContext.test(e)?0:l.length;a--&&(c=l[a],!n.relative[u=c.type]);)if((d=n.find[u])&&(o=d(c.matches[0].replace(te,re),ee.test(l[0].type)&&he(t.parentNode)||t))){if(l.splice(a,1),!(e=o.length&&ye(l)))return D.apply(r,o),r;break}}return(m||s(e,g))(o,t,!f,r,!t||ee.test(e)&&he(t.parentNode)||t),r},r.sortStable=E.split("").sort(B).join("")===E,r.detectDuplicates=!!d,m(),r.sortDetached=ue(function(e){return 1&e.compareDocumentPosition(g.createElement("fieldset"))}),ue(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||de("type|href|height|width",function(e,t,r){if(!r)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),r.attributes&&ue(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||de("value",function(e,t,r){if(!r&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ue(function(e){return null==e.getAttribute("disabled")})||de(M,function(e,t,r){var n;if(!r)return!0===e[t]?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null}),se}(e);b.find=k,b.expr=k.selectors,b.expr[":"]=b.expr.pseudos,b.uniqueSort=b.unique=k.uniqueSort,b.text=k.getText,b.isXMLDoc=k.isXML,b.contains=k.contains,b.escapeSelector=k.escape;var C=function(e,t,r){for(var n=[],o=void 0!==r;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&b(e).is(r))break;n.push(e)}return n},w=function(e,t){for(var r=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&r.push(e);return r},I=b.expr.match.needsContext;function x(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var B=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function S(e,t,r){return p(t)?b.grep(e,function(e,n){return!!t.call(e,n,e)!==r}):t.nodeType?b.grep(e,function(e){return e===t!==r}):"string"!=typeof t?b.grep(e,function(e){return-1<s.call(t,e)!==r}):b.filter(t,e,r)}b.filter=function(e,t,r){var n=t[0];return r&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?b.find.matchesSelector(n,e)?[n]:[]:b.find.matches(e,b.grep(t,function(e){return 1===e.nodeType}))},b.fn.extend({find:function(e){var t,r,n=this.length,o=this;if("string"!=typeof e)return this.pushStack(b(e).filter(function(){for(t=0;t<n;t++)if(b.contains(o[t],this))return!0}));for(r=this.pushStack([]),t=0;t<n;t++)b.find(e,o[t],r);return 1<n?b.uniqueSort(r):r},filter:function(e){return this.pushStack(S(this,e||[],!1))},not:function(e){return this.pushStack(S(this,e||[],!0))},is:function(e){return!!S(this,"string"==typeof e&&I.test(e)?b(e):e||[],!1).length}});var L,T=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(b.fn.init=function(e,t,r){var n,o;if(!e)return this;if(r=r||L,"string"==typeof e){if(!(n="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:T.exec(e))||!n[1]&&t)return!t||t.jquery?(t||r).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof b?t[0]:t,b.merge(this,b.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:_,!0)),B.test(n[1])&&b.isPlainObject(t))for(n in t)p(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return(o=_.getElementById(n[2]))&&(this[0]=o,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):p(e)?void 0!==r.ready?r.ready(e):e(b):b.makeArray(e,this)}).prototype=b.fn,L=b(_);var q=/^(?:parents|prev(?:Until|All))/,D={children:!0,contents:!0,next:!0,prev:!0};function N(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}b.fn.extend({has:function(e){var t=b(e,this),r=t.length;return this.filter(function(){for(var e=0;e<r;e++)if(b.contains(this,t[e]))return!0})},closest:function(e,t){var r,n=0,o=this.length,a=[],i="string"!=typeof e&&b(e);if(!I.test(e))for(;n<o;n++)for(r=this[n];r&&r!==t;r=r.parentNode)if(r.nodeType<11&&(i?-1<i.index(r):1===r.nodeType&&b.find.matchesSelector(r,e))){a.push(r);break}return this.pushStack(1<a.length?b.uniqueSort(a):a)},index:function(e){return e?"string"==typeof e?s.call(b(e),this[0]):s.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(b.uniqueSort(b.merge(this.get(),b(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),b.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return C(e,"parentNode")},parentsUntil:function(e,t,r){return C(e,"parentNode",r)},next:function(e){return N(e,"nextSibling")},prev:function(e){return N(e,"previousSibling")},nextAll:function(e){return C(e,"nextSibling")},prevAll:function(e){return C(e,"previousSibling")},nextUntil:function(e,t,r){return C(e,"nextSibling",r)},prevUntil:function(e,t,r){return C(e,"previousSibling",r)},siblings:function(e){return w((e.parentNode||{}).firstChild,e)},children:function(e){return w(e.firstChild)},contents:function(e){return null!=e.contentDocument&&n(e.contentDocument)?e.contentDocument:(x(e,"template")&&(e=e.content||e),b.merge([],e.childNodes))}},function(e,t){b.fn[e]=function(r,n){var o=b.map(this,t,r);return"Until"!==e.slice(-5)&&(n=r),n&&"string"==typeof n&&(o=b.filter(n,o)),1<this.length&&(D[e]||b.uniqueSort(o),q.test(e)&&o.reverse()),this.pushStack(o)}});var A=/[^\x20\t\r\n\f]+/g;function M(e){return e}function R(e){throw e}function Z(e,t,r,n){var o;try{e&&p(o=e.promise)?o.call(e).done(t).fail(r):e&&p(o=e.then)?o.call(e,t,r):t.apply(void 0,[e].slice(n))}catch(e){r.apply(void 0,[e])}}b.Callbacks=function(e){var t,r;e="string"==typeof e?(t=e,r={},b.each(t.match(A)||[],function(e,t){r[t]=!0}),r):b.extend({},e);var n,o,a,i,s=[],l=[],c=-1,u=function(){for(i=i||e.once,a=n=!0;l.length;c=-1)for(o=l.shift();++c<s.length;)!1===s[c].apply(o[0],o[1])&&e.stopOnFalse&&(c=s.length,o=!1);e.memory||(o=!1),n=!1,i&&(s=o?[]:"")},d={add:function(){return s&&(o&&!n&&(c=s.length-1,l.push(o)),function t(r){b.each(r,function(r,n){p(n)?e.unique&&d.has(n)||s.push(n):n&&n.length&&"string"!==y(n)&&t(n)})}(arguments),o&&!n&&u()),this},remove:function(){return b.each(arguments,function(e,t){for(var r;-1<(r=b.inArray(t,s,r));)s.splice(r,1),r<=c&&c--}),this},has:function(e){return e?-1<b.inArray(e,s):0<s.length},empty:function(){return s&&(s=[]),this},disable:function(){return i=l=[],s=o="",this},disabled:function(){return!s},lock:function(){return i=l=[],o||n||(s=o=""),this},locked:function(){return!!i},fireWith:function(e,t){return i||(t=[e,(t=t||[]).slice?t.slice():t],l.push(t),n||u()),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!a}};return d},b.extend({Deferred:function(t){var r=[["notify","progress",b.Callbacks("memory"),b.Callbacks("memory"),2],["resolve","done",b.Callbacks("once memory"),b.Callbacks("once memory"),0,"resolved"],["reject","fail",b.Callbacks("once memory"),b.Callbacks("once memory"),1,"rejected"]],n="pending",o={state:function(){return n},always:function(){return a.done(arguments).fail(arguments),this},catch:function(e){return o.then(null,e)},pipe:function(){var e=arguments;return b.Deferred(function(t){b.each(r,function(r,n){var o=p(e[n[4]])&&e[n[4]];a[n[1]](function(){var e=o&&o.apply(this,arguments);e&&p(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[n[0]+"With"](this,o?[e]:arguments)})}),e=null}).promise()},then:function(t,n,o){var a=0;function i(t,r,n,o){return function(){var s=this,l=arguments,c=function(){var e,c;if(!(t<a)){if((e=n.apply(s,l))===r.promise())throw new TypeError("Thenable self-resolution");c=e&&("object"==typeof e||"function"==typeof e)&&e.then,p(c)?o?c.call(e,i(a,r,M,o),i(a,r,R,o)):(a++,c.call(e,i(a,r,M,o),i(a,r,R,o),i(a,r,M,r.notifyWith))):(n!==M&&(s=void 0,l=[e]),(o||r.resolveWith)(s,l))}},u=o?c:function(){try{c()}catch(e){b.Deferred.exceptionHook&&b.Deferred.exceptionHook(e,u.stackTrace),a<=t+1&&(n!==R&&(s=void 0,l=[e]),r.rejectWith(s,l))}};t?u():(b.Deferred.getStackHook&&(u.stackTrace=b.Deferred.getStackHook()),e.setTimeout(u))}}return b.Deferred(function(e){r[0][3].add(i(0,e,p(o)?o:M,e.notifyWith)),r[1][3].add(i(0,e,p(t)?t:M)),r[2][3].add(i(0,e,p(n)?n:R))}).promise()},promise:function(e){return null!=e?b.extend(e,o):o}},a={};return b.each(r,function(e,t){var i=t[2],s=t[5];o[t[1]]=i.add,s&&i.add(function(){n=s},r[3-e][2].disable,r[3-e][3].disable,r[0][2].lock,r[0][3].lock),i.add(t[3].fire),a[t[0]]=function(){return a[t[0]+"With"](this===a?void 0:this,arguments),this},a[t[0]+"With"]=i.fireWith}),o.promise(a),t&&t.call(a,a),a},when:function(e){var t=arguments.length,r=t,n=Array(r),a=o.call(arguments),i=b.Deferred(),s=function(e){return function(r){n[e]=this,a[e]=1<arguments.length?o.call(arguments):r,--t||i.resolveWith(n,a)}};if(t<=1&&(Z(e,i.done(s(r)).resolve,i.reject,!t),"pending"===i.state()||p(a[r]&&a[r].then)))return i.then();for(;r--;)Z(a[r],s(r),i.reject);return i.promise()}});var P=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;b.Deferred.exceptionHook=function(t,r){e.console&&e.console.warn&&t&&P.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,r)},b.readyException=function(t){e.setTimeout(function(){throw t})};var j=b.Deferred();function F(){_.removeEventListener("DOMContentLoaded",F),e.removeEventListener("load",F),b.ready()}b.fn.ready=function(e){return j.then(e).catch(function(e){b.readyException(e)}),this},b.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--b.readyWait:b.isReady)||(b.isReady=!0)!==e&&0<--b.readyWait||j.resolveWith(_,[b])}}),b.ready.then=j.then,"complete"===_.readyState||"loading"!==_.readyState&&!_.documentElement.doScroll?e.setTimeout(b.ready):(_.addEventListener("DOMContentLoaded",F),e.addEventListener("load",F));var O=function(e,t,r,n,o,a,i){var s=0,l=e.length,c=null==r;if("object"===y(r))for(s in o=!0,r)O(e,t,s,r[s],!0,a,i);else if(void 0!==n&&(o=!0,p(n)||(i=!0),c&&(i?(t.call(e,n),t=null):(c=t,t=function(e,t,r){return c.call(b(e),r)})),t))for(;s<l;s++)t(e[s],r,i?n:n.call(e[s],s,t(e[s],r)));return o?e:c?t.call(e):l?t(e[0],r):a},H=/^-ms-/,W=/-([a-z])/g;function G(e,t){return t.toUpperCase()}function Y(e){return e.replace(H,"ms-").replace(W,G)}var Q=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function U(){this.expando=b.expando+U.uid++}U.uid=1,U.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Q(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,r){var n,o=this.cache(e);if("string"==typeof t)o[Y(t)]=r;else for(n in t)o[Y(n)]=t[n];return o},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][Y(t)]},access:function(e,t,r){return void 0===t||t&&"string"==typeof t&&void 0===r?this.get(e,t):(this.set(e,t,r),void 0!==r?r:t)},remove:function(e,t){var r,n=e[this.expando];if(void 0!==n){if(void 0!==t){r=(t=Array.isArray(t)?t.map(Y):(t=Y(t))in n?[t]:t.match(A)||[]).length;for(;r--;)delete n[t[r]]}(void 0===t||b.isEmptyObject(n))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!b.isEmptyObject(t)}};var z=new U,V=new U,K=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,J=/[A-Z]/g;function X(e,t,r){var n,o;if(void 0===r&&1===e.nodeType)if(n="data-"+t.replace(J,"-$&").toLowerCase(),"string"==typeof(r=e.getAttribute(n))){try{r="true"===(o=r)||"false"!==o&&("null"===o?null:o===+o+""?+o:K.test(o)?JSON.parse(o):o)}catch(e){}V.set(e,t,r)}else r=void 0;return r}b.extend({hasData:function(e){return V.hasData(e)||z.hasData(e)},data:function(e,t,r){return V.access(e,t,r)},removeData:function(e,t){V.remove(e,t)},_data:function(e,t,r){return z.access(e,t,r)},_removeData:function(e,t){z.remove(e,t)}}),b.fn.extend({data:function(e,t){var r,n,o,a=this[0],i=a&&a.attributes;if(void 0===e){if(this.length&&(o=V.get(a),1===a.nodeType&&!z.get(a,"hasDataAttrs"))){for(r=i.length;r--;)i[r]&&0===(n=i[r].name).indexOf("data-")&&(n=Y(n.slice(5)),X(a,n,o[n]));z.set(a,"hasDataAttrs",!0)}return o}return"object"==typeof e?this.each(function(){V.set(this,e)}):O(this,function(t){var r;if(a&&void 0===t)return void 0!==(r=V.get(a,e))?r:void 0!==(r=X(a,e))?r:void 0;this.each(function(){V.set(this,e,t)})},null,t,1<arguments.length,null,!0)},removeData:function(e){return this.each(function(){V.remove(this,e)})}}),b.extend({queue:function(e,t,r){var n;if(e)return t=(t||"fx")+"queue",n=z.get(e,t),r&&(!n||Array.isArray(r)?n=z.access(e,t,b.makeArray(r)):n.push(r)),n||[]},dequeue:function(e,t){t=t||"fx";var r=b.queue(e,t),n=r.length,o=r.shift(),a=b._queueHooks(e,t);"inprogress"===o&&(o=r.shift(),n--),o&&("fx"===t&&r.unshift("inprogress"),delete a.stop,o.call(e,function(){b.dequeue(e,t)},a)),!n&&a&&a.empty.fire()},_queueHooks:function(e,t){var r=t+"queueHooks";return z.get(e,r)||z.access(e,r,{empty:b.Callbacks("once memory").add(function(){z.remove(e,[t+"queue",r])})})}}),b.fn.extend({queue:function(e,t){var r=2;return"string"!=typeof e&&(t=e,e="fx",r--),arguments.length<r?b.queue(this[0],e):void 0===t?this:this.each(function(){var r=b.queue(this,e,t);b._queueHooks(this,e),"fx"===e&&"inprogress"!==r[0]&&b.dequeue(this,e)})},dequeue:function(e){return this.each(function(){b.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var r,n=1,o=b.Deferred(),a=this,i=this.length,s=function(){--n||o.resolveWith(a,[a])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";i--;)(r=z.get(a[i],e+"queueHooks"))&&r.empty&&(n++,r.empty.add(s));return s(),o.promise(t)}});var ee=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,te=new RegExp("^(?:([+-])=|)("+ee+")([a-z%]*)$","i"),re=["Top","Right","Bottom","Left"],ne=_.documentElement,oe=function(e){return b.contains(e.ownerDocument,e)},ae={composed:!0};ne.getRootNode&&(oe=function(e){return b.contains(e.ownerDocument,e)||e.getRootNode(ae)===e.ownerDocument});var ie=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&oe(e)&&"none"===b.css(e,"display")};function se(e,t,r,n){var o,a,i=20,s=n?function(){return n.cur()}:function(){return b.css(e,t,"")},l=s(),c=r&&r[3]||(b.cssNumber[t]?"":"px"),u=e.nodeType&&(b.cssNumber[t]||"px"!==c&&+l)&&te.exec(b.css(e,t));if(u&&u[3]!==c){for(l/=2,c=c||u[3],u=+l||1;i--;)b.style(e,t,u+c),(1-a)*(1-(a=s()/l||.5))<=0&&(i=0),u/=a;u*=2,b.style(e,t,u+c),r=r||[]}return r&&(u=+u||+l||0,o=r[1]?u+(r[1]+1)*r[2]:+r[2],n&&(n.unit=c,n.start=u,n.end=o)),o}var le={};function ce(e,t){for(var r,n,o,a,i,s,l,c=[],u=0,d=e.length;u<d;u++)(n=e[u]).style&&(r=n.style.display,t?("none"===r&&(c[u]=z.get(n,"display")||null,c[u]||(n.style.display="")),""===n.style.display&&ie(n)&&(c[u]=(l=i=a=void 0,i=(o=n).ownerDocument,s=o.nodeName,(l=le[s])||(a=i.body.appendChild(i.createElement(s)),l=b.css(a,"display"),a.parentNode.removeChild(a),"none"===l&&(l="block"),le[s]=l)))):"none"!==r&&(c[u]="none",z.set(n,"display",r)));for(u=0;u<d;u++)null!=c[u]&&(e[u].style.display=c[u]);return e}b.fn.extend({show:function(){return ce(this,!0)},hide:function(){return ce(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ie(this)?b(this).show():b(this).hide()})}});var ue,de,me=/^(?:checkbox|radio)$/i,ge=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,pe=/^$|^module$|\/(?:java|ecma)script/i;ue=_.createDocumentFragment().appendChild(_.createElement("div")),(de=_.createElement("input")).setAttribute("type","radio"),de.setAttribute("checked","checked"),de.setAttribute("name","t"),ue.appendChild(de),g.checkClone=ue.cloneNode(!0).cloneNode(!0).lastChild.checked,ue.innerHTML="<textarea>x</textarea>",g.noCloneChecked=!!ue.cloneNode(!0).lastChild.defaultValue,ue.innerHTML="<option></option>",g.option=!!ue.lastChild;var fe={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function _e(e,t){var r;return r=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&x(e,t)?b.merge([e],r):r}function he(e,t){for(var r=0,n=e.length;r<n;r++)z.set(e[r],"globalEval",!t||z.get(t[r],"globalEval"))}fe.tbody=fe.tfoot=fe.colgroup=fe.caption=fe.thead,fe.th=fe.td,g.option||(fe.optgroup=fe.option=[1,"<select multiple='multiple'>","</select>"]);var ve=/<|&#?\w+;/;function ye(e,t,r,n,o){for(var a,i,s,l,c,u,d=t.createDocumentFragment(),m=[],g=0,p=e.length;g<p;g++)if((a=e[g])||0===a)if("object"===y(a))b.merge(m,a.nodeType?[a]:a);else if(ve.test(a)){for(i=i||d.appendChild(t.createElement("div")),s=(ge.exec(a)||["",""])[1].toLowerCase(),l=fe[s]||fe._default,i.innerHTML=l[1]+b.htmlPrefilter(a)+l[2],u=l[0];u--;)i=i.lastChild;b.merge(m,i.childNodes),(i=d.firstChild).textContent=""}else m.push(t.createTextNode(a));for(d.textContent="",g=0;a=m[g++];)if(n&&-1<b.inArray(a,n))o&&o.push(a);else if(c=oe(a),i=_e(d.appendChild(a),"script"),c&&he(i),r)for(u=0;a=i[u++];)pe.test(a.type||"")&&r.push(a);return d}var Ee=/^([^.]*)(?:\.(.+)|)/;function be(){return!0}function $e(){return!1}function ke(e,t){return e===function(){try{return _.activeElement}catch(e){}}()==("focus"===t)}function Ce(e,t,r,n,o,a){var i,s;if("object"==typeof t){for(s in"string"!=typeof r&&(n=n||r,r=void 0),t)Ce(e,s,r,n,t[s],a);return e}if(null==n&&null==o?(o=r,n=r=void 0):null==o&&("string"==typeof r?(o=n,n=void 0):(o=n,n=r,r=void 0)),!1===o)o=$e;else if(!o)return e;return 1===a&&(i=o,(o=function(e){return b().off(e),i.apply(this,arguments)}).guid=i.guid||(i.guid=b.guid++)),e.each(function(){b.event.add(this,t,o,n,r)})}function we(e,t,r){r?(z.set(e,t,!1),b.event.add(e,t,{namespace:!1,handler:function(e){var n,a,i=z.get(this,t);if(1&e.isTrigger&&this[t]){if(i.length)(b.event.special[t]||{}).delegateType&&e.stopPropagation();else if(i=o.call(arguments),z.set(this,t,i),n=r(this,t),this[t](),i!==(a=z.get(this,t))||n?z.set(this,t,!1):a={},i!==a)return e.stopImmediatePropagation(),e.preventDefault(),a&&a.value}else i.length&&(z.set(this,t,{value:b.event.trigger(b.extend(i[0],b.Event.prototype),i.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===z.get(e,t)&&b.event.add(e,t,be)}b.event={global:{},add:function(e,t,r,n,o){var a,i,s,l,c,u,d,m,g,p,f,_=z.get(e);if(Q(e))for(r.handler&&(r=(a=r).handler,o=a.selector),o&&b.find.matchesSelector(ne,o),r.guid||(r.guid=b.guid++),(l=_.events)||(l=_.events=Object.create(null)),(i=_.handle)||(i=_.handle=function(t){return void 0!==b&&b.event.triggered!==t.type?b.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(A)||[""]).length;c--;)g=f=(s=Ee.exec(t[c])||[])[1],p=(s[2]||"").split(".").sort(),g&&(d=b.event.special[g]||{},g=(o?d.delegateType:d.bindType)||g,d=b.event.special[g]||{},u=b.extend({type:g,origType:f,data:n,handler:r,guid:r.guid,selector:o,needsContext:o&&b.expr.match.needsContext.test(o),namespace:p.join(".")},a),(m=l[g])||((m=l[g]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,n,p,i)||e.addEventListener&&e.addEventListener(g,i)),d.add&&(d.add.call(e,u),u.handler.guid||(u.handler.guid=r.guid)),o?m.splice(m.delegateCount++,0,u):m.push(u),b.event.global[g]=!0)},remove:function(e,t,r,n,o){var a,i,s,l,c,u,d,m,g,p,f,_=z.hasData(e)&&z.get(e);if(_&&(l=_.events)){for(c=(t=(t||"").match(A)||[""]).length;c--;)if(g=f=(s=Ee.exec(t[c])||[])[1],p=(s[2]||"").split(".").sort(),g){for(d=b.event.special[g]||{},m=l[g=(n?d.delegateType:d.bindType)||g]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),i=a=m.length;a--;)u=m[a],!o&&f!==u.origType||r&&r.guid!==u.guid||s&&!s.test(u.namespace)||n&&n!==u.selector&&("**"!==n||!u.selector)||(m.splice(a,1),u.selector&&m.delegateCount--,d.remove&&d.remove.call(e,u));i&&!m.length&&(d.teardown&&!1!==d.teardown.call(e,p,_.handle)||b.removeEvent(e,g,_.handle),delete l[g])}else for(g in l)b.event.remove(e,g+t[c],r,n,!0);b.isEmptyObject(l)&&z.remove(e,"handle events")}},dispatch:function(e){var t,r,n,o,a,i,s=new Array(arguments.length),l=b.event.fix(e),c=(z.get(this,"events")||Object.create(null))[l.type]||[],u=b.event.special[l.type]||{};for(s[0]=l,t=1;t<arguments.length;t++)s[t]=arguments[t];if(l.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,l)){for(i=b.event.handlers.call(this,l,c),t=0;(o=i[t++])&&!l.isPropagationStopped();)for(l.currentTarget=o.elem,r=0;(a=o.handlers[r++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==a.namespace&&!l.rnamespace.test(a.namespace)||(l.handleObj=a,l.data=a.data,void 0!==(n=((b.event.special[a.origType]||{}).handle||a.handler).apply(o.elem,s))&&!1===(l.result=n)&&(l.preventDefault(),l.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,l),l.result}},handlers:function(e,t){var r,n,o,a,i,s=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&1<=e.button))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(a=[],i={},r=0;r<l;r++)void 0===i[o=(n=t[r]).selector+" "]&&(i[o]=n.needsContext?-1<b(o,this).index(c):b.find(o,this,null,[c]).length),i[o]&&a.push(n);a.length&&s.push({elem:c,handlers:a})}return c=this,l<t.length&&s.push({elem:c,handlers:t.slice(l)}),s},addProp:function(e,t){Object.defineProperty(b.Event.prototype,e,{enumerable:!0,configurable:!0,get:p(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[b.expando]?e:new b.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return me.test(t.type)&&t.click&&x(t,"input")&&we(t,"click",be),!1},trigger:function(e){var t=this||e;return me.test(t.type)&&t.click&&x(t,"input")&&we(t,"click"),!0},_default:function(e){var t=e.target;return me.test(t.type)&&t.click&&x(t,"input")&&z.get(t,"click")||x(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},b.removeEvent=function(e,t,r){e.removeEventListener&&e.removeEventListener(t,r)},b.Event=function(e,t){if(!(this instanceof b.Event))return new b.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?be:$e,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&b.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[b.expando]=!0},b.Event.prototype={constructor:b.Event,isDefaultPrevented:$e,isPropagationStopped:$e,isImmediatePropagationStopped:$e,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=be,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=be,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=be,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},b.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},b.event.addProp),b.each({focus:"focusin",blur:"focusout"},function(e,t){b.event.special[e]={setup:function(){return we(this,e,ke),!1},trigger:function(){return we(this,e),!0},_default:function(t){return z.get(t.target,e)},delegateType:t}}),b.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){b.event.special[e]={delegateType:t,bindType:t,handle:function(e){var r,n=e.relatedTarget,o=e.handleObj;return n&&(n===this||b.contains(this,n))||(e.type=o.origType,r=o.handler.apply(this,arguments),e.type=t),r}}}),b.fn.extend({on:function(e,t,r,n){return Ce(this,e,t,r,n)},one:function(e,t,r,n){return Ce(this,e,t,r,n,1)},off:function(e,t,r){var n,o;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,b(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return!1!==t&&"function"!=typeof t||(r=t,t=void 0),!1===r&&(r=$e),this.each(function(){b.event.remove(this,e,r,t)})}});var Ie=/<script|<style|<link/i,xe=/checked\s*(?:[^=]|=\s*.checked.)/i,Be=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Se(e,t){return x(e,"table")&&x(11!==t.nodeType?t:t.firstChild,"tr")&&b(e).children("tbody")[0]||e}function Le(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Te(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function qe(e,t){var r,n,o,a,i,s;if(1===t.nodeType){if(z.hasData(e)&&(s=z.get(e).events))for(o in z.remove(t,"handle events"),s)for(r=0,n=s[o].length;r<n;r++)b.event.add(t,o,s[o][r]);V.hasData(e)&&(a=V.access(e),i=b.extend({},a),V.set(t,i))}}function De(e,t,r,n){t=a(t);var o,i,s,l,c,u,d=0,m=e.length,f=m-1,_=t[0],h=p(_);if(h||1<m&&"string"==typeof _&&!g.checkClone&&xe.test(_))return e.each(function(o){var a=e.eq(o);h&&(t[0]=_.call(this,o,a.html())),De(a,t,r,n)});if(m&&(i=(o=ye(t,e[0].ownerDocument,!1,e,n)).firstChild,1===o.childNodes.length&&(o=i),i||n)){for(l=(s=b.map(_e(o,"script"),Le)).length;d<m;d++)c=o,d!==f&&(c=b.clone(c,!0,!0),l&&b.merge(s,_e(c,"script"))),r.call(e[d],c,d);if(l)for(u=s[s.length-1].ownerDocument,b.map(s,Te),d=0;d<l;d++)c=s[d],pe.test(c.type||"")&&!z.access(c,"globalEval")&&b.contains(u,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?b._evalUrl&&!c.noModule&&b._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},u):v(c.textContent.replace(Be,""),c,u))}return e}function Ne(e,t,r){for(var n,o=t?b.filter(t,e):e,a=0;null!=(n=o[a]);a++)r||1!==n.nodeType||b.cleanData(_e(n)),n.parentNode&&(r&&oe(n)&&he(_e(n,"script")),n.parentNode.removeChild(n));return e}b.extend({htmlPrefilter:function(e){return e},clone:function(e,t,r){var n,o,a,i,s,l,c,u=e.cloneNode(!0),d=oe(e);if(!(g.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||b.isXMLDoc(e)))for(i=_e(u),n=0,o=(a=_e(e)).length;n<o;n++)s=a[n],"input"===(c=(l=i[n]).nodeName.toLowerCase())&&me.test(s.type)?l.checked=s.checked:"input"!==c&&"textarea"!==c||(l.defaultValue=s.defaultValue);if(t)if(r)for(a=a||_e(e),i=i||_e(u),n=0,o=a.length;n<o;n++)qe(a[n],i[n]);else qe(e,u);return 0<(i=_e(u,"script")).length&&he(i,!d&&_e(e,"script")),u},cleanData:function(e){for(var t,r,n,o=b.event.special,a=0;void 0!==(r=e[a]);a++)if(Q(r)){if(t=r[z.expando]){if(t.events)for(n in t.events)o[n]?b.event.remove(r,n):b.removeEvent(r,n,t.handle);r[z.expando]=void 0}r[V.expando]&&(r[V.expando]=void 0)}}}),b.fn.extend({detach:function(e){return Ne(this,e,!0)},remove:function(e){return Ne(this,e)},text:function(e){return O(this,function(e){return void 0===e?b.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return De(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Se(this,e).appendChild(e)})},prepend:function(){return De(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Se(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return De(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return De(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(b.cleanData(_e(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return b.clone(this,e,t)})},html:function(e){return O(this,function(e){var t=this[0]||{},r=0,n=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ie.test(e)&&!fe[(ge.exec(e)||["",""])[1].toLowerCase()]){e=b.htmlPrefilter(e);try{for(;r<n;r++)1===(t=this[r]||{}).nodeType&&(b.cleanData(_e(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return De(this,arguments,function(t){var r=this.parentNode;b.inArray(this,e)<0&&(b.cleanData(_e(this)),r&&r.replaceChild(t,this))},e)}}),b.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){b.fn[e]=function(e){for(var r,n=[],o=b(e),a=o.length-1,s=0;s<=a;s++)r=s===a?this:this.clone(!0),b(o[s])[t](r),i.apply(n,r.get());return this.pushStack(n)}});var Ae=new RegExp("^("+ee+")(?!px)[a-z%]+$","i"),Me=/^--/,Re=function(t){var r=t.ownerDocument.defaultView;return r&&r.opener||(r=e),r.getComputedStyle(t)},Ze=function(e,t,r){var n,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];for(o in n=r.call(e),t)e.style[o]=a[o];return n},Pe=new RegExp(re.join("|"),"i"),je="[\\x20\\t\\r\\n\\f]",Fe=new RegExp("^"+je+"+|((?:^|[^\\\\])(?:\\\\.)*)"+je+"+$","g");function Oe(e,t,r){var n,o,a,i,s=Me.test(t),l=e.style;return(r=r||Re(e))&&(i=r.getPropertyValue(t)||r[t],s&&i&&(i=i.replace(Fe,"$1")||void 0),""!==i||oe(e)||(i=b.style(e,t)),!g.pixelBoxStyles()&&Ae.test(i)&&Pe.test(t)&&(n=l.width,o=l.minWidth,a=l.maxWidth,l.minWidth=l.maxWidth=l.width=i,i=r.width,l.width=n,l.minWidth=o,l.maxWidth=a)),void 0!==i?i+"":i}function He(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function t(){if(u){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ne.appendChild(c).appendChild(u);var t=e.getComputedStyle(u);n="1%"!==t.top,l=12===r(t.marginLeft),u.style.right="60%",i=36===r(t.right),o=36===r(t.width),u.style.position="absolute",a=12===r(u.offsetWidth/3),ne.removeChild(c),u=null}}function r(e){return Math.round(parseFloat(e))}var n,o,a,i,s,l,c=_.createElement("div"),u=_.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",g.clearCloneStyle="content-box"===u.style.backgroundClip,b.extend(g,{boxSizingReliable:function(){return t(),o},pixelBoxStyles:function(){return t(),i},pixelPosition:function(){return t(),n},reliableMarginLeft:function(){return t(),l},scrollboxSize:function(){return t(),a},reliableTrDimensions:function(){var t,r,n,o;return null==s&&(t=_.createElement("table"),r=_.createElement("tr"),n=_.createElement("div"),t.style.cssText="position:absolute;left:-11111px;border-collapse:separate",r.style.cssText="border:1px solid",r.style.height="1px",n.style.height="9px",n.style.display="block",ne.appendChild(t).appendChild(r).appendChild(n),o=e.getComputedStyle(r),s=parseInt(o.height,10)+parseInt(o.borderTopWidth,10)+parseInt(o.borderBottomWidth,10)===r.offsetHeight,ne.removeChild(t)),s}}))}();var We=["Webkit","Moz","ms"],Ge=_.createElement("div").style,Ye={};function Qe(e){return b.cssProps[e]||Ye[e]||(e in Ge?e:Ye[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),r=We.length;r--;)if((e=We[r]+t)in Ge)return e}(e)||e)}var Ue=/^(none|table(?!-c[ea]).+)/,ze={position:"absolute",visibility:"hidden",display:"block"},Ve={letterSpacing:"0",fontWeight:"400"};function Ke(e,t,r){var n=te.exec(t);return n?Math.max(0,n[2]-(r||0))+(n[3]||"px"):t}function Je(e,t,r,n,o,a){var i="width"===t?1:0,s=0,l=0;if(r===(n?"border":"content"))return 0;for(;i<4;i+=2)"margin"===r&&(l+=b.css(e,r+re[i],!0,o)),n?("content"===r&&(l-=b.css(e,"padding"+re[i],!0,o)),"margin"!==r&&(l-=b.css(e,"border"+re[i]+"Width",!0,o))):(l+=b.css(e,"padding"+re[i],!0,o),"padding"!==r?l+=b.css(e,"border"+re[i]+"Width",!0,o):s+=b.css(e,"border"+re[i]+"Width",!0,o));return!n&&0<=a&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-a-l-s-.5))||0),l}function Xe(e,t,r){var n=Re(e),o=(!g.boxSizingReliable()||r)&&"border-box"===b.css(e,"boxSizing",!1,n),a=o,i=Oe(e,t,n),s="offset"+t[0].toUpperCase()+t.slice(1);if(Ae.test(i)){if(!r)return i;i="auto"}return(!g.boxSizingReliable()&&o||!g.reliableTrDimensions()&&x(e,"tr")||"auto"===i||!parseFloat(i)&&"inline"===b.css(e,"display",!1,n))&&e.getClientRects().length&&(o="border-box"===b.css(e,"boxSizing",!1,n),(a=s in e)&&(i=e[s])),(i=parseFloat(i)||0)+Je(e,t,r||(o?"border":"content"),a,n,i)+"px"}function et(e,t,r,n,o){return new et.prototype.init(e,t,r,n,o)}b.extend({cssHooks:{opacity:{get:function(e,t){if(t){var r=Oe(e,"opacity");return""===r?"1":r}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,r,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,a,i,s=Y(t),l=Me.test(t),c=e.style;if(l||(t=Qe(s)),i=b.cssHooks[t]||b.cssHooks[s],void 0===r)return i&&"get"in i&&void 0!==(o=i.get(e,!1,n))?o:c[t];"string"==(a=typeof r)&&(o=te.exec(r))&&o[1]&&(r=se(e,t,o),a="number"),null!=r&&r==r&&("number"!==a||l||(r+=o&&o[3]||(b.cssNumber[s]?"":"px")),g.clearCloneStyle||""!==r||0!==t.indexOf("background")||(c[t]="inherit"),i&&"set"in i&&void 0===(r=i.set(e,r,n))||(l?c.setProperty(t,r):c[t]=r))}},css:function(e,t,r,n){var o,a,i,s=Y(t);return Me.test(t)||(t=Qe(s)),(i=b.cssHooks[t]||b.cssHooks[s])&&"get"in i&&(o=i.get(e,!0,r)),void 0===o&&(o=Oe(e,t,n)),"normal"===o&&t in Ve&&(o=Ve[t]),""===r||r?(a=parseFloat(o),!0===r||isFinite(a)?a||0:o):o}}),b.each(["height","width"],function(e,t){b.cssHooks[t]={get:function(e,r,n){if(r)return!Ue.test(b.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?Xe(e,t,n):Ze(e,ze,function(){return Xe(e,t,n)})},set:function(e,r,n){var o,a=Re(e),i=!g.scrollboxSize()&&"absolute"===a.position,s=(i||n)&&"border-box"===b.css(e,"boxSizing",!1,a),l=n?Je(e,t,n,s,a):0;return s&&i&&(l-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(a[t])-Je(e,t,"border",!1,a)-.5)),l&&(o=te.exec(r))&&"px"!==(o[3]||"px")&&(e.style[t]=r,r=b.css(e,t)),Ke(0,r,l)}}}),b.cssHooks.marginLeft=He(g.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Oe(e,"marginLeft"))||e.getBoundingClientRect().left-Ze(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),b.each({margin:"",padding:"",border:"Width"},function(e,t){b.cssHooks[e+t]={expand:function(r){for(var n=0,o={},a="string"==typeof r?r.split(" "):[r];n<4;n++)o[e+re[n]+t]=a[n]||a[n-2]||a[0];return o}},"margin"!==e&&(b.cssHooks[e+t].set=Ke)}),b.fn.extend({css:function(e,t){return O(this,function(e,t,r){var n,o,a={},i=0;if(Array.isArray(t)){for(n=Re(e),o=t.length;i<o;i++)a[t[i]]=b.css(e,t[i],!1,n);return a}return void 0!==r?b.style(e,t,r):b.css(e,t)},e,t,1<arguments.length)}}),((b.Tween=et).prototype={constructor:et,init:function(e,t,r,n,o,a){this.elem=e,this.prop=r,this.easing=o||b.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=a||(b.cssNumber[r]?"":"px")},cur:function(){var e=et.propHooks[this.prop];return e&&e.get?e.get(this):et.propHooks._default.get(this)},run:function(e){var t,r=et.propHooks[this.prop];return this.options.duration?this.pos=t=b.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),r&&r.set?r.set(this):et.propHooks._default.set(this),this}}).init.prototype=et.prototype,(et.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=b.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){b.fx.step[e.prop]?b.fx.step[e.prop](e):1!==e.elem.nodeType||!b.cssHooks[e.prop]&&null==e.elem.style[Qe(e.prop)]?e.elem[e.prop]=e.now:b.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=et.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},b.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},b.fx=et.prototype.init,b.fx.step={};var tt,rt,nt,ot,at=/^(?:toggle|show|hide)$/,it=/queueHooks$/;function st(){rt&&(!1===_.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(st):e.setTimeout(st,b.fx.interval),b.fx.tick())}function lt(){return e.setTimeout(function(){tt=void 0}),tt=Date.now()}function ct(e,t){var r,n=0,o={height:e};for(t=t?1:0;n<4;n+=2-t)o["margin"+(r=re[n])]=o["padding"+r]=e;return t&&(o.opacity=o.width=e),o}function ut(e,t,r){for(var n,o=(dt.tweeners[t]||[]).concat(dt.tweeners["*"]),a=0,i=o.length;a<i;a++)if(n=o[a].call(r,t,e))return n}function dt(e,t,r){var n,o,a=0,i=dt.prefilters.length,s=b.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var t=tt||lt(),r=Math.max(0,c.startTime+c.duration-t),n=1-(r/c.duration||0),a=0,i=c.tweens.length;a<i;a++)c.tweens[a].run(n);return s.notifyWith(e,[c,n,r]),n<1&&i?r:(i||s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:b.extend({},t),opts:b.extend(!0,{specialEasing:{},easing:b.easing._default},r),originalProperties:t,originalOptions:r,startTime:tt||lt(),duration:r.duration,tweens:[],createTween:function(t,r){var n=b.Tween(e,c.opts,t,r,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(n),n},stop:function(t){var r=0,n=t?c.tweens.length:0;if(o)return this;for(o=!0;r<n;r++)c.tweens[r].run(1);return t?(s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c,t])):s.rejectWith(e,[c,t]),this}}),u=c.props;for(function(e,t){var r,n,o,a,i;for(r in e)if(o=t[n=Y(r)],a=e[r],Array.isArray(a)&&(o=a[1],a=e[r]=a[0]),r!==n&&(e[n]=a,delete e[r]),(i=b.cssHooks[n])&&"expand"in i)for(r in a=i.expand(a),delete e[n],a)r in e||(e[r]=a[r],t[r]=o);else t[n]=o}(u,c.opts.specialEasing);a<i;a++)if(n=dt.prefilters[a].call(c,e,u,c.opts))return p(n.stop)&&(b._queueHooks(c.elem,c.opts.queue).stop=n.stop.bind(n)),n;return b.map(u,ut,c),p(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),b.fx.timer(b.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c}b.Animation=b.extend(dt,{tweeners:{"*":[function(e,t){var r=this.createTween(e,t);return se(r.elem,e,te.exec(t),r),r}]},tweener:function(e,t){p(e)?(t=e,e=["*"]):e=e.match(A);for(var r,n=0,o=e.length;n<o;n++)r=e[n],dt.tweeners[r]=dt.tweeners[r]||[],dt.tweeners[r].unshift(t)},prefilters:[function(e,t,r){var n,o,a,i,s,l,c,u,d="width"in t||"height"in t,m=this,g={},p=e.style,f=e.nodeType&&ie(e),_=z.get(e,"fxshow");for(n in r.queue||(null==(i=b._queueHooks(e,"fx")).unqueued&&(i.unqueued=0,s=i.empty.fire,i.empty.fire=function(){i.unqueued||s()}),i.unqueued++,m.always(function(){m.always(function(){i.unqueued--,b.queue(e,"fx").length||i.empty.fire()})})),t)if(o=t[n],at.test(o)){if(delete t[n],a=a||"toggle"===o,o===(f?"hide":"show")){if("show"!==o||!_||void 0===_[n])continue;f=!0}g[n]=_&&_[n]||b.style(e,n)}if((l=!b.isEmptyObject(t))||!b.isEmptyObject(g))for(n in d&&1===e.nodeType&&(r.overflow=[p.overflow,p.overflowX,p.overflowY],null==(c=_&&_.display)&&(c=z.get(e,"display")),"none"===(u=b.css(e,"display"))&&(c?u=c:(ce([e],!0),c=e.style.display||c,u=b.css(e,"display"),ce([e]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===b.css(e,"float")&&(l||(m.done(function(){p.display=c}),null==c&&(u=p.display,c="none"===u?"":u)),p.display="inline-block")),r.overflow&&(p.overflow="hidden",m.always(function(){p.overflow=r.overflow[0],p.overflowX=r.overflow[1],p.overflowY=r.overflow[2]})),l=!1,g)l||(_?"hidden"in _&&(f=_.hidden):_=z.access(e,"fxshow",{display:c}),a&&(_.hidden=!f),f&&ce([e],!0),m.done(function(){for(n in f||ce([e]),z.remove(e,"fxshow"),g)b.style(e,n,g[n])})),l=ut(f?_[n]:0,n,m),n in _||(_[n]=l.start,f&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?dt.prefilters.unshift(e):dt.prefilters.push(e)}}),b.speed=function(e,t,r){var n=e&&"object"==typeof e?b.extend({},e):{complete:r||!r&&t||p(e)&&e,duration:e,easing:r&&t||t&&!p(t)&&t};return b.fx.off?n.duration=0:"number"!=typeof n.duration&&(n.duration in b.fx.speeds?n.duration=b.fx.speeds[n.duration]:n.duration=b.fx.speeds._default),null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){p(n.old)&&n.old.call(this),n.queue&&b.dequeue(this,n.queue)},n},b.fn.extend({fadeTo:function(e,t,r,n){return this.filter(ie).css("opacity",0).show().end().animate({opacity:t},e,r,n)},animate:function(e,t,r,n){var o=b.isEmptyObject(e),a=b.speed(t,r,n),i=function(){var t=dt(this,b.extend({},e),a);(o||z.get(this,"finish"))&&t.stop(!0)};return i.finish=i,o||!1===a.queue?this.each(i):this.queue(a.queue,i)},stop:function(e,t,r){var n=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each(function(){var t=!0,o=null!=e&&e+"queueHooks",a=b.timers,i=z.get(this);if(o)i[o]&&i[o].stop&&n(i[o]);else for(o in i)i[o]&&i[o].stop&&it.test(o)&&n(i[o]);for(o=a.length;o--;)a[o].elem!==this||null!=e&&a[o].queue!==e||(a[o].anim.stop(r),t=!1,a.splice(o,1));!t&&r||b.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,r=z.get(this),n=r[e+"queue"],o=r[e+"queueHooks"],a=b.timers,i=n?n.length:0;for(r.finish=!0,b.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=a.length;t--;)a[t].elem===this&&a[t].queue===e&&(a[t].anim.stop(!0),a.splice(t,1));for(t=0;t<i;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete r.finish})}}),b.each(["toggle","show","hide"],function(e,t){var r=b.fn[t];b.fn[t]=function(e,n,o){return null==e||"boolean"==typeof e?r.apply(this,arguments):this.animate(ct(t,!0),e,n,o)}}),b.each({slideDown:ct("show"),slideUp:ct("hide"),slideToggle:ct("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){b.fn[e]=function(e,r,n){return this.animate(t,e,r,n)}}),b.timers=[],b.fx.tick=function(){var e,t=0,r=b.timers;for(tt=Date.now();t<r.length;t++)(e=r[t])()||r[t]!==e||r.splice(t--,1);r.length||b.fx.stop(),tt=void 0},b.fx.timer=function(e){b.timers.push(e),b.fx.start()},b.fx.interval=13,b.fx.start=function(){rt||(rt=!0,st())},b.fx.stop=function(){rt=null},b.fx.speeds={slow:600,fast:200,_default:400},b.fn.delay=function(t,r){return t=b.fx&&b.fx.speeds[t]||t,r=r||"fx",this.queue(r,function(r,n){var o=e.setTimeout(r,t);n.stop=function(){e.clearTimeout(o)}})},nt=_.createElement("input"),ot=_.createElement("select").appendChild(_.createElement("option")),nt.type="checkbox",g.checkOn=""!==nt.value,g.optSelected=ot.selected,(nt=_.createElement("input")).value="t",nt.type="radio",g.radioValue="t"===nt.value;var mt,gt=b.expr.attrHandle;b.fn.extend({attr:function(e,t){return O(this,b.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){b.removeAttr(this,e)})}}),b.extend({attr:function(e,t,r){var n,o,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return void 0===e.getAttribute?b.prop(e,t,r):(1===a&&b.isXMLDoc(e)||(o=b.attrHooks[t.toLowerCase()]||(b.expr.match.bool.test(t)?mt:void 0)),void 0!==r?null===r?void b.removeAttr(e,t):o&&"set"in o&&void 0!==(n=o.set(e,r,t))?n:(e.setAttribute(t,r+""),r):o&&"get"in o&&null!==(n=o.get(e,t))?n:null==(n=b.find.attr(e,t))?void 0:n)},attrHooks:{type:{set:function(e,t){if(!g.radioValue&&"radio"===t&&x(e,"input")){var r=e.value;return e.setAttribute("type",t),r&&(e.value=r),t}}}},removeAttr:function(e,t){var r,n=0,o=t&&t.match(A);if(o&&1===e.nodeType)for(;r=o[n++];)e.removeAttribute(r)}}),mt={set:function(e,t,r){return!1===t?b.removeAttr(e,r):e.setAttribute(r,r),r}},b.each(b.expr.match.bool.source.match(/\w+/g),function(e,t){var r=gt[t]||b.find.attr;gt[t]=function(e,t,n){var o,a,i=t.toLowerCase();return n||(a=gt[i],gt[i]=o,o=null!=r(e,t,n)?i:null,gt[i]=a),o}});var pt=/^(?:input|select|textarea|button)$/i,ft=/^(?:a|area)$/i;function _t(e){return(e.match(A)||[]).join(" ")}function ht(e){return e.getAttribute&&e.getAttribute("class")||""}function vt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(A)||[]}b.fn.extend({prop:function(e,t){return O(this,b.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[b.propFix[e]||e]})}}),b.extend({prop:function(e,t,r){var n,o,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return 1===a&&b.isXMLDoc(e)||(t=b.propFix[t]||t,o=b.propHooks[t]),void 0!==r?o&&"set"in o&&void 0!==(n=o.set(e,r,t))?n:e[t]=r:o&&"get"in o&&null!==(n=o.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){var t=b.find.attr(e,"tabindex");return t?parseInt(t,10):pt.test(e.nodeName)||ft.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),g.optSelected||(b.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),b.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){b.propFix[this.toLowerCase()]=this}),b.fn.extend({addClass:function(e){var t,r,n,o,a,i;return p(e)?this.each(function(t){b(this).addClass(e.call(this,t,ht(this)))}):(t=vt(e)).length?this.each(function(){if(n=ht(this),r=1===this.nodeType&&" "+_t(n)+" "){for(a=0;a<t.length;a++)o=t[a],r.indexOf(" "+o+" ")<0&&(r+=o+" ");i=_t(r),n!==i&&this.setAttribute("class",i)}}):this},removeClass:function(e){var t,r,n,o,a,i;return p(e)?this.each(function(t){b(this).removeClass(e.call(this,t,ht(this)))}):arguments.length?(t=vt(e)).length?this.each(function(){if(n=ht(this),r=1===this.nodeType&&" "+_t(n)+" "){for(a=0;a<t.length;a++)for(o=t[a];-1<r.indexOf(" "+o+" ");)r=r.replace(" "+o+" "," ");i=_t(r),n!==i&&this.setAttribute("class",i)}}):this:this.attr("class","")},toggleClass:function(e,t){var r,n,o,a,i=typeof e,s="string"===i||Array.isArray(e);return p(e)?this.each(function(r){b(this).toggleClass(e.call(this,r,ht(this),t),t)}):"boolean"==typeof t&&s?t?this.addClass(e):this.removeClass(e):(r=vt(e),this.each(function(){if(s)for(a=b(this),o=0;o<r.length;o++)n=r[o],a.hasClass(n)?a.removeClass(n):a.addClass(n);else void 0!==e&&"boolean"!==i||((n=ht(this))&&z.set(this,"__className__",n),this.setAttribute&&this.setAttribute("class",n||!1===e?"":z.get(this,"__className__")||""))}))},hasClass:function(e){var t,r,n=0;for(t=" "+e+" ";r=this[n++];)if(1===r.nodeType&&-1<(" "+_t(ht(r))+" ").indexOf(t))return!0;return!1}});var yt=/\r/g;b.fn.extend({val:function(e){var t,r,n,o=this[0];return arguments.length?(n=p(e),this.each(function(r){var o;1===this.nodeType&&(null==(o=n?e.call(this,r,b(this).val()):e)?o="":"number"==typeof o?o+="":Array.isArray(o)&&(o=b.map(o,function(e){return null==e?"":e+""})),(t=b.valHooks[this.type]||b.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))})):o?(t=b.valHooks[o.type]||b.valHooks[o.nodeName.toLowerCase()])&&"get"in t&&void 0!==(r=t.get(o,"value"))?r:"string"==typeof(r=o.value)?r.replace(yt,""):null==r?"":r:void 0}}),b.extend({valHooks:{option:{get:function(e){var t=b.find.attr(e,"value");return null!=t?t:_t(b.text(e))}},select:{get:function(e){var t,r,n,o=e.options,a=e.selectedIndex,i="select-one"===e.type,s=i?null:[],l=i?a+1:o.length;for(n=a<0?l:i?a:0;n<l;n++)if(((r=o[n]).selected||n===a)&&!r.disabled&&(!r.parentNode.disabled||!x(r.parentNode,"optgroup"))){if(t=b(r).val(),i)return t;s.push(t)}return s},set:function(e,t){for(var r,n,o=e.options,a=b.makeArray(t),i=o.length;i--;)((n=o[i]).selected=-1<b.inArray(b.valHooks.option.get(n),a))&&(r=!0);return r||(e.selectedIndex=-1),a}}}}),b.each(["radio","checkbox"],function(){b.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<b.inArray(b(e).val(),t)}},g.checkOn||(b.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),g.focusin="onfocusin"in e;var Et=/^(?:focusinfocus|focusoutblur)$/,bt=function(e){e.stopPropagation()};b.extend(b.event,{trigger:function(t,r,n,o){var a,i,s,l,c,d,m,g,h=[n||_],v=u.call(t,"type")?t.type:t,y=u.call(t,"namespace")?t.namespace.split("."):[];if(i=g=s=n=n||_,3!==n.nodeType&&8!==n.nodeType&&!Et.test(v+b.event.triggered)&&(-1<v.indexOf(".")&&(v=(y=v.split(".")).shift(),y.sort()),c=v.indexOf(":")<0&&"on"+v,(t=t[b.expando]?t:new b.Event(v,"object"==typeof t&&t)).isTrigger=o?2:3,t.namespace=y.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),r=null==r?[t]:b.makeArray(r,[t]),m=b.event.special[v]||{},o||!m.trigger||!1!==m.trigger.apply(n,r))){if(!o&&!m.noBubble&&!f(n)){for(l=m.delegateType||v,Et.test(l+v)||(i=i.parentNode);i;i=i.parentNode)h.push(i),s=i;s===(n.ownerDocument||_)&&h.push(s.defaultView||s.parentWindow||e)}for(a=0;(i=h[a++])&&!t.isPropagationStopped();)g=i,t.type=1<a?l:m.bindType||v,(d=(z.get(i,"events")||Object.create(null))[t.type]&&z.get(i,"handle"))&&d.apply(i,r),(d=c&&i[c])&&d.apply&&Q(i)&&(t.result=d.apply(i,r),!1===t.result&&t.preventDefault());return t.type=v,o||t.isDefaultPrevented()||m._default&&!1!==m._default.apply(h.pop(),r)||!Q(n)||c&&p(n[v])&&!f(n)&&((s=n[c])&&(n[c]=null),b.event.triggered=v,t.isPropagationStopped()&&g.addEventListener(v,bt),n[v](),t.isPropagationStopped()&&g.removeEventListener(v,bt),b.event.triggered=void 0,s&&(n[c]=s)),t.result}},simulate:function(e,t,r){var n=b.extend(new b.Event,r,{type:e,isSimulated:!0});b.event.trigger(n,null,t)}}),b.fn.extend({trigger:function(e,t){return this.each(function(){b.event.trigger(e,t,this)})},triggerHandler:function(e,t){var r=this[0];if(r)return b.event.trigger(e,t,r,!0)}}),g.focusin||b.each({focus:"focusin",blur:"focusout"},function(e,t){var r=function(e){b.event.simulate(t,e.target,b.event.fix(e))};b.event.special[t]={setup:function(){var n=this.ownerDocument||this.document||this,o=z.access(n,t);o||n.addEventListener(e,r,!0),z.access(n,t,(o||0)+1)},teardown:function(){var n=this.ownerDocument||this.document||this,o=z.access(n,t)-1;o?z.access(n,t,o):(n.removeEventListener(e,r,!0),z.remove(n,t))}}});var $t=e.location,kt={guid:Date.now()},Ct=/\?/;b.parseXML=function(t){var r,n;if(!t||"string"!=typeof t)return null;try{r=(new e.DOMParser).parseFromString(t,"text/xml")}catch(t){}return n=r&&r.getElementsByTagName("parsererror")[0],r&&!n||b.error("Invalid XML: "+(n?b.map(n.childNodes,function(e){return e.textContent}).join("\n"):t)),r};var wt=/\[\]$/,It=/\r?\n/g,xt=/^(?:submit|button|image|reset|file)$/i,Bt=/^(?:input|select|textarea|keygen)/i;function St(e,t,r,n){var o;if(Array.isArray(t))b.each(t,function(t,o){r||wt.test(e)?n(e,o):St(e+"["+("object"==typeof o&&null!=o?t:"")+"]",o,r,n)});else if(r||"object"!==y(t))n(e,t);else for(o in t)St(e+"["+o+"]",t[o],r,n)}b.param=function(e,t){var r,n=[],o=function(e,t){var r=p(t)?t():t;n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==r?"":r)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!b.isPlainObject(e))b.each(e,function(){o(this.name,this.value)});else for(r in e)St(r,e[r],t,o);return n.join("&")},b.fn.extend({serialize:function(){return b.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=b.prop(this,"elements");return e?b.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!b(this).is(":disabled")&&Bt.test(this.nodeName)&&!xt.test(e)&&(this.checked||!me.test(e))}).map(function(e,t){var r=b(this).val();return null==r?null:Array.isArray(r)?b.map(r,function(e){return{name:t.name,value:e.replace(It,"\r\n")}}):{name:t.name,value:r.replace(It,"\r\n")}}).get()}});var Lt=/%20/g,Tt=/#.*$/,qt=/([?&])_=[^&]*/,Dt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Nt=/^(?:GET|HEAD)$/,At=/^\/\//,Mt={},Rt={},Zt="*/".concat("*"),Pt=_.createElement("a");function jt(e){return function(t,r){"string"!=typeof t&&(r=t,t="*");var n,o=0,a=t.toLowerCase().match(A)||[];if(p(r))for(;n=a[o++];)"+"===n[0]?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(r)):(e[n]=e[n]||[]).push(r)}}function Ft(e,t,r,n){var o={},a=e===Rt;function i(s){var l;return o[s]=!0,b.each(e[s]||[],function(e,s){var c=s(t,r,n);return"string"!=typeof c||a||o[c]?a?!(l=c):void 0:(t.dataTypes.unshift(c),i(c),!1)}),l}return i(t.dataTypes[0])||!o["*"]&&i("*")}function Ot(e,t){var r,n,o=b.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((o[r]?e:n||(n={}))[r]=t[r]);return n&&b.extend(!0,e,n),e}Pt.href=$t.href,b.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:$t.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test($t.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Zt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":b.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Ot(Ot(e,b.ajaxSettings),t):Ot(b.ajaxSettings,e)},ajaxPrefilter:jt(Mt),ajaxTransport:jt(Rt),ajax:function(t,r){"object"==typeof t&&(r=t,t=void 0),r=r||{};var n,o,a,i,s,l,c,u,d,m,g=b.ajaxSetup({},r),p=g.context||g,f=g.context&&(p.nodeType||p.jquery)?b(p):b.event,h=b.Deferred(),v=b.Callbacks("once memory"),y=g.statusCode||{},E={},$={},k="canceled",C={readyState:0,getResponseHeader:function(e){var t;if(c){if(!i)for(i={};t=Dt.exec(a);)i[t[1].toLowerCase()+" "]=(i[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=i[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return c?a:null},setRequestHeader:function(e,t){return null==c&&(e=$[e.toLowerCase()]=$[e.toLowerCase()]||e,E[e]=t),this},overrideMimeType:function(e){return null==c&&(g.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)C.always(e[C.status]);else for(t in e)y[t]=[y[t],e[t]];return this},abort:function(e){var t=e||k;return n&&n.abort(t),w(0,t),this}};if(h.promise(C),g.url=((t||g.url||$t.href)+"").replace(At,$t.protocol+"//"),g.type=r.method||r.type||g.method||g.type,g.dataTypes=(g.dataType||"*").toLowerCase().match(A)||[""],null==g.crossDomain){l=_.createElement("a");try{l.href=g.url,l.href=l.href,g.crossDomain=Pt.protocol+"//"+Pt.host!=l.protocol+"//"+l.host}catch(t){g.crossDomain=!0}}if(g.data&&g.processData&&"string"!=typeof g.data&&(g.data=b.param(g.data,g.traditional)),Ft(Mt,g,r,C),c)return C;for(d in(u=b.event&&g.global)&&0==b.active++&&b.event.trigger("ajaxStart"),g.type=g.type.toUpperCase(),g.hasContent=!Nt.test(g.type),o=g.url.replace(Tt,""),g.hasContent?g.data&&g.processData&&0===(g.contentType||"").indexOf("application/x-www-form-urlencoded")&&(g.data=g.data.replace(Lt,"+")):(m=g.url.slice(o.length),g.data&&(g.processData||"string"==typeof g.data)&&(o+=(Ct.test(o)?"&":"?")+g.data,delete g.data),!1===g.cache&&(o=o.replace(qt,"$1"),m=(Ct.test(o)?"&":"?")+"_="+kt.guid+++m),g.url=o+m),g.ifModified&&(b.lastModified[o]&&C.setRequestHeader("If-Modified-Since",b.lastModified[o]),b.etag[o]&&C.setRequestHeader("If-None-Match",b.etag[o])),(g.data&&g.hasContent&&!1!==g.contentType||r.contentType)&&C.setRequestHeader("Content-Type",g.contentType),C.setRequestHeader("Accept",g.dataTypes[0]&&g.accepts[g.dataTypes[0]]?g.accepts[g.dataTypes[0]]+("*"!==g.dataTypes[0]?", "+Zt+"; q=0.01":""):g.accepts["*"]),g.headers)C.setRequestHeader(d,g.headers[d]);if(g.beforeSend&&(!1===g.beforeSend.call(p,C,g)||c))return C.abort();if(k="abort",v.add(g.complete),C.done(g.success),C.fail(g.error),n=Ft(Rt,g,r,C)){if(C.readyState=1,u&&f.trigger("ajaxSend",[C,g]),c)return C;g.async&&0<g.timeout&&(s=e.setTimeout(function(){C.abort("timeout")},g.timeout));try{c=!1,n.send(E,w)}catch(t){if(c)throw t;w(-1,t)}}else w(-1,"No Transport");function w(t,r,i,l){var d,m,_,E,$,k=r;c||(c=!0,s&&e.clearTimeout(s),n=void 0,a=l||"",C.readyState=0<t?4:0,d=200<=t&&t<300||304===t,i&&(E=function(e,t,r){for(var n,o,a,i,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=e.mimeType||t.getResponseHeader("Content-Type"));if(n)for(o in s)if(s[o]&&s[o].test(n)){l.unshift(o);break}if(l[0]in r)a=l[0];else{for(o in r){if(!l[0]||e.converters[o+" "+l[0]]){a=o;break}i||(i=o)}a=a||i}if(a)return a!==l[0]&&l.unshift(a),r[a]}(g,C,i)),!d&&-1<b.inArray("script",g.dataTypes)&&b.inArray("json",g.dataTypes)<0&&(g.converters["text script"]=function(){}),E=function(e,t,r,n){var o,a,i,s,l,c={},u=e.dataTypes.slice();if(u[1])for(i in e.converters)c[i.toLowerCase()]=e.converters[i];for(a=u.shift();a;)if(e.responseFields[a]&&(r[e.responseFields[a]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=a,a=u.shift())if("*"===a)a=l;else if("*"!==l&&l!==a){if(!(i=c[l+" "+a]||c["* "+a]))for(o in c)if((s=o.split(" "))[1]===a&&(i=c[l+" "+s[0]]||c["* "+s[0]])){!0===i?i=c[o]:!0!==c[o]&&(a=s[0],u.unshift(s[1]));break}if(!0!==i)if(i&&e.throws)t=i(t);else try{t=i(t)}catch(e){return{state:"parsererror",error:i?e:"No conversion from "+l+" to "+a}}}return{state:"success",data:t}}(g,E,C,d),d?(g.ifModified&&(($=C.getResponseHeader("Last-Modified"))&&(b.lastModified[o]=$),($=C.getResponseHeader("etag"))&&(b.etag[o]=$)),204===t||"HEAD"===g.type?k="nocontent":304===t?k="notmodified":(k=E.state,m=E.data,d=!(_=E.error))):(_=k,!t&&k||(k="error",t<0&&(t=0))),C.status=t,C.statusText=(r||k)+"",d?h.resolveWith(p,[m,k,C]):h.rejectWith(p,[C,k,_]),C.statusCode(y),y=void 0,u&&f.trigger(d?"ajaxSuccess":"ajaxError",[C,g,d?m:_]),v.fireWith(p,[C,k]),u&&(f.trigger("ajaxComplete",[C,g]),--b.active||b.event.trigger("ajaxStop")))}return C},getJSON:function(e,t,r){return b.get(e,t,r,"json")},getScript:function(e,t){return b.get(e,void 0,t,"script")}}),b.each(["get","post"],function(e,t){b[t]=function(e,r,n,o){return p(r)&&(o=o||n,n=r,r=void 0),b.ajax(b.extend({url:e,type:t,dataType:o,data:r,success:n},b.isPlainObject(e)&&e))}}),b.ajaxPrefilter(function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),b._evalUrl=function(e,t,r){return b.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){b.globalEval(e,t,r)}})},b.fn.extend({wrapAll:function(e){var t;return this[0]&&(p(e)&&(e=e.call(this[0])),t=b(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return p(e)?this.each(function(t){b(this).wrapInner(e.call(this,t))}):this.each(function(){var t=b(this),r=t.contents();r.length?r.wrapAll(e):t.append(e)})},wrap:function(e){var t=p(e);return this.each(function(r){b(this).wrapAll(t?e.call(this,r):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){b(this).replaceWith(this.childNodes)}),this}}),b.expr.pseudos.hidden=function(e){return!b.expr.pseudos.visible(e)},b.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},b.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var Ht={0:200,1223:204},Wt=b.ajaxSettings.xhr();g.cors=!!Wt&&"withCredentials"in Wt,g.ajax=Wt=!!Wt,b.ajaxTransport(function(t){var r,n;if(g.cors||Wt&&!t.crossDomain)return{send:function(o,a){var i,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(i in t.xhrFields)s[i]=t.xhrFields[i];for(i in t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest"),o)s.setRequestHeader(i,o[i]);r=function(e){return function(){r&&(r=n=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?a(0,"error"):a(s.status,s.statusText):a(Ht[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=r(),n=s.onerror=s.ontimeout=r("error"),void 0!==s.onabort?s.onabort=n:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout(function(){r&&n()})},r=r("abort");try{s.send(t.hasContent&&t.data||null)}catch(o){if(r)throw o}},abort:function(){r&&r()}}}),b.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),b.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return b.globalEval(e),e}}}),b.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),b.ajaxTransport("script",function(e){var t,r;if(e.crossDomain||e.scriptAttrs)return{send:function(n,o){t=b("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",r=function(e){t.remove(),r=null,e&&o("error"===e.type?404:200,e.type)}),_.head.appendChild(t[0])},abort:function(){r&&r()}}});var Gt,Yt=[],Qt=/(=)\?(?=&|$)|\?\?/;b.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Yt.pop()||b.expando+"_"+kt.guid++;return this[e]=!0,e}}),b.ajaxPrefilter("json jsonp",function(t,r,n){var o,a,i,s=!1!==t.jsonp&&(Qt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Qt.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return o=t.jsonpCallback=p(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Qt,"$1"+o):!1!==t.jsonp&&(t.url+=(Ct.test(t.url)?"&":"?")+t.jsonp+"="+o),t.converters["script json"]=function(){return i||b.error(o+" was not called"),i[0]},t.dataTypes[0]="json",a=e[o],e[o]=function(){i=arguments},n.always(function(){void 0===a?b(e).removeProp(o):e[o]=a,t[o]&&(t.jsonpCallback=r.jsonpCallback,Yt.push(o)),i&&p(a)&&a(i[0]),i=a=void 0}),"script"}),g.createHTMLDocument=((Gt=_.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Gt.childNodes.length),b.parseHTML=function(e,t,r){return"string"!=typeof e?[]:("boolean"==typeof t&&(r=t,t=!1),t||(g.createHTMLDocument?((n=(t=_.implementation.createHTMLDocument("")).createElement("base")).href=_.location.href,t.head.appendChild(n)):t=_),a=!r&&[],(o=B.exec(e))?[t.createElement(o[1])]:(o=ye([e],t,a),a&&a.length&&b(a).remove(),b.merge([],o.childNodes)));var n,o,a},b.fn.load=function(e,t,r){var n,o,a,i=this,s=e.indexOf(" ");return-1<s&&(n=_t(e.slice(s)),e=e.slice(0,s)),p(t)?(r=t,t=void 0):t&&"object"==typeof t&&(o="POST"),0<i.length&&b.ajax({url:e,type:o||"GET",dataType:"html",data:t}).done(function(e){a=arguments,i.html(n?b("<div>").append(b.parseHTML(e)).find(n):e)}).always(r&&function(e,t){i.each(function(){r.apply(this,a||[e.responseText,t,e])})}),this},b.expr.pseudos.animated=function(e){return b.grep(b.timers,function(t){return e===t.elem}).length},b.offset={setOffset:function(e,t,r){var n,o,a,i,s,l,c=b.css(e,"position"),u=b(e),d={};"static"===c&&(e.style.position="relative"),s=u.offset(),a=b.css(e,"top"),l=b.css(e,"left"),("absolute"===c||"fixed"===c)&&-1<(a+l).indexOf("auto")?(i=(n=u.position()).top,o=n.left):(i=parseFloat(a)||0,o=parseFloat(l)||0),p(t)&&(t=t.call(e,r,b.extend({},s))),null!=t.top&&(d.top=t.top-s.top+i),null!=t.left&&(d.left=t.left-s.left+o),"using"in t?t.using.call(e,d):u.css(d)}},b.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){b.offset.setOffset(this,e,t)});var t,r,n=this[0];return n?n.getClientRects().length?(t=n.getBoundingClientRect(),r=n.ownerDocument.defaultView,{top:t.top+r.pageYOffset,left:t.left+r.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,r,n=this[0],o={top:0,left:0};if("fixed"===b.css(n,"position"))t=n.getBoundingClientRect();else{for(t=this.offset(),r=n.ownerDocument,e=n.offsetParent||r.documentElement;e&&(e===r.body||e===r.documentElement)&&"static"===b.css(e,"position");)e=e.parentNode;e&&e!==n&&1===e.nodeType&&((o=b(e).offset()).top+=b.css(e,"borderTopWidth",!0),o.left+=b.css(e,"borderLeftWidth",!0))}return{top:t.top-o.top-b.css(n,"marginTop",!0),left:t.left-o.left-b.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===b.css(e,"position");)e=e.offsetParent;return e||ne})}}),b.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var r="pageYOffset"===t;b.fn[e]=function(n){return O(this,function(e,n,o){var a;if(f(e)?a=e:9===e.nodeType&&(a=e.defaultView),void 0===o)return a?a[t]:e[n];a?a.scrollTo(r?a.pageXOffset:o,r?o:a.pageYOffset):e[n]=o},e,n,arguments.length)}}),b.each(["top","left"],function(e,t){b.cssHooks[t]=He(g.pixelPosition,function(e,r){if(r)return r=Oe(e,t),Ae.test(r)?b(e).position()[t]+"px":r})}),b.each({Height:"height",Width:"width"},function(e,t){b.each({padding:"inner"+e,content:t,"":"outer"+e},function(r,n){b.fn[n]=function(o,a){var i=arguments.length&&(r||"boolean"!=typeof o),s=r||(!0===o||!0===a?"margin":"border");return O(this,function(t,r,o){var a;return f(t)?0===n.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(a=t.documentElement,Math.max(t.body["scroll"+e],a["scroll"+e],t.body["offset"+e],a["offset"+e],a["client"+e])):void 0===o?b.css(t,r,s):b.style(t,r,o,s)},t,i?o:void 0,i)}})}),b.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){b.fn[t]=function(e){return this.on(t,e)}}),b.fn.extend({bind:function(e,t,r){return this.on(e,null,t,r)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,r,n){return this.on(t,e,r,n)},undelegate:function(e,t,r){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",r)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),b.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){b.fn[t]=function(e,r){return 0<arguments.length?this.on(t,null,e,r):this.trigger(t)}});var Ut=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;b.proxy=function(e,t){var r,n,a;if("string"==typeof t&&(r=e[t],t=e,e=r),p(e))return n=o.call(arguments,2),(a=function(){return e.apply(t||this,n.concat(o.call(arguments)))}).guid=e.guid=e.guid||b.guid++,a},b.holdReady=function(e){e?b.readyWait++:b.ready(!0)},b.isArray=Array.isArray,b.parseJSON=JSON.parse,b.nodeName=x,b.isFunction=p,b.isWindow=f,b.camelCase=Y,b.type=y,b.now=Date.now,b.isNumeric=function(e){var t=b.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},b.trim=function(e){return null==e?"":(e+"").replace(Ut,"$1")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return b});var zt=e.jQuery,Vt=e.$;return b.noConflict=function(t){return e.$===b&&(e.$=Vt),t&&e.jQuery===b&&(e.jQuery=zt),b},void 0===t&&(e.jQuery=e.$=b),b}),function(){"use strict";if("undefined"!=typeof window){var e=window.navigator.userAgent.match(/Edge\/(\d{2})\./),t=e?parseInt(e[1],10):null,r=!!t&&16<=t&&t<=18;if("objectFit"in document.documentElement.style==0||r){var n=function(e,t,r){var n,o,a,i,s;if((r=r.split(" ")).length<2&&(r[1]=r[0]),"x"===e)n=r[0],o=r[1],a="left",i="right",s=t.clientWidth;else{if("y"!==e)return;n=r[1],o=r[0],a="top",i="bottom",s=t.clientHeight}if(n!==a&&o!==a){if(n!==i&&o!==i)return"center"===n||"50%"===n?(t.style[a]="50%",void(t.style["margin-"+a]=s/-2+"px")):void(0<=n.indexOf("%")?(n=parseInt(n,10))<50?(t.style[a]=n+"%",t.style["margin-"+a]=s*(n/-100)+"px"):(n=100-n,t.style[i]=n+"%",t.style["margin-"+i]=s*(n/-100)+"px"):t.style[a]=n);t.style[i]="0"}else t.style[a]="0"},o=function(e){var t=e.dataset?e.dataset.objectFit:e.getAttribute("data-object-fit"),r=e.dataset?e.dataset.objectPosition:e.getAttribute("data-object-position");t=t||"cover",r=r||"50% 50%";var o=e.parentNode;return function(e){var t=window.getComputedStyle(e,null),r=t.getPropertyValue("position"),n=t.getPropertyValue("overflow"),o=t.getPropertyValue("display");r&&"static"!==r||(e.style.position="relative"),"hidden"!==n&&(e.style.overflow="hidden"),o&&"inline"!==o||(e.style.display="block"),0===e.clientHeight&&(e.style.height="100%"),-1===e.className.indexOf("object-fit-polyfill")&&(e.className=e.className+" object-fit-polyfill")}(o),function(e){var t=window.getComputedStyle(e,null),r={"max-width":"none","max-height":"none","min-width":"0px","min-height":"0px",top:"auto",right:"auto",bottom:"auto",left:"auto","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"0px"};for(var n in r)t.getPropertyValue(n)!==r[n]&&(e.style[n]=r[n])}(e),e.style.position="absolute",e.style.width="auto",e.style.height="auto","scale-down"===t&&(t=e.clientWidth<o.clientWidth&&e.clientHeight<o.clientHeight?"none":"contain"),"none"===t?(n("x",e,r),void n("y",e,r)):"fill"===t?(e.style.width="100%",e.style.height="100%",n("x",e,r),void n("y",e,r)):(e.style.height="100%",void("cover"===t&&e.clientWidth>o.clientWidth||"contain"===t&&e.clientWidth<o.clientWidth?(e.style.top="0",e.style.marginTop="0",n("x",e,r)):(e.style.width="100%",e.style.height="auto",e.style.left="0",e.style.marginLeft="0",n("y",e,r))))},a=function(e){if(void 0===e||e instanceof Event)e=document.querySelectorAll("[data-object-fit]");else if(e&&e.nodeName)e=[e];else{if("object"!=typeof e||!e.length||!e[0].nodeName)return!1;e=e}for(var t=0;t<e.length;t++)if(e[t].nodeName){var n=e[t].nodeName.toLowerCase();if("img"===n){if(r)continue;e[t].complete?o(e[t]):e[t].addEventListener("load",function(){o(this)})}else"video"===n?0<e[t].readyState?o(e[t]):e[t].addEventListener("loadedmetadata",function(){o(this)}):o(e[t])}return!0};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",a):a(),window.addEventListener("resize",a),window.objectFitPolyfill=a}else window.objectFitPolyfill=function(){return!1}}}(),document.addEventListener("DOMContentLoaded",function(e){function t(e){return null!=e&&(e.length>=0||e.innerHTML.length>=0)}if("undefined"!=typeof jQuery&&($("body").addClass("js-enabled"),window.GOVUKFrontend.initAll()),matchMedia){var r=window.matchMedia("(min-width: 769px)");r.addListener(o)}var n=document.querySelectorAll("[data-toggler]");function o(){if(t(n)){var e=0;for(e=0;e<n.length;e++){var o=n[e].getAttribute("data-toggler"),a=[];a[e]=document.querySelector('[data-toggle="'+o+'"]'),r.matches&&"nav"==o?(n[e].setAttribute("aria-expanded",!0),a[e].setAttribute("aria-hidden",!1)):(n[e].setAttribute("aria-expanded",!1),a[e].setAttribute("aria-hidden",!0))}}}if(o(),t(n)){var a=0;for(a=0;a<n.length;a++){var i=n[a].getAttribute("data-toggler");document.querySelector('[data-toggle="'+i+'"]'),n[a].addEventListener("click",function(e){var r=this.getAttribute("data-toggler"),o=document.querySelector('[data-toggle="'+r+'"]'),a="false"===this.getAttribute("aria-expanded"),i=0;for(i=0;i<n.length;i++)n[i].getAttribute("data-toggler")==r&&n[i].setAttribute("aria-expanded",a);o.setAttribute("aria-hidden",!a);var s=this.getAttribute("data-toggler-toggled"),l=this.getAttribute("data-toggler-untoggled");a&&s&&l?t(s)&&(this.innerHTML=s):l&&t(l)&&(this.innerHTML=l),e.preventDefault()},!1)}}}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define("GOVUKFrontend",["exports"],t):t(e.GOVUKFrontend={})}(this,function(e){"use strict";function t(e,t){if(window.NodeList.prototype.forEach)return e.forEach(t);for(var r=0;r<e.length;r++)t.call(window,e[r],r,e)}class r{RandomNumber(){const e=new Uint8Array(1);return window.crypto.getRandomValues(e),e[0]}}function n(e){this.$module=e,this.moduleId=e.getAttribute("id"),this.$sections=e.querySelectorAll(".govuk-accordion__section"),this.$openAllButton="",this.browserSupportsSessionStorage=o.checkForSessionStorage(),this.controlsClass="govuk-accordion__controls",this.openAllClass="govuk-accordion__open-all",this.iconClass="govuk-accordion__icon",this.sectionHeaderClass="govuk-accordion__section-header",this.sectionHeaderFocusedClass="govuk-accordion__section-header--focused",this.sectionHeadingClass="govuk-accordion__section-heading",this.sectionSummaryClass="govuk-accordion__section-summary",this.sectionButtonClass="govuk-accordion__section-button",this.sectionExpandedClass="govuk-accordion__section--expanded"}(function(e){var t,r,n;"defineProperty"in Object&&function(){try{return Object.defineProperty({},"test",{value:42}),!0}catch(e){return!1}}()||(t=Object.defineProperty,r=Object.prototype.hasOwnProperty("__defineGetter__"),n="A property cannot both have accessors and be writable or have a value",Object.defineProperty=function(e,o,a){if(t&&(e===window||e===document||e===Element.prototype||e instanceof Element))return t(e,o,a);if(null===e||!(e instanceof Object||"object"==typeof e))throw new TypeError("Object.defineProperty called on non-object");if(!(a instanceof Object))throw new TypeError("Property description must be an object");var i=String(o),s="value"in a||"writable"in a,l="get"in a&&typeof a.get,c="set"in a&&typeof a.set;if(l){if("function"!==l)throw new TypeError("Getter must be a function");if(!r)throw new TypeError("Getters & setters cannot be defined on this javascript engine");if(s)throw new TypeError(n);Object.__defineGetter__.call(e,i,a.get)}else e[i]=a.value;if(c){if("function"!==c)throw new TypeError("Setter must be a function");if(!r)throw new TypeError("Getters & setters cannot be defined on this javascript engine");if(s)throw new TypeError(n);Object.__defineSetter__.call(e,i,a.set)}return"value"in a&&(e[i]=a.value),e})}).call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),function(e){"bind"in Function.prototype||Object.defineProperty(Function.prototype,"bind",{value:function(e){var t,r=Array,n=Object,o=n.prototype,a=r.prototype,i=function(){},s=o.toString,l="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,c=Function.prototype.toString;t=function(e){if("function"!=typeof e)return!1;if(l)return function(e){try{return c.call(e),!0}catch(e){return!1}}(e);var t=s.call(e);return"[object Function]"===t||"[object GeneratorFunction]"===t};var u=a.slice,d=a.concat,m=a.push,g=Math.max,p=this;if(!t(p))throw new TypeError("Function.prototype.bind called on incompatible "+p);for(var f,_=u.call(arguments,1),h=g(0,p.length-_.length),v=[],y=0;y<h;y++)m.call(v,"$"+y);return f=Function("binder","return function ("+v.join(",")+"){ return binder.apply(this, arguments); }")(function(){if(this instanceof f){var t=p.apply(this,d.call(_,u.call(arguments)));return n(t)===t?t:this}return p.apply(e,d.call(_,u.call(arguments)))}),p.prototype&&(i.prototype=p.prototype,f.prototype=new i,i.prototype=null),f}})}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),function(e){var t,r,n;"DOMTokenList"in this&&(!("classList"in(t=document.createElement("x")))||!t.classList.toggle("x",!1)&&!t.className)||("DOMTokenList"in(r=this)&&r.DOMTokenList&&(!document.createElementNS||!document.createElementNS("http://www.w3.org/2000/svg","svg")||document.createElementNS("http://www.w3.org/2000/svg","svg").classList instanceof DOMTokenList)||(r.DOMTokenList=function(){var t=!0,r=function(e,r,n,o){Object.defineProperty?Object.defineProperty(e,r,{configurable:!1===t||!!o,get:n}):e.__defineGetter__(r,n)};try{r({},"support")}catch(e){t=!1}return function(t,n){var o=this,a=[],i={},s=0,l=0,c=function(e){r(o,e,function(){return d(),a[e]},!1)},u=function(){if(s>=l)for(;l<s;++l)c(l)},d=function(){var e,r,o=arguments,l=/\s+/;if(o.length)for(r=0;r<o.length;++r)if(l.test(o[r]))throw(e=new SyntaxError('String "'+o[r]+'" contains an invalid character')).code=5,e.name="InvalidCharacterError",e;for(""===(a="object"==typeof t[n]?(""+t[n].baseVal).replace(/^\s+|\s+$/g,"").split(l):(""+t[n]).replace(/^\s+|\s+$/g,"").split(l))[0]&&(a=[]),i={},r=0;r<a.length;++r)i[a[r]]=!0;s=a.length,u()};return d(),r(o,"length",function(){return d(),s}),o.toLocaleString=o.toString=function(){return d(),a.join(" ")},o.item=function(e){return d(),a[e]},o.contains=function(e){return d(),!!i[e]},o.add=function(){d.apply(o,e=arguments);for(var e,r,l=0,c=e.length;l<c;++l)r=e[l],i[r]||(a.push(r),i[r]=!0);s!==a.length&&(s=a.length>>>0,"object"==typeof t[n]?t[n].baseVal=a.join(" "):t[n]=a.join(" "),u())},o.remove=function(){d.apply(o,e=arguments);for(var e,r={},l=0,c=[];l<e.length;++l)r[e[l]]=!0,delete i[e[l]];for(l=0;l<a.length;++l)r[a[l]]||c.push(a[l]);a=c,s=c.length>>>0,"object"==typeof t[n]?t[n].baseVal=a.join(" "):t[n]=a.join(" "),u()},o.toggle=function(t,r){return d.apply(o,[t]),e!==r?r?(o.add(t),!0):(o.remove(t),!1):i[t]?(o.remove(t),!1):(o.add(t),!0)},o}}()),"classList"in(n=document.createElement("span"))&&(n.classList.toggle("x",!1),n.classList.contains("x")&&(n.classList.constructor.prototype.toggle=function(t){var r=arguments[1];if(r===e){var n=!this.contains(t);return this[n?"add":"remove"](t),n}return this[(r=!!r)?"add":"remove"](t),r})),function(){var e=document.createElement("span");if("classList"in e&&(e.classList.add("a","b"),!e.classList.contains("b"))){var t=e.classList.constructor.prototype.add;e.classList.constructor.prototype.add=function(){for(var e=arguments,r=arguments.length,n=0;n<r;n++)t.call(this,e[n])}}}(),function(){var e=document.createElement("span");if("classList"in e&&(e.classList.add("a"),e.classList.add("b"),e.classList.remove("a","b"),e.classList.contains("b"))){var t=e.classList.constructor.prototype.remove;e.classList.constructor.prototype.remove=function(){for(var e=arguments,r=arguments.length,n=0;n<r;n++)t.call(this,e[n])}}}())}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),function(e){"Document"in this||"undefined"==typeof WorkerGlobalScope&&"function"!=typeof importScripts&&(this.HTMLDocument?this.Document=this.HTMLDocument:(this.Document=this.HTMLDocument=document.constructor=new Function("return function Document() {}")(),this.Document.prototype=document))}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),function(e){"Element"in this&&"HTMLElement"in this||function(){if(!window.Element||window.HTMLElement){window.Element=window.HTMLElement=new Function("return function Element() {}")();var e,t=document.appendChild(document.createElement("body")),r=t.appendChild(document.createElement("iframe")).contentWindow.document,n=Element.prototype=r.appendChild(r.createElement("*")),o={},a=function(e,t){var r,n,i,s=e.childNodes||[],l=-1;if(1===e.nodeType&&e.constructor!==Element)for(r in e.constructor=Element,o)n=o[r],e[r]=n;for(;i=t&&s[++l];)a(i,t);return e},i=document.getElementsByTagName("*"),s=document.createElement,l=100;n.attachEvent("onpropertychange",function(e){for(var t,r=e.propertyName,a=!o.hasOwnProperty(r),s=n[r],l=o[r],c=-1;t=i[++c];)1===t.nodeType&&(a||t[r]===l)&&(t[r]=s);o[r]=s}),n.constructor=Element,n.hasAttribute||(n.hasAttribute=function(e){return null!==this.getAttribute(e)}),c()||(document.onreadystatechange=c,e=setInterval(c,25)),document.createElement=function(e){var t=s(String(e).toLowerCase());return a(t)},document.removeChild(t)}else window.HTMLElement=window.Element;function c(){return l--||clearTimeout(e),!(!document.body||document.body.prototype||!/(complete|interactive)/.test(document.readyState))&&(a(document,!0),e&&document.body.prototype&&clearTimeout(e),!!document.body.prototype)}}()}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),function(e){var t;"document"in this&&"classList"in document.documentElement&&"Element"in this&&"classList"in Element.prototype&&((t=document.createElement("span")).classList.add("a","b"),t.classList.contains("b"))||function(e){var t=!0,r=function(e,r,n,o){Object.defineProperty?Object.defineProperty(e,r,{configurable:!1===t||!!o,get:n}):e.__defineGetter__(r,n)};try{r({},"support")}catch(e){t=!1}var n=function(e,o,a){r(e.prototype,o,function(){var e,i="__defineGetter__DEFINE_PROPERTY"+o;if(this[i])return e;if(this[i]=!0,!1===t){for(var s,l=n.mirror||document.createElement("div"),c=l.childNodes,u=c.length,d=0;d<u;++d)if(c[d]._R===this){s=c[d];break}s||(s=l.appendChild(document.createElement("div"))),e=DOMTokenList.call(s,this,a)}else e=new DOMTokenList(this,a);return r(this,o,function(){return e}),delete this[i],e},!0)};n(e.Element,"classList","className"),n(e.HTMLElement,"classList","className"),n(e.HTMLLinkElement,"relList","rel"),n(e.HTMLAnchorElement,"relList","rel"),n(e.HTMLAreaElement,"relList","rel")}(this)}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),n.prototype.init=function(){if(this.$module){this.initControls(),this.initSectionHeaders();var e=this.checkIfAllSectionsOpen();this.updateOpenAllButton(e)}},n.prototype.initControls=function(){this.$openAllButton=document.createElement("button"),this.$openAllButton.setAttribute("type","button"),this.$openAllButton.innerHTML='Open all <span class="govuk-visually-hidden">sections</span>',this.$openAllButton.setAttribute("class",this.openAllClass),this.$openAllButton.setAttribute("aria-expanded","false"),this.$openAllButton.setAttribute("type","button");var e=document.createElement("div");e.setAttribute("class",this.controlsClass),e.appendChild(this.$openAllButton),this.$module.insertBefore(e,this.$module.firstChild),this.$openAllButton.addEventListener("click",this.onOpenOrCloseAllToggle.bind(this))},n.prototype.initSectionHeaders=function(){t(this.$sections,function(e,t){var r=e.querySelector("."+this.sectionHeaderClass);this.initHeaderAttributes(r,t),this.setExpanded(this.isExpanded(e),e),r.addEventListener("click",this.onSectionToggle.bind(this,e)),this.setInitialState(e)}.bind(this))},n.prototype.initHeaderAttributes=function(e,t){var r=this,n=e.querySelector("."+this.sectionButtonClass),o=e.querySelector("."+this.sectionHeadingClass),a=e.querySelector("."+this.sectionSummaryClass),i=document.createElement("button");i.setAttribute("type","button"),i.setAttribute("id",this.moduleId+"-heading-"+(t+1)),i.setAttribute("aria-controls",this.moduleId+"-content-"+(t+1));for(var s=0;s<n.attributes.length;s++){var l=n.attributes.item(s);i.setAttribute(l.nodeName,l.nodeValue)}i.addEventListener("focusin",function(t){e.classList.contains(r.sectionHeaderFocusedClass)||(e.className+=" "+r.sectionHeaderFocusedClass)}),i.addEventListener("blur",function(t){e.classList.remove(r.sectionHeaderFocusedClass)}),null!=a&&i.setAttribute("aria-describedby",this.moduleId+"-summary-"+(t+1)),i.innerHTML=n.innerHTML,o.removeChild(n),o.appendChild(i);var c=document.createElement("span");c.className=this.iconClass,c.setAttribute("aria-hidden","true"),i.appendChild(c)},n.prototype.onSectionToggle=function(e){var t=this.isExpanded(e);this.setExpanded(!t,e),this.storeState(e)},n.prototype.onOpenOrCloseAllToggle=function(){var e=this,r=this.$sections,n=!this.checkIfAllSectionsOpen();t(r,function(t){e.setExpanded(n,t),e.storeState(t)}),e.updateOpenAllButton(n)},n.prototype.setExpanded=function(e,t){t.querySelector("."+this.sectionButtonClass).setAttribute("aria-expanded",e),e?t.classList.add(this.sectionExpandedClass):t.classList.remove(this.sectionExpandedClass);var r=this.checkIfAllSectionsOpen();this.updateOpenAllButton(r)},n.prototype.isExpanded=function(e){return e.classList.contains(this.sectionExpandedClass)},n.prototype.checkIfAllSectionsOpen=function(){return this.$sections.length===this.$module.querySelectorAll("."+this.sectionExpandedClass).length},n.prototype.updateOpenAllButton=function(e){var t=e?"Close all":"Open all";t+='<span class="govuk-visually-hidden">sections</span>',this.$openAllButton.setAttribute("aria-expanded",e),this.$openAllButton.innerHTML=t};var o={checkForSessionStorage:function(){var e,t="this is the test string";try{return window.sessionStorage.setItem(t,t),e=window.sessionStorage.getItem(t)===t.toString(),window.sessionStorage.removeItem(t),e}catch(e){"undefined"!=typeof console&&void 0!==console.log||console.log("Notice: sessionStorage not available.")}}},a=0;n.prototype.storeState=function(e){if(this.browserSupportsSessionStorage){var t=e.querySelector("."+this.sectionButtonClass);if(t){var r=t.getAttribute("aria-controls"),n=t.getAttribute("aria-expanded");void 0!==r||"undefined"!=typeof console&&void 0!==console.log||console.error(new Error("No aria controls present in accordion section heading.")),void 0!==n||"undefined"!=typeof console&&void 0!==console.log||console.error(new Error("No aria expanded present in accordion section heading.")),r&&n&&window.sessionStorage.setItem(r,n)}}},n.prototype.setInitialState=function(e){if(this.browserSupportsSessionStorage){var t=e.querySelector("."+this.sectionButtonClass);if(t){var r=t.getAttribute("aria-controls"),n=r?window.sessionStorage.getItem(r):null;null!==n&&this.setExpanded("true"===n,e)}}},function(e){"Window"in this||"undefined"==typeof WorkerGlobalScope&&"function"!=typeof importScripts&&function(e){e.constructor?e.Window=e.constructor:(e.Window=e.constructor=new Function("return function Window() {}")()).prototype=this}(this)}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),function(e){(function(e){if(!("Event"in e))return!1;if("function"==typeof e.Event)return!0;try{return new Event("click"),!0}catch(e){return!1}})(this)||function(){var t={click:1,dblclick:1,keyup:1,keypress:1,keydown:1,mousedown:1,mouseup:1,mousemove:1,mouseover:1,mouseenter:1,mouseleave:1,mouseout:1,storage:1,storagecommit:1,textinput:1};if("undefined"!=typeof document&&"undefined"!=typeof window){var r=window.Event&&window.Event.prototype||null;window.Event=Window.prototype.Event=function(t,r){if(!t)throw new Error("Not enough arguments");var n;if("createEvent"in document){n=document.createEvent("Event");var o=!(!r||r.bubbles===e)&&r.bubbles,a=!(!r||r.cancelable===e)&&r.cancelable;return n.initEvent(t,o,a),n}return(n=document.createEventObject()).type=t,n.bubbles=!(!r||r.bubbles===e)&&r.bubbles,n.cancelable=!(!r||r.cancelable===e)&&r.cancelable,n},r&&Object.defineProperty(window.Event,"prototype",{configurable:!1,enumerable:!1,writable:!0,value:r}),"createEvent"in document||(window.addEventListener=Window.prototype.addEventListener=Document.prototype.addEventListener=Element.prototype.addEventListener=function(){var e=this,r=arguments[0],o=arguments[1];if(e===window&&r in t)throw new Error("In IE8 the event: "+r+" is not available on the window object. Please see https://github.com/Financial-Times/polyfill-service/issues/317 for more information.");e._events||(e._events={}),e._events[r]||(e._events[r]=function(t){var r,o=e._events[t.type].list,a=o.slice(),i=-1,s=a.length;for(t.preventDefault=function(){!1!==t.cancelable&&(t.returnValue=!1)},t.stopPropagation=function(){t.cancelBubble=!0},t.stopImmediatePropagation=function(){t.cancelBubble=!0,t.cancelImmediate=!0},t.currentTarget=e,t.relatedTarget=t.fromElement||null,t.target=t.target||t.srcElement||e,t.timeStamp=(new Date).getTime(),t.clientX&&(t.pageX=t.clientX+document.documentElement.scrollLeft,t.pageY=t.clientY+document.documentElement.scrollTop);++i<s&&!t.cancelImmediate;)i in a&&-1!==n(o,r=a[i])&&"function"==typeof r&&r.call(e,t)},e._events[r].list=[],e.attachEvent&&e.attachEvent("on"+r,e._events[r])),e._events[r].list.push(o)},window.removeEventListener=Window.prototype.removeEventListener=Document.prototype.removeEventListener=Element.prototype.removeEventListener=function(){var e,t=arguments[0],r=arguments[1];this._events&&this._events[t]&&this._events[t].list&&-1!==(e=n(this._events[t].list,r))&&(this._events[t].list.splice(e,1),this._events[t].list.length||(this.detachEvent&&this.detachEvent("on"+t,this._events[t]),delete this._events[t]))},window.dispatchEvent=Window.prototype.dispatchEvent=Document.prototype.dispatchEvent=Element.prototype.dispatchEvent=function(e){if(!arguments.length)throw new Error("Not enough arguments");if(!e||"string"!=typeof e.type)throw new Error("DOM Events Exception 0");var t=this,r=e.type;try{if(!e.bubbles){e.cancelBubble=!0;var n=function(e){e.cancelBubble=!0,(t||window).detachEvent("on"+r,n)};this.attachEvent("on"+r,n)}this.fireEvent("on"+r,e)}catch(n){e.target=t;do{e.currentTarget=t,"_events"in t&&"function"==typeof t._events[r]&&t._events[r].call(t,e),"function"==typeof t["on"+r]&&t["on"+r].call(t,e),t=9===t.nodeType?t.parentWindow:t.parentNode}while(t&&!e.cancelBubble)}return!0},document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&document.dispatchEvent(new Event("DOMContentLoaded",{bubbles:!0}))}))}function n(e,t){for(var r=-1,n=e.length;++r<n;)if(r in e&&e[r]===t)return r;return-1}}()}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{});function i(e){this.$module=e,this.debounceFormSubmitTimer=null}i.prototype.handleKeyDown=function(e){var t=e.target;"button"===t.getAttribute("role")&&32===e.keyCode&&(e.preventDefault(),t.click())},i.prototype.debounce=function(e){if("true"===e.target.getAttribute("data-prevent-double-click"))return this.debounceFormSubmitTimer?(e.preventDefault(),!1):void(this.debounceFormSubmitTimer=setTimeout(function(){this.debounceFormSubmitTimer=null}.bind(this),1e3))},i.prototype.init=function(){this.$module.addEventListener("keydown",this.handleKeyDown),this.$module.addEventListener("click",this.debounce)};function s(e){this.$module=e}function l(e){this.$module=e,this.$textarea=e.querySelector(".govuk-js-character-count"),this.$textarea&&(this.$countMessage=e.querySelector('[id="'+this.$textarea.id+'-info"]'))}function c(e){this.$module=e,this.$inputs=e.querySelectorAll('input[type="checkbox"]')}function u(e){this.$module=e}function d(e){this.$module=e}function m(e){this.$module=e,this.$menuButton=e&&e.querySelector(".govuk-js-header-toggle"),this.$menu=this.$menuButton&&e.querySelector("#"+this.$menuButton.getAttribute("aria-controls"))}function g(e){this.$module=e,this.$inputs=e.querySelectorAll('input[type="radio"]')}function p(e){this.$module=e,this.$tabs=e.querySelectorAll(".govuk-tabs__tab"),this.keys={left:37,right:39,up:38,down:40},this.jsHiddenClass="govuk-tabs__panel--hidden"}s.prototype.init=function(){this.$module&&("boolean"==typeof this.$module.open||this.polyfillDetails())},s.prototype.polyfillDetails=function(){var e,t=this.$module,n=this.$summary=t.getElementsByTagName("summary").item(0),o=this.$content=t.getElementsByTagName("div").item(0);n&&o&&(o.id||(o.id="details-content-"+(e=(new Date).getTime(),void 0!==window.performance&&"function"==typeof window.performance.now&&(e+=window.performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){let n=(new r).RandomNumber();var o=(e+16*(n/=100))%16|0;return e=Math.floor(e/16),("x"===t?o:3&o|8).toString(16)}))),t.setAttribute("role","group"),n.setAttribute("role","button"),n.setAttribute("aria-controls",o.id),n.tabIndex=0,!0===(null!==t.getAttribute("open"))?(n.setAttribute("aria-expanded","true"),o.setAttribute("aria-hidden","false")):(n.setAttribute("aria-expanded","false"),o.setAttribute("aria-hidden","true"),o.style.display="none"),this.polyfillHandleInputs(n,this.polyfillSetAttributes.bind(this)))},s.prototype.polyfillSetAttributes=function(){var e=this.$module,t=this.$summary,r=this.$content,n="true"===t.getAttribute("aria-expanded"),o="true"===r.getAttribute("aria-hidden");return t.setAttribute("aria-expanded",n?"false":"true"),r.setAttribute("aria-hidden",o?"false":"true"),r.style.display=n?"none":"",null!==e.getAttribute("open")?e.removeAttribute("open"):e.setAttribute("open","open"),!0},s.prototype.polyfillHandleInputs=function(e,t){e.addEventListener("keypress",function(e){var r=e.target;13!==e.keyCode&&32!==e.keyCode||"summary"===r.nodeName.toLowerCase()&&(e.preventDefault(),r.click?r.click():t(e))}),e.addEventListener("keyup",function(e){var t=e.target;32===e.keyCode&&"summary"===t.nodeName.toLowerCase()&&e.preventDefault()}),e.addEventListener("click",t)},l.prototype.defaults={characterCountAttribute:"data-maxlength",wordCountAttribute:"data-maxwords"},l.prototype.init=function(){var e=this.$module,t=this.$textarea,r=this.$countMessage;if(t&&r){t.insertAdjacentElement("afterend",r),this.options=this.getDataset(e);var n=this.defaults.characterCountAttribute;this.options.maxwords&&(n=this.defaults.wordCountAttribute),this.maxLength=e.getAttribute(n),this.maxLength&&(e.removeAttribute("maxlength"),"onpageshow"in window?window.addEventListener("pageshow",this.sync.bind(this)):window.addEventListener("DOMContentLoaded",this.sync.bind(this)),this.sync())}},l.prototype.sync=function(){this.bindChangeEvents(),this.updateCountMessage()},l.prototype.getDataset=function(e){var t={},r=e.attributes;if(r)for(var n=0;n<r.length;n++){var o=r[n],a=o.name.match(/^data-(.+)/);a&&(t[a[1]]=o.value)}return t},l.prototype.count=function(e){var t;this.options.maxwords?t=(e.match(/\S+/g)||[]).length:t=e.length;return t},l.prototype.bindChangeEvents=function(){var e=this.$textarea;e.addEventListener("keyup",this.checkIfValueChanged.bind(this)),e.addEventListener("focus",this.handleFocus.bind(this)),e.addEventListener("blur",this.handleBlur.bind(this))},l.prototype.checkIfValueChanged=function(){""==this.$textarea.oldValue&&""==this.$textarea.value&&this.updateCountMessage(),this.$textarea.oldValue||(this.$textarea.oldValue=""),this.$textarea.value!==this.$textarea.oldValue&&(this.$textarea.oldValue=this.$textarea.value,this.updateCountMessage())},l.prototype.updateCountMessage=function(){var e=this.$textarea,t=this.options,r=this.$countMessage,n=this.count(e.value),o=this.maxLength,a=o-n;o*(t.threshold?t.threshold:0)/100>n?(r.classList.add("govuk-character-count__message--disabled"),r.setAttribute("aria-hidden",!0)):(r.classList.remove("govuk-character-count__message--disabled"),r.removeAttribute("aria-hidden")),a<0?(e.classList.add("govuk-textarea--error"),r.classList.remove("govuk-hint"),r.classList.add("govuk-hint-error-message")):(e.classList.remove("govuk-textarea--error"),r.classList.remove("govuk-hint-error-message"),r.classList.add("govuk-hint"));var i,s,l="character";if(t.maxwords&&(l="word"),l+=-1===a||1===a?"":"s",i=a<0?"too many":"remaining",s=Math.abs(a),r.innerHTML="You have "+s+" "+l+" "+i,null!=document.getElementById("page-heading")&&null!=document.getElementById("page-heading")){document.getElementById("page-heading").innerHTML.includes("Invite selected suppliers to stage 2: further assessment")&&(r.innerHTML=s+" "+l+" "+i)}},l.prototype.handleFocus=function(){this.valueChecker=setInterval(this.checkIfValueChanged.bind(this),1e3)},l.prototype.handleBlur=function(){clearInterval(this.valueChecker)},c.prototype.init=function(){var e=this.$module;t(this.$inputs,function(t){var r=t.getAttribute("data-aria-controls");r&&e.querySelector("#"+r)&&(t.setAttribute("aria-controls",r),t.removeAttribute("data-aria-controls"))}),"onpageshow"in window?window.addEventListener("pageshow",this.syncAllConditionalReveals.bind(this)):window.addEventListener("DOMContentLoaded",this.syncAllConditionalReveals.bind(this)),this.syncAllConditionalReveals(),e.addEventListener("click",this.handleClick.bind(this))},c.prototype.syncAllConditionalReveals=function(){t(this.$inputs,this.syncConditionalRevealWithInputState.bind(this))},c.prototype.syncConditionalRevealWithInputState=function(e){var t=this.$module.querySelector("#"+e.getAttribute("aria-controls"));if(t&&t.classList.contains("govuk-checkboxes__conditional")){var r=e.checked;e.setAttribute("aria-expanded",r),t.classList.toggle("govuk-checkboxes__conditional--hidden",!r)}},c.prototype.unCheckAllInputsExcept=function(e){t(document.querySelectorAll('input[type="checkbox"][name="'+e.name+'"]'),function(t){e.form===t.form&&t!==e&&(t.checked=!1)}),this.syncAllConditionalReveals()},c.prototype.unCheckExclusiveInputs=function(e){t(document.querySelectorAll('input[data-behaviour="exclusive"][type="checkbox"][name="'+e.name+'"]'),function(t){e.form===t.form&&(t.checked=!1)}),this.syncAllConditionalReveals()},c.prototype.handleClick=function(e){var t=e.target;"checkbox"===t.type&&(t.getAttribute("aria-controls")&&this.syncConditionalRevealWithInputState(t),t.checked&&("exclusive"===t.getAttribute("data-behaviour")?this.unCheckAllInputsExcept(t):this.unCheckExclusiveInputs(t)))},function(e){"document"in this&&"matches"in document.documentElement||(Element.prototype.matches=Element.prototype.webkitMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.mozMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),r=0;t[r]&&t[r]!==this;)++r;return!!t[r]})}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),function(e){"document"in this&&"closest"in document.documentElement||(Element.prototype.closest=function(e){for(var t=this;t;){if(t.matches(e))return t;t="SVGElement"in window&&t instanceof SVGElement?t.parentNode:t.parentElement}return null})}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),u.prototype.init=function(){var e=this.$module;e&&(e.focus(),e.addEventListener("click",this.handleClick.bind(this)))},u.prototype.handleClick=function(e){var t=e.target;this.focusTarget(t)&&e.preventDefault()},u.prototype.focusTarget=function(e){if("A"!==e.tagName||!1===e.href)return!1;var t=this.getFragmentFromUrl(e.href),r=document.getElementById(t);if(!r)return!1;var n=this.getAssociatedLegendOrLabel(r);return!!n&&(n.scrollIntoView(),r.focus({preventScroll:!0}),!0)},u.prototype.getFragmentFromUrl=function(e){return-1!==e.indexOf("#")&&e.split("#").pop()},u.prototype.getAssociatedLegendOrLabel=function(e){var t=e.closest("fieldset");if(t){var r=t.getElementsByTagName("legend");if(r.length){var n=r[0];if("checkbox"===e.type||"radio"===e.type)return n;var o=n.getBoundingClientRect().top,a=e.getBoundingClientRect();if(a.height&&window.innerHeight)if(a.top+a.height-o<window.innerHeight/2)return n}}return document.querySelector("label[for='"+e.getAttribute("id")+"']")||e.closest("label")},d.prototype.init=function(){this.$module&&this.setFocus()},d.prototype.setFocus=function(){var e=this.$module;"true"!==e.getAttribute("data-disable-auto-focus")&&"alert"===e.getAttribute("role")&&(e.getAttribute("tabindex")||(e.setAttribute("tabindex","-1"),e.addEventListener("blur",function(){e.removeAttribute("tabindex")})),e.focus())},m.prototype.init=function(){this.$module&&this.$menuButton&&this.$menu&&(this.syncState(this.$menu.classList.contains("govuk-header__navigation--open")),this.$menuButton.addEventListener("click",this.handleMenuButtonClick.bind(this)))},m.prototype.syncState=function(e){this.$menuButton.classList.toggle("govuk-header__menu-button--open",e),this.$menuButton.setAttribute("aria-expanded",e)},m.prototype.handleMenuButtonClick=function(){var e=this.$menu.classList.toggle("govuk-header__navigation--open");this.syncState(e)},g.prototype.init=function(){var e=this.$module;t(this.$inputs,function(t){var r=t.getAttribute("data-aria-controls");r&&e.querySelector("#"+r)&&(t.setAttribute("aria-controls",r),t.removeAttribute("data-aria-controls"))}),"onpageshow"in window?window.addEventListener("pageshow",this.syncAllConditionalReveals.bind(this)):window.addEventListener("DOMContentLoaded",this.syncAllConditionalReveals.bind(this)),this.syncAllConditionalReveals(),e.addEventListener("click",this.handleClick.bind(this))},g.prototype.syncAllConditionalReveals=function(){t(this.$inputs,this.syncConditionalRevealWithInputState.bind(this))},g.prototype.syncConditionalRevealWithInputState=function(e){var t=document.querySelector("#"+e.getAttribute("aria-controls"));if(t&&t.classList.contains("govuk-radios__conditional")){var r=e.checked;e.setAttribute("aria-expanded",r),t.classList.toggle("govuk-radios__conditional--hidden",!r)}},g.prototype.handleClick=function(e){var r=e.target;"radio"===r.type&&t(document.querySelectorAll('input[type="radio"][aria-controls]'),function(e){var t=e.form===r.form;e.name===r.name&&t&&this.syncConditionalRevealWithInputState(e)}.bind(this))},function(e){"document"in this&&"nextElementSibling"in document.documentElement||Object.defineProperty(Element.prototype,"nextElementSibling",{get:function(){for(var e=this.nextSibling;e&&1!==e.nodeType;)e=e.nextSibling;return e}})}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),function(e){"document"in this&&"previousElementSibling"in document.documentElement||Object.defineProperty(Element.prototype,"previousElementSibling",{get:function(){for(var e=this.previousSibling;e&&1!==e.nodeType;)e=e.previousSibling;return e}})}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),p.prototype.init=function(){"function"==typeof window.matchMedia?this.setupResponsiveChecks():this.setup()},p.prototype.setupResponsiveChecks=function(){this.mql=window.matchMedia("(min-width: 40.0625em)"),this.mql.addListener(this.checkMode.bind(this)),this.checkMode()},p.prototype.checkMode=function(){this.mql.matches?this.setup():this.teardown()},p.prototype.setup=function(){var e=this.$module,r=this.$tabs,n=e.querySelector(".govuk-tabs__list"),o=e.querySelectorAll(".govuk-tabs__list-item");if(r&&n&&o){n.setAttribute("role","tablist"),t(o,function(e){e.setAttribute("role","presentation")}),t(r,function(e){this.setAttributes(e),e.boundTabClick=this.onTabClick.bind(this),e.boundTabKeydown=this.onTabKeydown.bind(this),e.addEventListener("click",e.boundTabClick,!0),e.addEventListener("keydown",e.boundTabKeydown,!0),this.hideTab(e)}.bind(this));var a=this.getTab(window.location.hash)||this.$tabs[0];this.showTab(a),e.boundOnHashChange=this.onHashChange.bind(this),window.addEventListener("hashchange",e.boundOnHashChange,!0)}},p.prototype.teardown=function(){var e=this.$module,r=this.$tabs,n=e.querySelector(".govuk-tabs__list"),o=e.querySelectorAll(".govuk-tabs__list-item");r&&n&&o&&(n.removeAttribute("role"),t(o,function(e){e.removeAttribute("role","presentation")}),t(r,function(e){e.removeEventListener("click",e.boundTabClick,!0),e.removeEventListener("keydown",e.boundTabKeydown,!0),this.unsetAttributes(e)}.bind(this)),window.removeEventListener("hashchange",e.boundOnHashChange,!0))},p.prototype.onHashChange=function(e){var t=window.location.hash,r=this.getTab(t);if(r)if(this.changingHash)this.changingHash=!1;else{var n=this.getCurrentTab();this.hideTab(n),this.showTab(r),r.focus()}},p.prototype.hideTab=function(e){this.unhighlightTab(e),this.hidePanel(e)},p.prototype.showTab=function(e){this.highlightTab(e),this.showPanel(e)},p.prototype.getTab=function(e){return this.$module.querySelector('.govuk-tabs__tab[href="'+e+'"]')},p.prototype.setAttributes=function(e){var t=this.getHref(e).slice(1);e.setAttribute("id","tab_"+t),e.setAttribute("role","tab"),e.setAttribute("aria-controls",t),e.setAttribute("aria-selected","false"),e.setAttribute("tabindex","-1");var r=this.getPanel(e);r.setAttribute("role","tabpanel"),r.setAttribute("aria-labelledby",e.id),r.classList.add(this.jsHiddenClass)},p.prototype.unsetAttributes=function(e){e.removeAttribute("id"),e.removeAttribute("role"),e.removeAttribute("aria-controls"),e.removeAttribute("aria-selected"),e.removeAttribute("tabindex");var t=this.getPanel(e);t.removeAttribute("role"),t.removeAttribute("aria-labelledby"),t.classList.remove(this.jsHiddenClass)},p.prototype.onTabClick=function(e){if(!e.target.classList.contains("govuk-tabs__tab"))return!1;e.preventDefault();var t=e.target,r=this.getCurrentTab();this.hideTab(r),this.showTab(t),this.createHistoryEntry(t)},p.prototype.createHistoryEntry=function(e){var t=this.getPanel(e),r=t.id;t.id="",this.changingHash=!0,window.location.hash=this.getHref(e).slice(1),t.id=r},p.prototype.onTabKeydown=function(e){switch(e.keyCode){case this.keys.left:case this.keys.up:this.activatePreviousTab(),e.preventDefault();break;case this.keys.right:case this.keys.down:this.activateNextTab(),e.preventDefault()}},p.prototype.activateNextTab=function(){var e=this.getCurrentTab(),t=e.parentNode.nextElementSibling;if(t)var r=t.querySelector(".govuk-tabs__tab");r&&(this.hideTab(e),this.showTab(r),r.focus(),this.createHistoryEntry(r))},p.prototype.activatePreviousTab=function(){var e=this.getCurrentTab(),t=e.parentNode.previousElementSibling;if(t)var r=t.querySelector(".govuk-tabs__tab");r&&(this.hideTab(e),this.showTab(r),r.focus(),this.createHistoryEntry(r))},p.prototype.getPanel=function(e){return this.$module.querySelector(this.getHref(e))},p.prototype.showPanel=function(e){this.getPanel(e).classList.remove(this.jsHiddenClass)},p.prototype.hidePanel=function(e){this.getPanel(e).classList.add(this.jsHiddenClass)},p.prototype.unhighlightTab=function(e){e.setAttribute("aria-selected","false"),e.parentNode.classList.remove("govuk-tabs__list-item--selected"),e.setAttribute("tabindex","-1")},p.prototype.highlightTab=function(e){e.setAttribute("aria-selected","true"),e.parentNode.classList.add("govuk-tabs__list-item--selected"),e.setAttribute("tabindex","0")},p.prototype.getCurrentTab=function(){return this.$module.querySelector(".govuk-tabs__list-item--selected .govuk-tabs__tab")},p.prototype.getHref=function(e){var t=e.getAttribute("href");return t.slice(t.indexOf("#"),t.length)},e.initAll=function(e){var r=void 0!==(e=void 0!==e?e:{}).scope?e.scope:document;t(r.querySelectorAll('[data-module="govuk-button"]'),function(e){new i(e).init()});var o=r.querySelectorAll('[data-module="govuk-accordion"]');t(o,function(e){a<o.length&&(new n(e).init(),a+=1)}),t(r.querySelectorAll('[data-module="govuk-details"]'),function(e){new s(e).init()}),t(r.querySelectorAll('[data-module="govuk-character-count"]'),function(e){new l(e).init()}),t(r.querySelectorAll('[data-module="govuk-checkboxes"]'),function(e){new c(e).init()}),new u(r.querySelector('[data-module="govuk-error-summary"]')).init(),new m(r.querySelector('[data-module="govuk-header"]')).init(),t(r.querySelectorAll('[data-module="govuk-notification-banner"]'),function(e){new d(e).init()}),t(r.querySelectorAll('[data-module="govuk-radios"]'),function(e){new g(e).init()}),t(r.querySelectorAll('[data-module="govuk-tabs"]'),function(e){new p(e).init()})},e.Accordion=n,e.Button=i,e.Details=s,e.CharacterCount=l,e.Checkboxes=c,e.ErrorSummary=u,e.Header=m,e.Radios=g,e.Tabs=p});let tagManagerCookiePrefrences=document.currentScript.getAttribute("tag-manager");window.readCookie=function(e){for(var t=e+"=",r=document.cookie.split(";"),n=0;n<r.length;n++){for(var o=r[n];" "==o.charAt(0);)o=o.substring(1,o.length);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return null};var cookiePreferences=JSON.parse(readCookie("cookie_preferences"));null!==cookiePreferences&&!0===cookiePreferences.usage&&function(e,t,r,n,o){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var a=t.getElementsByTagName(r)[0],i=t.createElement(r);i.async=!0,i.src="https://www.googletagmanager.com/gtm.js?id="+o,a.parentNode.insertBefore(i,a)}(window,document,"script","dataLayer",tagManagerCookiePrefrences);let tagManager=document.currentScript.getAttribute("tag-manager");var docCookies={getItem:function(e){return e&&decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},setItem:function(e,t,r,n,o,a){if(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e))return!1;var i="";if(r)switch(r.constructor){case Number:i=r===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; expires="+new Date(1e3*r+Date.now()).toUTCString();break;case String:i="; expires="+r;break;case Date:i="; expires="+r.toUTCString()}const s=encodeURIComponent(e)+"="+t+i;return document.cookie=s,!0},removeItem:function(e,t,r){return!!this.hasItem(e)&&(document.cookie=encodeURIComponent(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(r?"; domain="+r:"")+(t?"; path="+t:""),!0)},hasItem:function(e){return!(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e))&&new RegExp("(?:^|;\\s*)"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},keys:function(){for(var e=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),t=e.length,r=0;r<t;r++)e[r]=decodeURIComponent(e[r]);return e}};let inputs,index,container;!function(){var e=[{title:"Cookies that measure website use",description:"<p>We use Google Analytics to measure how you use the website so we can improve it based on user needs. Google Analytics sets cookies that store anonymised information about:</p><ul><li>how you got to the site</li><li>the pages you visit on Crown Commercial Service (CCS), and how long you spend on each page</li><li>what you click on while you're visiting the site</li></ul><p>We do not allow Google to use or share the data about how you use this site.</p>",cookie_type:"usage",enabled:null,adjustable:!0,cookies:[{name:"1P_JAR",path:"/",domain:".google.com"}]},{title:"",description:"<p>We use Glassbox software to collect information about how you use CCS. We do this to help make sure the site is meeting the needs of its users and to help us make improvements.</p><p> Glassbox stores information about:</p><ul><li>browsing activity</li><li>click-stream activity,</li><li>session heatmaps and</li><li>scrolls</li></ul><p>This information canât be used to identify who you are.</p><p>We donât allow Glassbox to use or share our analytics data.</p>",cookie_type:"glassbox",enabled:null,adjustable:!0,cookies:null},{title:"Cookies that help with our communications and marketing",description:"These cookies may be set by third party websites and do things like measure how you view YouTube videos that are on Crown Commercial Service (CCS) - Contract Award Service (CAS).",cookie_type:"marketing",enabled:null,adjustable:!0,cookies:null},{title:"Strictly necessary cookies",description:"<p>These essential cookies do things like:</p><ul><li>remember the notifications you've seen so we do not show them to you again</li><li>remember your progress through a form (for example a licence application)</li></ul><p>They always need to be on.</p>",cookie_type:"essential",enabled:null,adjustable:!1,cookies:null}],t=3154e4,r=172800,n={essentials:!0,usage:!1,glassbox:!1,marketing:!1};function o(){var e,t;(e=document.getElementById("cookie-consent-container"))&&(e.innerHTML='<div class="cookie-message__inner cookie-message__inner--accepted govuk-width-container"><p>You&rsquo;ve accepted all cookies. You can <a href="/cookie-settings">change your cookie settings</a> at any time.</p></div>'),a(),function(e,t,r,n,o){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var a=t.getElementsByTagName(r)[0],i=t.createElement(r);i.async=!0,i.src="https://www.googletagmanager.com/gtm.js?id="+o,a.parentNode.insertBefore(i,a)}(window,document,"script","dataLayer",tagManager),(t=document.createElement("script")).id="_cls_detector",t.src="https://cdn2.gbqofs.com/crown-comm/p/detector-dom.min.js",t.setAttribute("data-clsconfig","reportURI=https://report.crown-comm.gbqofs.io/reporting/9b255ae9-73b0-4a79-d907-c3c35f8e23b0/cls_report"),document.head.appendChild(t)}function a(){if(docCookies.hasItem("cookie_preferences_set")){var e=!1===n.marketing&&!1===n.usage&&!1===n.glassbox?r:t;docCookies.setItem("cookie_preferences",JSON.stringify(n),e,"/",".crowncommercial.gov.uk"),docCookies.setItem("cookies_timer_reset",JSON.stringify(!0),e,"/",".crowncommercial.gov.uk"),docCookies.setItem("seen_cookie_message",!0,e,"/",".crowncommercial.gov.uk")}else{docCookies.setItem("cookie_preferences",JSON.stringify({essentials:!0,usage:!0,glassbox:!0,marketing:!0}),t,"/",".crowncommercial.gov.uk"),docCookies.setItem("cookies_timer_reset",JSON.stringify(!0),t,"/",".crowncommercial.gov.uk"),docCookies.setItem("seen_cookie_message",!0,t,"/",".crowncommercial.gov.uk")}}function i(){e.forEach(function(t,r){if(t.adjustable){var o=document.getElementById(t.cookie_type);o.checked?n[t.cookie_type]="true"===o.value:(n[t.cookie_type]=!1,a=t.cookie_type,e.forEach(function(e,t){e.cookie_type===a&&null!==e.cookies&&e.cookies.forEach(function(e,t){docCookies.removeItem(e.name,e.path,e.domain)})}))}var a});var o=!1===n.usage&&!1===n.glassbox&&!1===n.marketing?r:t;docCookies.setItem("cookie_preferences",JSON.stringify(n),o,"/",".crowncommercial.gov.uk"),docCookies.hasItem("cookie_preferences_set")||docCookies.setItem("cookie_preferences_set",!0,o,"/",".crowncommercial.gov.uk"),document.getElementsByClassName("js-live-area")[0].innerHTML="<p>Your cookie settings were saved.</p>"}function s(t){var r=document.createDocumentFragment(),n=JSON.parse(docCookies.getItem("cookie_preferences"));e.forEach(function(e,t){null!==n&&(e.enabled=n[e.cookie_type]);var o=function(e,t){if(!0===e.adjustable)return'\n<fieldset class="govuk-fieldset" aria-describedby="'.concat(e.cookie_type,'-hint">\n    <legend class="govuk-fieldset__legend">\n      <h3 class="heading size--xl">\n        ').concat(e.title,'\n      </h3>\n    </legend>\n    <span id="').concat(e.cookie_type,'-hint" class="govuk-hint">\n      ').concat(e.description,'\n    </span>\n    <div class="govuk-radios govuk-radios--inline">\n      <div class="govuk-radios__item">\n                <input class="govuk-radios__input" id="').concat(e.cookie_type,'" name="').concat(e.cookie_type,'" type="radio"\n                ').concat(!0===e.enabled?"checked":"",'\n                value="true">\n                <label class="govuk-label govuk-radios__label" for="').concat(e.cookie_type,'">\n          On\n        </label>\n      </div>\n      <div class="govuk-radios__item">\n        <input class="govuk-radios__input" id="').concat(e.cookie_type,'-2" name="').concat(e.cookie_type,'" type="radio"\n        ').concat(!0===e.enabled?"":"checked",'\n                value="false">\n                <label class="govuk-label govuk-radios__label" for="').concat(e.cookie_type,'-2">\n          Off\n        </label>\n      </div>\n    </div>\n  </fieldset>\n            ');if(!1===e.adjustable)return'\n                <h3 class="heading size--xl">'.concat(e.title,"</h3>\n                <div>").concat(e.description,"</div>\n                ")}(e),a=document.createElement("div");a.classList.add("govuk-form-group"),a.innerHTML=o,r.appendChild(a)});var o=document.createElement("button");o.classList.add("govuk-!-font-size-18","govuk-!-font-weight-bold","govuk-button","gtm--accept-cookies-in-banner"),o.innerHTML="Save changes",o.addEventListener("click",function(){i(),a()});var s=document.createElement("div");s.classList.add("cookie-updated-notice","js-live-area"),s.setAttribute("aria-label","Notice"),s.setAttribute("aria-live","polite"),s.setAttribute("role","region"),r.appendChild(o),r.appendChild(s),t.innerHTML="",t.appendChild(r)}function l(){var e=document.createElement("div");e.classList.add("cookie-message"),e.setAttribute("id","cookie-consent-container"),e.setAttribute("aria-label","Cookie Policy"),e.setAttribute("aria-live","polite");var t=document.createElement("div");t.classList.add("cookie-message__inner","govuk-width-container"),t.classList.add("site-container"),t.innerHTML='<h2 class="govuk-heading-m">Cookies on Contract Award Service (CAS) / crowncommercial.gov.uk</h2><div class="cookie-message__intro"><p>We use cookies to collect information about how you use crowncommercial.gov.uk.<br><br> We use this information to make the website work as well as possible and improve government services.</p></div>';var r=document.createElement("button");r.classList.add("govuk-!-font-size-18","govuk-!-font-weight-bold","govuk-button","gtm--accept-cookies-in-banner"),r.innerHTML="Accept all cookies",r.addEventListener("click",o);var n=document.createElement("a");n.classList.add("govuk-!-font-size-18","govuk-!-font-weight-bold","govuk-button"),n.setAttribute("href","/cookie-settings"),n.innerHTML="Set cookie preferences";var a=document.createElement("div");a.classList.add("cookie-message__actions"),a.appendChild(r),a.appendChild(n),t.appendChild(a),e.appendChild(t);var i=document.getElementById("skiplink-container");document.body.insertBefore(e,i),e.style.display="block"}docCookies.hasItem("seen_cookie_message")||-1!==window.location.href.indexOf("cookie-settings")||l(),docCookies.hasItem("cookie_preferences")||docCookies.setItem("cookie_preferences",JSON.stringify(n),r,"/",".crowncommercial.gov.uk"),docCookies.hasItem("seen_cookie_message")&&!docCookies.hasItem("cookies_timer_reset")&&-1===window.location.href.indexOf("cookie-settings")&&l();for(var c=document.getElementsByClassName("cookie-consent-information"),u=0;u<c.length;u++)s(c[u])}(),document.addEventListener("DOMContentLoaded",()=>{let e,t;function r(e){$(".pop").slideFadeToggle(function(){e.removeClass("selected")})}e=$("#ccs_ca_menu_tabs_form .weight"),$(function(){$(".nav-popup").on("click",function(){if($(this).hasClass("selected"))r($(this)),$(".backdrop-nav-menu").fadeOut(200);else{$(".backdrop-nav-menu").fadeTo(200,1);let e=document.querySelector("#redirect-button-nav-menu");e&&"logo nav-popup"!=this.className&&"govuk-footer__link logo nav-popup"!=this.className?e.setAttribute("name",this.innerHTML):(e.setAttribute("name","CCS website"),document.body.scrollTop=document.documentElement.scrollTop=0),$(".pop").slideFadeToggle()}return!1}),$(".ca_da_service_cap").on("click",function(){if($(this).hasClass("selected"))r($(this)),$(".backdrop-vetting").fadeOut(200);else{$(".backdrop-vetting").fadeTo(200,1);let e=document.querySelector("#redirect-button-vetting");e&&"logo rfp_vetting-popup"!=this.className&&"govuk-footer__link logo rfp_vetting-popup"!=this.className?e.setAttribute("name",this.innerHTML):(e.setAttribute("name","CCS website"),document.body.scrollTop=document.documentElement.scrollTop=0),$(".pop").slideFadeToggle()}return!1}),$(".dialog-close-vetting").on("click",function(){return $(".backdrop-vetting").fadeOut(200),r($(".dialog-close-vetting")),!1}),$(".dialog-close-nav-menu").on("click",function(){return $(".backdrop-nav-menu").fadeOut(200),r($(".dialog-close-nav-menu")),!1}),$("#redirect-button-nav-menu").on("click",function(){r($(".dialog-close-nav-menu")),$(".backdrop-nav-menu").fadeOut(200);var e=this.name;if("Home"==e)document.location.href="/";else if("My Projects"==e)document.location.href="/dashboard";else if("CCS website"==e)document.location.href="https://www.crowncommercial.gov.uk/";else if("Guidance"==e)document.location.href="#";else{if("Get help"!=e)return!1;document.location.href="https://www.crowncommercial.gov.uk/contact"}$(".backdrop-nav-menu").fadeOut(200)}),$("#redirect-button-vetting").on("click",function(){if($(".rfp_cap").attr("checked",!1),r($(".dialog-close-vetting")),$(".backdrop-vetting").fadeOut(200),"Clear form"!=this.name)return!1;for(function(){var e="",t="",r=document.querySelectorAll(".da-service-capabilities"),n=document.querySelectorAll(".ca-service-capabilities");null!==r&&r.length>0?(e=r,t=$("#da_total_weighting")):null!==n&&n.length>0&&(e=n,t=$("#ca_total_weighting"));t.text("0 of 100% total weighting for service capabilities");for(let t=0;t<e.length;t++)document.getElementsByClassName("table-item-subtext")[t].innerHTML="[ 0 % ]"}(),t=0;t<e.length;++t)e[t].value=""})}),$.fn.slideFadeToggle=function(e,t){return this.animate({opacity:"toggle",height:"toggle"},"fast",e,t)}});let resources=[],weightingStaff=[],weightingVetting=[];function deselect(e){$(".pop").slideFadeToggle(function(){e.removeClass("selected")})}function removeClass(){var e=document.querySelectorAll(".nav-popup");for(i=0;i<e.length;i++)e[i].classList.remove("nav-popup")}function deselect(e){$(".pop").slideFadeToggle(function(){e.removeClass("selected")})}function removeClass(){var e=document.querySelectorAll(".nav-popup");for(i=0;i<e.length;i++)e[i].classList.remove("nav-popup")}null!==(container=document.getElementById("ccs_ca_menu_tabs_form_later")||document.getElementById("ccs_rfp_scoring_criteria")||document.getElementById("ccs_da_menu_tabs_form_later"))&&(inputs=container.getElementsByTagName("input")),$(function(){$('body:contains("Save and continue")').length<1&&removeClass()}),$(function(){$(".nav-popup").on("click",function(){if($(this).hasClass("selected"))deselect($(this)),$(".backdrop-nav-menu").fadeOut(200);else{$(".backdrop-nav-menu").fadeTo(200,1);let e=document.querySelector("#redirect-button-nav-menu");e&&"logo nav-popup"!=this.className&&"govuk-footer__link logo nav-popup"!=this.className?e.setAttribute("name",this.innerHTML):(e.setAttribute("name","CCS website"),document.body.scrollTop=document.documentElement.scrollTop=0),$(".pop").slideFadeToggle()}return!1}),$(".vetting-popup").on("click",function(){if($(this).hasClass("selected"))deselect($(this)),$(".backdrop-vetting").fadeOut(200);else{$(".backdrop-vetting").fadeTo(200,1);let e=document.querySelector("#redirect-button-vetting");e&&"logo vetting-popup"!=this.className&&"govuk-footer__link logo vetting-popup"!=this.className?e.setAttribute("name",this.innerHTML):(e.setAttribute("name","CCS website"),document.body.scrollTop=document.documentElement.scrollTop=0),$(".pop").slideFadeToggle()}return!1}),$(".tier-4-popup").on("click",function(){if($(this).hasClass("selected"))deselect($(this)),$(".backdrop-tier-4").fadeOut(200);else{$(".backdrop-tier-4").fadeTo(200,1);let e=document.querySelector("#redirect-button-tier-4");e&&"logo tier-4-popup"!=this.className&&"govuk-footer__link logo tier-4-popup"!=this.className?e.setAttribute("name",this.innerHTML):(e.setAttribute("name","Tier 4"),document.body.scrollTop=document.documentElement.scrollTop=0),$(".pop").slideFadeToggle()}return!1}),$(".tier-5-popup").on("click",function(){if($(this).hasClass("selected"))deselect($(this)),$(".backdrop-tier-5").fadeOut(200);else{$(".backdrop-tier-5").fadeTo(200,1);let e=document.querySelector("#redirect-button-tier-5");e&&"logo tier-5-popup"!=this.className&&"govuk-footer__link logo tier-5-popup"!=this.className?e.setAttribute("name",this.innerHTML):(e.setAttribute("name","Tier 5"),document.body.scrollTop=document.documentElement.scrollTop=0),$(".pop").slideFadeToggle()}return!1}),$(".dialog-close-vetting").on("click",function(){return $(".backdrop-vetting").fadeOut(200),deselect($(".dialog-close-vetting")),!1}),$(".dialog-close-tier-4").on("click",function(){return $(".backdrop-tier-4").fadeOut(200),deselect($(".dialog-close-tier-4")),!1}),$(".dialog-close-tier-5").on("click",function(){return $(".backdrop-tier-5").fadeOut(200),deselect($(".dialog-close-tier-5")),!1}),$(".dialog-close-tier").on("click",function(){return $(".backdrop-tier").fadeOut(200),deselect($(".dialog-close-tier")),!1}),$(".dialog-close-nav-menu").on("click",function(){return $(".backdrop-nav-menu").fadeOut(200),deselect($(".dialog-close-nav-menu")),!1}),$("#redirect-button-nav-menu").on("click",function(){deselect($(".dialog-close-nav-menu")),$(".backdrop-nav-menu").fadeOut(200);var e=this.name;if("Home"==e)document.location.href="/";else if("My Projects"==e)document.location.href="/dashboard";else if("CCS website"==e)document.location.href="https://www.crowncommercial.gov.uk/";else if("Guidance"==e)document.location.href="#";else{if("Get help"!=e)return!1;document.location.href="https://www.crowncommercial.gov.uk/contact"}$(".backdrop-nav-menu").fadeOut(200)}),$("#redirect-button-vetting").on("click",function(){const e=document.getElementById("da-total-staff"),t=document.getElementById("da-total-vetting"),r=document.getElementById("da-total-resources"),n=document.getElementById("ca-total-staff"),o=document.getElementById("ca-total-vetting"),a=document.getElementById("ca-total-resources");if(null!=e&&(e.innerHTML=0),null!=t&&(t.innerHTML=0),null!=r&&(r.innerHTML=0),null!=n&&(n.innerHTML=0),null!=o&&(o.innerHTML=0),null!=a&&(a.innerHTML=0),staffs=[],vettings=[],deselect($(".dialog-close-vetting")),$(".backdrop-vetting").fadeOut(200),"Clear form"!=this.name)return!1;for(index=0;index<inputs.length;++index)"hidden"!=inputs[index].type&&(inputs[index].value="");var i,s=document.querySelectorAll(".ca-vetting-weighting");null!=(i=document.querySelectorAll(".da-vetting-weighting"))&&i.length>0&&(i=document.querySelectorAll(".ons-list__item")).forEach(e=>{e.getElementsByClassName("table-item-subtext")[0].innerHTML="0 resources added,0% / 0%"}),null!=s&&s.length>0&&(s=document.querySelectorAll(".ons-list__item")).forEach(e=>{e.getElementsByClassName("table-item-subtext")[0].innerHTML="0 resources added,0% / 0%"})}),$("#redirect-button-tier-4").on("click",function(){if(deselect($(".dialog-close-tier-4")),$(".backdrop-tier-4").fadeOut(200),"Use a 4-tier scoring criteria"!=this.name)return!1;document.location.href="/rfp/set-scoring-criteria?id=4"}),$("#redirect-button-tier-5").on("click",function(){if(deselect($(".dialog-close-tier-5")),$(".backdrop-tier-5").fadeOut(200),"Use a 5-tier scoring criteria"!=this.name)return!1;document.location.href="/rfp/set-scoring-criteria?id=5"}),$("#redirect-button-tier").on("click",function(){deselect($(".dialog-close-tier")),$(".backdrop-tier").fadeOut(200);var e=this.name;if("Use a 5-tier scoring criteria"==e)document.location.href="/rfp/set-scoring-criteria?id=5";else{if("Use a 4-tier scoring criteria"!=e)return!1;document.location.href="/rfp/set-scoring-criteria?id=4"}})}),$.fn.slideFadeToggle=function(e,t){return this.animate({opacity:"toggle",height:"toggle"},"fast",e,t)},$(function(){$('body:contains("Save and continue")').length<1&&removeClass()}),$(function(){$(".close-event").on("click",function(){if("close"==document.querySelector('input[name="event_management_next_step"]:checked').value){if($(this).hasClass("selected"))deselect($(this)),$(".backdrop-close").fadeOut(200);else{$(".backdrop-close").fadeTo(200,1);let e=document.querySelector("#redirect-dutton");e&&"logo nav-popup"!=this.className&&"govuk-footer__link logo nav-popup"!=this.className?e.setAttribute("name",this.innerHTML):(e.setAttribute("name","CCS website"),document.body.scrollTop=document.documentElement.scrollTop=0),$(".pop").slideFadeToggle()}return!1}return!0}),$(".close-dialog-close").on("click",function(){return $(".backdrop-close").fadeOut(200),deselect($(".close-dialog-close")),!1}),$("#redirect-dutton").on("click",function(){deselect($(".close-dialog-close")),$(".backdrop-close").fadeOut(200),document.location.href="/dashboard"})}),$.fn.slideFadeToggle=function(e,t){return this.animate({opacity:"toggle",height:"toggle"},"fast",e,t)};const showEvaluateSuppliersPopup=e=>{if(e.preventDefault(),$(this).hasClass("selected"))deselect($(this)),$(".backdrop-evaluatesuppliers").fadeOut(200),document.getElementById("evaluatesupplierspopup").style.paddingTop="1000";else{$(".backdrop-evaluatesuppliers").fadeTo(200,1),document.getElementById("evaluatesupplierspopup").style.paddingTop="1000";let e=document.querySelector("#redirect-button-evaluatesuppliers");e&&"logo rfp_vetting-popup"!=this.className&&"govuk-footer__link logo rfp_vetting-popup"!=this.className?(e.setAttribute("name","Evaluate Suppliers"),document.body.scrollTop=document.documentElement.scrollTop=0):e.setAttribute("name","CCS website"),$(this).addClass("selected"),$(".pop").slideFadeToggle()}},supplierMsgCancelPopup=e=>{if(console.log("CANCEL"),e.preventDefault(),$(this).hasClass("selected"))deselect($(this)),$(".backdrop-evaluatesuppliers").fadeOut(200),document.getElementById("suplierevaluatesupplierspopup").style.paddingTop="1000";else{$(".backdrop-evaluatesuppliers").fadeTo(200,1);let e=document.querySelector("#supplierredirect-button-evaluatesuppliers");e&&"logo rfp_vetting-popup"!=this.className&&"govuk-footer__link logo rfp_vetting-popup"!=this.className&&(e.setAttribute("name","Evaluate Suppliers"),document.body.scrollTop=document.documentElement.scrollTop=0),$(this).addClass("selected")}};function deselect(e){$(".pop").slideFadeToggle(function(){e.removeClass("selected")})}function removeClass(){var e=document.querySelectorAll(".nav-popup");for(i=0;i<e.length;i++)e[i].classList.remove("nav-popup")}$(function(){$('body:contains("Confirm Scores")').length<1&&removeClass()}),$(".dialog-close-evaluatesuppliers").on("click",function(){return $(".backdrop-evaluatesuppliers").fadeOut(200),!1}),$("#redirect-button-evaluatesuppliers").on("click",function(){return deselect($(".dialog-close-evaluatesuppliers")),$(".backdrop-evaluatesuppliers").fadeOut(200),document.body.classList.add("pageblur"),document.location.href="/evaluate-confirm",!1}),$("#supplierredirect-button-evaluatesuppliers").on("click",function(){return deselect($(".dialog-close-evaluatesuppliers")),$(".backdrop-evaluatesuppliers").fadeOut(200),document.location.href="/message/inbox",!1}),$.fn.slideFadeToggle=function(e,t){return this.animate({opacity:"toggle",height:"toggle"},"fast",e,t)};const showSuppliersAwardPopup=(e,t)=>{var r=document.querySelector(".backdrop-confirmLowScoreSupplierPopup").querySelector(".nodeDialogTitle");let n=document.createElement("h2");n.textContent=e,r.after(n);const o=document.querySelector(".backdrop-confirmLowScoreSupplierPopup");o.classList.add("showpopup"),$(".dialog-close-confirmLowScoreSupplierPopup").on("click",function(){o.classList.remove("showpopup")}),$(".close-dialog-close").on("click",function(){o.classList.remove("showpopup")}),deconf=document.getElementById("redirect-button-confirmLowScoreSupplierPopup"),deconf.addEventListener("click",e=>{o.classList.remove("showpopup"),document.location.href=t})},showPopup=e=>{if(e.preventDefault(),"Close this event and the whole project"==document.querySelector('input[type="radio"]:checked').value)if($(this).hasClass("selected"))deselect($(this)),$(".backdrop-nextsteps").fadeOut(200),document.getElementById("nextstepspopup").style.paddingTop="1000";else{$(".backdrop-nextsteps").fadeTo(200,1),document.getElementById("nextstepspopup").style.paddingTop="1000";let e=document.querySelector("#redirect-button-nextsteps");e&&"logo rfp_vetting-popup"!=this.className&&"govuk-footer__link logo rfp_vetting-popup"!=this.className?(e.setAttribute("name","Next Step"),document.body.scrollTop=document.documentElement.scrollTop=0):e.setAttribute("name","CCS website"),$(this).addClass("selected"),$(".pop").slideFadeToggle()}else document.forms.ccs_rfi_next_steps.submit()},loseyouprojectShowPopup=e=>{e.preventDefault();const t=document.querySelector(".backdrop-nextstepspopup");t.classList.add("showpopup"),$(".dialog-close-nextstepspopup").on("click",function(){t.classList.remove("showpopup")}),$(".close-dialog-close").on("click",function(){t.classList.remove("showpopup")}),deconf=document.getElementById("redirect-button-nextstepspopup"),deconf.addEventListener("click",e=>{t.classList.remove("showpopup"),document.location.href="/rfi/closerfi"})};function deselect(e){$(".pop").slideFadeToggle(function(){e.removeClass("selected")})}function removeClass(){var e=document.querySelectorAll(".nav-popup");for(i=0;i<e.length;i++)e[i].classList.remove("nav-popup")}$(function(){$('body:contains("Save and continue")').length<1&&removeClass()}),$(".dialog-close-nextsteps").on("click",function(){return $(".backdrop-nextsteps").fadeOut(200),deselect($(".dialog-close-nextsteps")),!1}),$("#redirect-button-nextsteps").on("click",function(){return deselect($(".dialog-close-nextsteps")),$(".backdrop-nextsteps").fadeOut(200),document.location.href="../rfi/closerfi",!1}),$.fn.slideFadeToggle=function(e,t){return this.animate({opacity:"toggle",height:"toggle"},"fast",e,t)},document.addEventListener("DOMContentLoaded",()=>{let e,t;function r(e){$(".pop").slideFadeToggle(function(){e.removeClass("selected")})}e=$("#ccs_ca_menu_tabs_form_rfp_vetting .weight_vetting_class"),null!==document.querySelectorAll(".ons-list__item")&&ccsTabMenuNaviation(),$(function(){$('body:contains("Save and continue")').length<1&&function(){var e=document.querySelectorAll(".nav-popup");for(i=0;i<e.length;i++)e[i].classList.remove("nav-popup")}()}),$(function(){$(".nav-popup").on("click",function(){if($(this).hasClass("selected"))r($(this)),$(".backdrop-nav-menu").fadeOut(200);else{$(".backdrop-nav-menu").fadeTo(200,1);let e=document.querySelector("#redirect-button-nav-menu");e&&"logo nav-popup"!=this.className&&"govuk-footer__link logo nav-popup"!=this.className?e.setAttribute("name",this.innerHTML):(e.setAttribute("name","CCS website"),document.body.scrollTop=document.documentElement.scrollTop=0),$(".pop").slideFadeToggle()}return!1}),$(".rfp_vetting-popup").on("click",function(){if($(this).hasClass("selected"))r($(this)),$(".backdrop-vetting").fadeOut(200);else{$(".backdrop-vetting").fadeTo(200,1);let e=document.querySelector("#redirect-button-vetting");e&&"logo rfp_vetting-popup"!=this.className&&"govuk-footer__link logo rfp_vetting-popup"!=this.className?e.setAttribute("name",this.innerHTML):(e.setAttribute("name","CCS website"),document.body.scrollTop=document.documentElement.scrollTop=0),$(".pop").slideFadeToggle()}return!1}),$(".dialog-close-vetting").on("click",function(){return $(".backdrop-vetting").fadeOut(200),r($(".dialog-close-vetting")),!1}),$(".dialog-close-nav-menu").on("click",function(){return $(".backdrop-nav-menu").fadeOut(200),r($(".dialog-close-nav-menu")),!1}),$("#redirect-button-nav-menu").on("click",function(){r($(".dialog-close-nav-menu")),$(".backdrop-nav-menu").fadeOut(200);var e=this.name;if("Home"==e)document.location.href="/";else if("My Projects"==e)document.location.href="/dashboard";else if("CCS website"==e)document.location.href="https://www.crowncommercial.gov.uk/";else if("Guidance"==e)document.location.href="#";else{if("Get help"!=e)return!1;document.location.href="https://www.crowncommercial.gov.uk/contact"}$(".backdrop-nav-menu").fadeOut(200)}),$("#redirect-button-vetting").on("click",function(){if(r($(".dialog-close-vetting")),$(".backdrop-vetting").fadeOut(200),"Clear form"!=this.name)return!1;{let r=document.querySelectorAll(".rfp-vetting-weighting");if(null!=r)!function(e){$("#rfp_total_resource").text("0"),$("#rfp_total_resource2").text("0");for(var t=0;t<e.length;t++)document.getElementsByClassName("table-item-subtext")[t].innerHTML="0 resources added";let r=$(".rfp_weight_vetting_class");for(t=0;t<r.length;++t)r[t].value=""}(r);else for(t=0;t<e.length;++t)e[t].value=""}})}),$.fn.slideFadeToggle=function(e,t){return this.animate({opacity:"toggle",height:"toggle"},"fast",e,t)}}),$(document).ready(function(){$("#active-data").after('<div class="ccs-pagination" id="nav"><p class="govuk-visually-hidden" aria-labelledby="pagination-label">Pagination navigation</p></div>');var e=$("#active-data tbody tr").length,t=e/5,r=0;for($("#nav").append('<a id="active-data-previous" rel="0" class="ccs-pagination__link" href="#">Previous<span class="govuk-visually-hidden"> set of pages</span></a>'),i=0;i<t;i++)r=i+1,$("#nav").append('<a class="ccs-pagination__link" id="pageId_'+i+'" href="#" rel="'+i+'">'+r+"</a> ");$("#nav").append('<a id="active-data-next" rel="1" class="ccs-pagination__link" href="#">Next<span class="govuk-visually-hidden"> set of pages</span></a>'),$("#active-data-previous").addClass("govuk-visually-hidden"),$("#nav").append('<span class="govuk-visually-hidden" id="total_page_active_event">'+r+"</span> "),$("#nav").append('<p class="ccs-pagination__results">Showing <b><label id="start_count">1</label></b> to <b><label id="end_count">5</label></b> of <b><label id="total_count">'+e+"</label></b> results</p>"),$("#active-data tbody tr").hide(),$("#active-data tbody tr").slice(0,5).show(),$("#nav a:nth-child(3)").addClass("ccs-pagination__item--active"),$("#nav a").bind("click",function(){var e=$(this).attr("rel"),t="#pageId_"+e;$("#nav a").removeClass("ccs-pagination__item--active"),$(t).addClass("ccs-pagination__item--active"),0!=e?($("#active-data-previous").attr("rel",parseInt(e)-1),$("#active-data-previous").removeClass("govuk-visually-hidden")):$("#active-data-previous").addClass("govuk-visually-hidden"),parseInt($("#total_page_active_event")[0].innerHTML)-parseInt(e)!=1?($("#active-data-next").attr("rel",parseInt(e)+1),$("#active-data-next").removeClass("govuk-visually-hidden")):($("#active-data-next").addClass("govuk-visually-hidden"),$("#active-data-next").attr("rel",parseInt(e)+1));var r=5*e,n=r+5;return document.getElementById("start_count").innerHTML=r+1,document.getElementById("total_count").innerHTML<n?document.getElementById("end_count").innerHTML=document.getElementById("total_count").innerHTML:document.getElementById("end_count").innerHTML=n,$("#active-data tbody tr").css("opacity","0.0").hide().slice(r,n).css("display","table-row").animate({opacity:1},300),!1})}),$(document).ready(function(){$("#historical-data").after('<div class="ccs-pagination" id="historical-nav"><p class="govuk-visually-hidden" aria-labelledby="pagination-label">Pagination historical-navigation</p></div>');var e=$("#historical-data tbody tr").length,t=e/5,r=0;for($("#historical-nav").append('<a id="historical-data-previous" rel="0" class="ccs-pagination__link" href="#">Previous<span class="govuk-visually-hidden"> set of pages</span></a>'),i=0;i<t;i++)r=i+1,$("#historical-nav").append('<a class="ccs-pagination__link" id="pageId_'+i+'" href="#" rel="'+i+'">'+r+"</a> ");$("#historical-nav").append('<a id="historical-data-next" rel="1" class="ccs-pagination__link" href="#">Next<span class="govuk-visually-hidden"> set of pages</span></a>'),$("#historical-data-previous").addClass("govuk-visually-hidden"),$("#historical-nav").append('<span class="govuk-visually-hidden" id="total_page_active_event">'+r+"</span> "),$("#historical-nav").append('<p class="ccs-pagination__results">Showing <b><label id="start_count">1</label></b> to <b><label id="end_count">5</label></b> of <b><label id="total_count">'+e+"</label></b> results</p>"),$("#historical-data tbody tr").hide(),$("#historical-data tbody tr").slice(0,5).show(),$("#historical-nav a:nth-child(3)").addClass("ccs-pagination__item--active"),$("#historical-nav a").bind("click",function(){var e=$(this).attr("rel"),t="#pageId_"+e;$("#historical-nav a").removeClass("ccs-pagination__item--active"),$(t).addClass("ccs-pagination__item--active"),0!=e?($("#historical-data-previous").attr("rel",parseInt(e)-1),$("#historical-data-previous").removeClass("govuk-visually-hidden")):$("#historical-data-previous").addClass("govuk-visually-hidden"),parseInt($("#total_page_active_event")[0].innerHTML)-parseInt(e)!=1?($("#historical-data-next").attr("rel",parseInt(e)+1),$("#historical-data-next").removeClass("govuk-visually-hidden")):($("#historical-data-next").addClass("govuk-visually-hidden"),$("#historical-data-next").attr("rel",parseInt(e)+1));var r=5*e,n=r+5;return document.getElementById("start_count").innerHTML=r+1,document.getElementById("total_count").innerHTML<n?document.getElementById("end_count").innerHTML=document.getElementById("total_count").innerHTML:document.getElementById("end_count").innerHTML=n,$("#historical-data tbody tr").css("opacity","0.0").hide().slice(r,n).css("display","table-row").animate({opacity:1},300),!1})}),$(document).ready(function(){$("#sent-message").after('<div class="ccs-pagination" id="historical-nav2"><p class="govuk-visually-hidden" aria-labelledby="pagination-label">Pagination historical-navigation</p></div>');var e=10,t=$("#sent-message tbody tr").length,r=t/e,n=0;for(t<=e&&(e=t),$("#historical-nav2").append('<a id="sent-message-previous" rel="0" class="ccs-pagination__link" href="#">Previous<span class="govuk-visually-hidden"> set of pages</span></a>'),i=0;i<r;i++)n=i+1,$("#historical-nav2").append('<a class="ccs-pagination__link" id="pageId_'+i+'" href="#" rel="'+i+'">'+n+"</a> ");t!=e&&$("#historical-nav2").append('<a id="sent-message-next" rel="1" class="ccs-pagination__link" href="#">Next<span class="govuk-visually-hidden"> set of pages</span></a>'),$("#sent-message-previous").addClass("govuk-visually-hidden"),$("#historical-nav2").append('<span class="govuk-visually-hidden" id="total_page_active_event">'+n+"</span> "),$("#historical-nav2").append('<p class="ccs-pagination__results">Showing <b><label id="start_count">1</label></b> to <b><label id="end_count">'+e+'</label></b> of <b><label id="total_count">'+t+"</label></b> results</p>"),$("#sent-message tbody tr").hide(),$("#sent-message tbody tr").slice(0,e).show(),$("#historical-nav2 a:nth-child(3)").addClass("ccs-pagination__item--active"),$("#historical-nav2 a").bind("click",function(){var t=$(this).attr("rel"),r="#pageId_"+t;$("#historical-nav2 a").removeClass("ccs-pagination__item--active"),$(r).addClass("ccs-pagination__item--active"),0!=t?($("#sent-message-previous").attr("rel",parseInt(t)-1),$("#sent-message-previous").removeClass("govuk-visually-hidden")):$("#sent-message-previous").addClass("govuk-visually-hidden"),parseInt($("#total_page_active_event")[0].innerHTML)-parseInt(t)!=1?($("#sent-message-next").attr("rel",parseInt(t)+1),$("#sent-message-next").removeClass("govuk-visually-hidden")):($("#sent-message-next").addClass("govuk-visually-hidden"),$("#sent-message-next").attr("rel",parseInt(t)+1));var n=t*e,o=n+e;return document.getElementById("start_count").innerHTML=n+1,document.getElementById("total_count").innerHTML<o?document.getElementById("end_count").innerHTML=document.getElementById("total_count").innerHTML:document.getElementById("end_count").innerHTML=o,$("#sent-message tbody tr").css("opacity","0.0").hide().slice(n,o).css("display","table-row").animate({opacity:1},300),!1})}),$(document).ready(function(){$("#received-message").after('<div class="ccs-pagination" id="nav-received"><p class="govuk-visually-hidden" aria-labelledby="pagination-label">Pagination nav-receivedigation</p></div>');var e=$("#received-message tbody tr").length,t=e/10,r=0;for($("#nav-received").append('<a id="received-message-previous" rel="0" class="ccs-pagination__link" href="#">Previous<span class="govuk-visually-hidden"> set of pages</span></a>'),i=0;i<t;i++)r=i+1,$("#nav-received").append('<a class="ccs-pagination__link" id="pageId_'+i+'" href="#" rel="'+i+'">'+r+"</a> ");$("#nav-received").append('<a id="received-message-next" rel="1" class="ccs-pagination__link" href="#">Next<span class="govuk-visually-hidden"> set of pages</span></a>'),$("#received-message-previous").addClass("govuk-visually-hidden"),$("#nav-received").append('<span class="govuk-visually-hidden" id="total_page_active_event">'+r+"</span> "),$("#nav-received").append('<p class="ccs-pagination__results">Showing <b><label id="start_count">1</label></b> to <b><label id="end_count">10</label></b> of <b><label id="total_count">'+e+"</label></b> results</p>"),$("#received-message tbody tr").hide(),$("#received-message tbody tr").slice(0,10).show(),$("#nav-received a:nth-child(3)").addClass("ccs-pagination__item--active"),$("#nav-received a").bind("click",function(){var e=$(this).attr("rel"),t="#pageId_"+e;$("#nav-received a").removeClass("ccs-pagination__item--active"),$(t).addClass("ccs-pagination__item--active"),0!=e?($("#received-message-previous").attr("rel",parseInt(e)-1),$("#received-message-previous").removeClass("govuk-visually-hidden")):$("#received-message-previous").addClass("govuk-visually-hidden"),parseInt($("#total_page_active_event")[0].innerHTML)-parseInt(e)!=1?($("#received-message-next").attr("rel",parseInt(e)+1),$("#received-message-next").removeClass("govuk-visually-hidden")):($("#received-message-next").addClass("govuk-visually-hidden"),$("#received-message-next").attr("rel",parseInt(e)+1));var r=10*e,n=r+10;return document.getElementById("start_count").innerHTML=r+1,document.getElementById("total_count").innerHTML<n?document.getElementById("end_count").innerHTML=document.getElementById("total_count").innerHTML:document.getElementById("end_count").innerHTML=n,$("#received-message tbody tr").css("opacity","0.0").hide().slice(r,n).css("display","table-row").animate({opacity:1},300),!1})});var inactiviyTime=0;let logoutlocationURL=window.location.origin+"/oauth/logout";var inactivateAfter=60;function timerIncrement(){(inactiviyTime+=1)>inactivateAfter&&(window.location.href=logoutlocationURL)}$(document).ready(function(){setInterval(timerIncrement,6e4);$(this).mousemove(function(e){inactiviyTime=0}),$(this).keypress(function(e){inactiviyTime=0})});for(var allListOfHeading=new Set,a=0;a<document.getElementsByClassName("headings").length;a++)allListOfHeading.add(document.getElementsByClassName("headings")[a].innerHTML);allListOfHeading=[...allListOfHeading].map(e=>({partial:e.split(" ").join("_").concat("_partial"),whole:e.split(" ").join("_").concat("_whole")}));const weight_whole_len=$(".weight_vetting_whole").length+1,weight_partial_len=$(".weight_vetting_partial").length+1,weight=$(".weight"),TotalFieldOnScreen=$(".govuk-radios__input").length/2+1;for(a=0;a<document.getElementsByClassName("weight_vetting_whole").length;a++)document.getElementsByClassName("weight_vetting_whole")[a].checked=!0;for(a=1;a<weight_whole_len;a++)if(""!==$(`#weight_vetting_whole${a}`).val()){$("#whole_weightage_"+a).attr("checked","checked"),$("#whole_cluster_"+a).fadeIn()}var itemSubText="",itemText="",tabLinks="",totalWeighting="",daServiceCapaTabLinks=document.querySelectorAll(".da-service-capabilities"),caServiceCapaTabLinks=document.querySelectorAll(".ca-service-capabilities");function clearAllTextboxes(){for(var e=$(".dimensions"),t=0;t<e.length;t++)e[t].value=""}null!==daServiceCapaTabLinks&&daServiceCapaTabLinks.length>0?(tabLinks=daServiceCapaTabLinks,ccsTabMenuNaviation(),totalWeighting=$("#da_total_weighting")):null!==caServiceCapaTabLinks&&caServiceCapaTabLinks.length>0&&(tabLinks=caServiceCapaTabLinks,ccsTabMenuNaviation(),totalWeighting=$("#ca_total_weighting")),document.addEventListener("DOMContentLoaded",()=>{function e(){let e=0;for(index=0;index<weight.length;++index)""!=weight[index].value&&weight[index].value>0&&weight[index].value<=100&&(e+=Number(weight[index].value));let t=e+" of 100% total weighting for service capabilities";totalWeighting.text(t)}function t(t){let a="weight_vetting_partial"+t;const s="weight_vetting_whole_"+t;for(var l=1;l<weight_whole_len;l++){let r="weight_vetting_whole_"+t+l,o=t+"whole"+l,s=$(`#${r}`);s.on("blur",()=>{null!=s.val()&&null!==s.val()&&""!==s.val()?(n(weight_partial_len,a),i(r,o,s.val())&&(e(),itemSubText.innerHTML="[ "+s.val()+" % ]")):null!=s.val()&&""==s.val()&&(itemSubText.innerHTML="[ 0 % ]",$(`#${r}`).removeClass("govuk-input--error"),$(`.${o}`).text(""),e())})}for(l=1;l<weight_partial_len;l++){let c=a+l,u=$(`#${a}${l}`),d=t+l;u.on("blur",()=>{r(t),null!=u.val()&&null!==u.val()&&""!==u.val()?(n(weight_whole_len,s),i(c,d,u.val())&&(o(a),e())):null!=u.val()&&""==u.val()&&(o(a),e(),$(`#${c}`).removeClass("govuk-input--error"),$(`.${d}`).text(""))})}}function r(e){for(var t=1;t<weight_whole_len;t++){let r=$(`#${"weight_vetting_whole_"+e+t}`);null!=r&&null!=r&&r.text("")}}function n(e,t){for(var r=1;r<e;r++)$(`#${t}${r}`).val("")}function o(e){let t=0;for(var r=1;r<weight_partial_len;r++){let n=$(`#${e}${r}`);null!=n.val()&&""!=n.val()&&n.val()>0&&n.val()<=100&&(t+=Number(n.val()))}itemSubText.innerHTML="[ "+t+" % ]"}null!==tabLinks&&tabLinks.length>0&&(itemSubText=document.getElementsByClassName("table-item-subtext")[0],null!=(itemText=tabLinks[0].getElementsByTagName("a")[0].childNodes[0].data)&&""!=itemText&&t(itemText=itemText.replaceAll(" ","_")),Array.from(tabLinks).forEach(e=>{e.addEventListener("click",function(e){let r=e.currentTarget,n=$(this).index();return itemSubText=r.getElementsByClassName("table-item-subtext")[0],t(itemText=(itemText=tabLinks[n].getElementsByTagName("a")[0].childNodes[0].data).replaceAll(" ","_")),function(){for(var e=0;e<TotalFieldOnScreen;e++){const t="#whole_cluster_"+e,r="#partial_cluster_"+e;$("#whole_weightage_"+e).prop("checked",!1),$("#partial_weightage_"+e).prop("checked",!1),$(r).fadeOut(),$(t).fadeOut()}}(),!1})})),weight.on("keydown",e=>{"."!==e.key&&69!==e.keyCode||e.preventDefault()});for(var a=0;a<TotalFieldOnScreen;a++){const e="#whole_cluster_"+a,t="#partial_cluster_"+a;$(t).fadeOut(),$(e).fadeOut(),$("#whole_weightage_"+a).click(function(){$(this).is(":checked")&&($(t).fadeOut(),$(e).fadeIn())}),$("#partial_weightage_"+a).click(function(){$(this).is(":checked")&&($(t).fadeIn(),$(e).fadeOut())})}for(a=0;a<allListOfHeading.length;a++){const e=document.getElementsByClassName(allListOfHeading[a].whole)[a];if(null!=e&&null!=e){e.getAttribute("class");""!=e.value&&null!=$(`.${allListOfHeading[index].whole}_div`)&&$(`.${allListOfHeading[a].whole}_div`).fadeIn()}}function i(e,t,r){if(r<=0)$(`#${e}`).addClass("govuk-input--error"),$(`.${t}`).text("Please enter a positive integer"),$("#service_capability_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#summary_list").html('<li><a href="#">The weighting value(s) for the service capabilities must be a positive integer</a></li> '),$("html, body").animate({scrollTop:0},"fast");else if(Number(r)>100)$(`#${e}`).addClass("govuk-input--error"),$(`.${t}`).text("Please enter an integer >0 and <=100 %"),$("#service_capability_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#summary_list").html('<li><a href="#">The weighting value(s) for the service capabilities must be less or equal 100 %</a></li> '),$("html, body").animate({scrollTop:0},"fast");else{if(r.match(/^\d+$/))return $(`#${e}`).removeClass("govuk-input--error"),$(`.${t}`).text(""),$("#service_capability_error_summary").addClass("hide-block"),$(".govuk-error-summary__title").text(""),$("#summary_list").html(""),!0;$(`#${e}`).addClass("govuk-input--error"),$(`.${t}`).text("Please enter only intergers"),$("#service_capability_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#summary_list").html('<li><a href="#">The weighting value(s) for the service capabilities must not contain alphabets</a></li>'),$("html, body").animate({scrollTop:0},"fast")}return!1}$("#ccs_ca_menu_tabs_form").on("submit",e=>{let t=[],r=[],n=[],o=[],a=[],i=[];var s=!0,l=totalWeighting.text().trim().substring(0,4).match(/\d/g);l=l.join("");let c=Number(l);var u=[];const d=document.getElementsByClassName("weight");for(var m=0;m<d.length;m++)""==d[m].value&&u.push(!0);for(var g=/^\d+$/,p=1;p<weight_whole_len;p++){const e=document.getElementsByClassName("weight_vetting_whole")[p-1];e.value<=0&&""!==e.value?t.push(!0):e.value>100&&""!=e.value?r.push(!0):e.value.match(g)||""==e.value||n.push(!0)}for(p=1;p<weight_partial_len;p++){const e=document.getElementsByClassName("weight_vetting_partial")[p-1];e.value<=0&&""!==e.value?o.push(!0):e.value>100&&""!=e.value?a.push(!0):e.value.match(g)||""==e.value||i.push(!0)}if(t.length>0||r.length>0||n.length>0||o.length>0||a.length>0||i.length>0)switch(s=!1,e.preventDefault(),!0){case(t.length>0||o.length>0)&&(r.length>0||a.length>0)&&(n.length>0||i.length>0):e.preventDefault(),$("#service_capability_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#summary_list").html('<li><a href="#">The input field must be a number less than or equal to 100 </a></li><br><li><a href="#">The input field must be greater than 0</a></li><br><li><a href="#">The input field must be a number</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;case(t.length>0||o.length>0)&&(r.length>0||a.length>0):e.preventDefault(),$("#service_capability_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#summary_list").html('<li><a href="#">The input field must be a number less than 100</a></li><br><li><a href="#">The input field  must be  greater than 0</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;case(t.length>0||o.length>0)&&(n.length>0||i.length>0):e.preventDefault(),$("#service_capability_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#summary_list").html('<li><a href="#">The input field must be must be  greater than 0</a></li><br><li><a href="#">The input field must be a number</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;case(r.length>0||a.length>0)&&(n.length>0||i.length>0):e.preventDefault(),$("#service_capability_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#summary_list").html('<li><a href="#">The input field should  must be a number less than 100</a></li><br><li><a href="#">The input field must be a number</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;case t.length>0||o.length>0:e.preventDefault(),$("#service_capability_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#summary_list").html('<li><a href="#">The input field must be  greater than 0</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;case n.length>0||i.length>0:e.preventDefault(),$("#service_capability_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#summary_list").html('<li><a href="#">The input field must be a number</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;case r.length>0||a.length>0:e.preventDefault(),$("#service_capability_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#summary_list").html('<li><a href="#">The input field must be a number less than 100</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;default:console.log("If all else fails")}else 100!=c?(s=!1,e.preventDefault(),$("#service_capability_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#summary_list").html('<li><a href="#">The weighting value(s) for the service capabilities must be equal to 100%</a></li> '),$([document.documentElement,document.body]).animate({scrollTop:$("#summary_list").offset().top},1e3)):u.length==d.length?(s=!1,e.preventDefault(),$("#service_capability_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#summary_list").html('<li><a href="#">Atleast one of the service capability must be selected</a></li> '),$([document.documentElement,document.body]).animate({scrollTop:$("#summary_list").offset().top},1e3)):s&&$("#ccs_ca_menu_tabs_form").submit()})}),document.addEventListener("DOMContentLoaded",()=>{if($("#ca_where_work_done").length>0||$("#da_where_work_done").length>0){var e=$(".dimensions");updateLocationTotal(e),e.on("blur",()=>{updateLocationTotal(e)})}function t(e){$(".pop").slideFadeToggle(function(){e.removeClass("selected")})}$(".ca_whereworkdone_popup").on("click",function(){if($(this).hasClass("selected"))t($(this)),$(".backdrop-vetting").fadeOut(200);else{$(".backdrop-vetting").fadeTo(200,1);let e=document.querySelector("#redirect-button-vetting");e&&"logo rfp_vetting-popup"!=this.className&&"govuk-footer__link logo rfp_vetting-popup"!=this.className?e.setAttribute("name",this.innerHTML):(e.setAttribute("name","CCS website"),document.body.scrollTop=document.documentElement.scrollTop=0),$(this).addClass("selected"),$(".pop").slideFadeToggle()}return!1}),$(".da_whereworkdone_popup").on("click",function(){if($(this).hasClass("selected"))t($(this)),$(".backdrop-vetting").fadeOut(200);else{$(".backdrop-vetting").fadeTo(200,1);let e=document.querySelector("#redirect-button-vetting");e&&"logo rfp_vetting-popup"!=this.className&&"govuk-footer__link logo rfp_vetting-popup"!=this.className?e.setAttribute("name",this.innerHTML):(e.setAttribute("name","CCS website"),document.body.scrollTop=document.documentElement.scrollTop=0),$(this).addClass("selected"),$(".pop").slideFadeToggle()}return!1}),$(".dialog-close-vetting").on("click",function(){return $(".backdrop-vetting").fadeOut(200),t($(".dialog-close-vetting")),!1}),$("#redirect-button-vetting").on("click",function(){if(t($(".dialog-close-vetting")),$(".backdrop-vetting").fadeOut(200),"Clear form"!=this.name)return!1;clearAllTextboxes()}),$(".nav-popup").on("click",function(){if($(this).hasClass("selected"))t($(this)),$(".backdrop-nav-menu").fadeOut(200);else{$(".backdrop-nav-menu").fadeTo(200,1);let e=document.querySelector("#redirect-button-nav-menu");e&&"logo nav-popup"!=this.className&&"govuk-footer__link logo nav-popup"!=this.className?e.setAttribute("name",this.innerHTML):(e.setAttribute("name","CCS website"),document.body.scrollTop=document.documentElement.scrollTop=0),$(".pop").slideFadeToggle()}return!1}),$(".dialog-close-nav-menu").on("click",function(){return $(".backdrop-nav-menu").fadeOut(200),t($(".dialog-close-nav-menu")),!1})}),$.fn.slideFadeToggle=function(e,t){return this.animate({opacity:"toggle",height:"toggle"},"fast",e,t)};const updateLocationTotal=e=>{let t=0;e.each(function(){!isNaN($(this).val())&&$(this).val()>0&&(t+=Number($(this).val()))}),$("#totalPercentage").text(t)},ccsZvalidateDAWhereWorkDone=e=>{e.preventDefault();var t=$(".dimensions");let r="",n=[],o=0;emptycontent=[],t.each(function(){var e=document.getElementById($(this).attr("id"));ccsZremoveErrorMessage(e);let t="";isNaN($(this).val())&&""!=e.value?(t="Dimension value entered must be an integer",emptycontent.push("false")):e.value.includes(".")&&""!=e.value?(t="Dimension value entered must not contain decimal values",emptycontent.push("false")):e.value>100&&""!=e.value?(t="Dimension value entered must be <100",emptycontent.push("false")):e.value<=0&&""!=e.value?(t="Dimension value entered must be >0",emptycontent.push("false")):""!=e.value&&(o+=Number(e.value),emptycontent.push("true")),""!==t&&(ccsZaddErrorMessage(e,t),r=[$(this).attr("id"),t],n.push(r))}),!emptycontent.length>0?(r=["","Entry box must contain a value"],n.push(r)):100!==o&&(r=["totalPercentage","Dimension value entered does not total to 100%"],n.push(r)),0===n.length?document.forms.da_where_work_done.submit():ccsZPresentErrorSummary(n)},ccsZvalidateCAWhereWorkDone=e=>{e.preventDefault();var t=$(".dimensions");let r="",n=[],o=0;emptycontent=[],t.each(function(){var e=document.getElementById($(this).attr("id"));ccsZremoveErrorMessage(e);let t="";isNaN($(this).val())&&""!=e.value?(t="Dimension value entered must be an integer",emptycontent.push("false")):e.value.includes(".")&&""!=e.value?(t="Dimension value entered must not contain decimal values",emptycontent.push("false")):e.value>100&&""!=e.value?(t="Dimension value entered must be <100",emptycontent.push("false")):e.value<=0&&""!=e.value?(t="Dimension value entered must be >0",emptycontent.push("false")):""!=e.value&&(o+=Number(e.value),emptycontent.push("true")),""!==t&&(ccsZaddErrorMessage(e,t),r=[$(this).attr("id"),t],n.push(r))}),!emptycontent.length>0?(r=["","Entry box must contain a value"],n.push(r)):100!==o&&(r=["totalPercentage","Dimension value entered does not total to 100%"],n.push(r)),0===n.length?document.forms.ca_where_work_done.submit():ccsZPresentErrorSummary(n)};document.addEventListener("DOMContentLoaded",()=>{if($("#ccs_ca_weighting").length>0||$("#ccs_daa_weighting").length>0){var e=$(".dimensionweightings");updateTotal(e),e.on("blur",()=>{updateTotal(e)})}});const updateTotal=e=>{let t=0;e.each(function(){!isNaN($(this).val())&&$(this).val()>0&&$(this).val()<100&&(t+=Number($(this).val()))}),$("#totalPercentage").text(t)},ccsZvalidateCAWeightings=e=>{e.preventDefault();var t=$(".dimensionweightings");let r="",n=[],o=0;emptycontent=[],t.each(function(){var e=document.getElementById($(this).attr("id")),t=e.min,a=e.max,i=Number(e.value);ccsZremoveErrorMessage(e);let s="";isNaN($(this).val())&&""!=i?(s="Dimension value entered must be an integer",emptycontent.push("false")):e.value.includes(".")&&""!=i?(s="Dimension value entered must not contain decimal values",emptycontent.push("false")):i>100&&""!=i?(s="Dimension value entered must be <100",emptycontent.push("false")):i<=0&&""!=i?(s="Dimension value entered must be >0",emptycontent.push("false")):i<t||i>a?(s="Dimension value is not in the range.",emptycontent.push("false")):""!=i&&(o+=Number(i),emptycontent.push("true")),""!==s&&(ccsZaddErrorMessage(e,s),r=[$(this).attr("id"),s],n.push(r))}),!emptycontent.length>0?(r=["","Entry box must contain a value"],n.push(r)):100!==o&&(r=["totalPercentage","Your total weighting must add up to 100%"],n.push(r)),0===n.length?document.forms.ccs_ca_weighting.submit():ccsZPresentErrorSummary(n)},ccsZvalidateDAAWeightings=e=>{e.preventDefault();var t=$(".dimensionweightings");let r="",n=[],o=0;emptycontent=[],t.each(function(){var e=document.getElementById($(this).attr("id")),t=e.min,a=e.max,i=Number(e.value);ccsZremoveErrorMessage(e);let s="";isNaN($(this).val())&&""!=i?(s="Dimension value entered must be an integer",emptycontent.push("false")):e.value.includes(".")&&""!=i?(s="Dimension value entered must not contain decimal values",emptycontent.push("false")):i>100&&""!=i?(s="Dimension value entered must be <100",emptycontent.push("false")):i<=0&&""!=i?(s="Dimension value entered must be >0",emptycontent.push("false")):i<t||i>a?(s="Dimension value is not in the range.",emptycontent.push("false")):""!=i&&(o+=Number(i),emptycontent.push("true")),""!==s&&(ccsZaddErrorMessage(e,s),r=[$(this).attr("id"),s],n.push(r))}),!emptycontent.length>0?(r=["","Entry box must contain a value"],n.push(r)):100!==o&&(r=["totalPercentage","Your total weighting must add up to 100%"],n.push(r)),0===n.length?document.forms.ccs_daa_weighting.submit():ccsZPresentErrorSummary(n)};document.addEventListener("DOMContentLoaded",()=>{if(null!==document.getElementById("ccs_ca_procurement_lead")){document.getElementById("ccs_ca_procurement_lead").addEventListener("change",function(t){t.preventDefault(),$.ajax({url:"/ca/users-procurement-lead?id="+t.target.value,type:"GET",contentType:"application/json"}).done(function(t){e(t)}).fail(e=>{document.getElementById("ca-lead-email").innerText="",document.getElementById("ca-lead-telephone").innerText=""})});const e=e=>{document.getElementById("ca-lead-email").innerText=e.userName,document.getElementById("ca-lead-telephone").innerText="1",document.getElementById("ca_procurement_lead_input").value=e.userName}}}),$(".add").addClass("ccs-dynaform-hidden");const updateToViewCA=(e,t)=>{$("#ca-total-staff").html(e),$("#ca-total-vetting").html(t),$("#ca-total-resources").html(CAtotalSFIA)},CAstaffweightPercentage=$(".ca_weight_staff_class"),CAvettingPercentage=$(".ca_weight_vetting_class_p"),CASFIA=$(".ca_weight_vetting_class");var CAtotalStaffWeight=null!=$("#ca-total-staff")[0]&&null!=$("#ca-total-staff")[0]?Number($("#ca-total-staff")[0].innerHTML):0,CAtotalVetting=null!=$("#ca-total-vetting")[0]&&null!=$("#ca-total-vetting")[0]?Number($("#ca-total-vetting")[0].innerHTML):0,CAtotalSFIA=null!=$("#ca-total-resources")[0]&&null!=$("#ca-total-resources")[0]?Number($("#ca-total-resources")[0].innerHTML):0;for(a=0;a<CAstaffweightPercentage.length;a++)CAstaffweightPercentage[a].addEventListener("blur",e=>{CAtotalStaffWeight=0;for(var t=0;t<CAstaffweightPercentage.length;t++)CAtotalStaffWeight+=Number(CAstaffweightPercentage[t].value);updateToViewCA(CAtotalStaffWeight,CAtotalVetting)});for(var b=0;b<CAvettingPercentage.length;b++)CAvettingPercentage[b].addEventListener("blur",e=>{CAtotalVetting=0;for(var t=0;t<CAvettingPercentage.length;t++)CAtotalVetting+=Number(CAvettingPercentage[t].value);updateToViewCA(CAtotalStaffWeight,CAtotalVetting)});for(a=0;a<CASFIA.length;a++)CASFIA[a].addEventListener("blur",e=>{CAtotalSFIA=0;for(var t=0;t<CASFIA.length;t++)CAtotalSFIA+=Number(CASFIA[t].value);updateToViewCA(CAtotalStaffWeight,CAtotalVetting)});if(null!=(tabLinks=document.querySelectorAll(".ca-vetting-weighting"))&&tabLinks.length>0){tabLinks=document.querySelectorAll(".ons-list__item");var tabContainer=document.getElementById("vertical_tab_nav");if(null!=tabLinks&&null!=tabLinks&&tabLinks.length>0){tabLinks[0].getElementsByTagName("a")[0].classList.add("selected");const e=tabContainer.getElementsByTagName("article");for(var i=0;i<e.length;i++)0===i?(e[i].style.display="block",itemSubText=tabLinks[0].getElementsByClassName("table-item-subtext")[0],resourceItemOnClick(e[i],itemSubText)):e[i].style.display="none";Array.from(tabLinks).forEach(e=>{e.addEventListener("click",function(e){let t=e.currentTarget,r=$(this).index();return $("#vertical_tab_nav > div > aside > nav > ol > li > a").removeClass("selected"),t.getElementsByTagName("a")[0].classList.add("selected"),$("#vertical_tab_nav > div > article").css("display","none"),$("#vertical_tab_nav > div > article").eq(r).fadeIn(),$(this).blur(),!1})})}Array.from(tabLinks).forEach(e=>{e.addEventListener("click",function(e){let t=e.currentTarget,r=$(this).index();return itemSubText=t.getElementsByClassName("table-item-subtext")[0],resourceItemOnClick(tabContainer.getElementsByTagName("article")[r],itemSubText),!1})})}function resourceItemOnClick(e,t){const r=e.querySelectorAll('[id^="ca_sfia_weight_vetting_"]'),n=e.querySelectorAll('[id^="ca_weight_staff_"]'),o=e.querySelectorAll('[id^="ca_weight_vetting_"]');for(var a=0;a<r.length;a++){let e=$(`#${r[a].id}`);e.on("blur",()=>{null!=e.val()&&null!==e.val()&&""!==e.val()&&updateWeightVetting(r,n,o,t)})}for(a=0;a<n.length;a++){let e=$(`#${n[a].id}`);e.on("blur",()=>{null!=e.val()&&null!==e.val()&&""!==e.val()&&updateWeightVetting(r,n,o,t)})}for(a=0;a<o.length;a++){let e=$(`#${o[a].id}`);e.on("blur",()=>{null!=e.val()&&null!==e.val()&&""!==e.val()&&updateWeightVetting(r,n,o,t)})}}function updateWeightVetting(e,t,r,n){let o=0,a=0,i=0;for(var s=0;s<e.length;s++){let t=$(`#${e[s].id}`);null!=t.val()&&""!=t.val()&&(t.val()<0||isNaN(t.val())?o=o:o+=Number(t.val()))}for(s=0;s<t.length;s++){let e=$(`#${t[s].id}`);null!=e.val()&&""!=e.val()&&(a+=Number(e.val()))}for(s=0;s<r.length;s++){let e=$(`#${r[s].id}`);null!=e.val()&&""!=e.val()&&(i+=Number(e.val()))}n.innerHTML=o+" resources added,"+a+"% / "+i+"%"}function updateTotalResourceAdded(){let e=0;for(let r=0;r<tabLinks.length;r++){var t=tabLinks[r].getElementsByTagName("div")[0].childNodes[0].data.match(/\d/g);null!=t&&(t=t.join(""),e+=Number(t))}totalResourceAdded.text(e)}document.addEventListener("DOMContentLoaded",()=>{$("#ca_review_ranked_suppliers").on("submit",e=>{var t=document.getElementById("supplierID"),r=document.getElementById("ca_justification"),n=$("#ca_p7").html().match(/(\d+)/);void 0!==t&&null!=t&&void 0!==r&&null!=r&&(0==$("input[type=checkbox]:checked").length?(e.preventDefault(),$("#ca_reviewrankedsuppliers_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#ca_rank_summary_list").html('<li><a href="#">Please select the suppliers</a></li>'),$("html, body").animate({scrollTop:0},"fast")):$("input[type=checkbox]:checked").length>0&&$("input[type=checkbox]:checked").length<n[0]?(e.preventDefault(),$("#ca_reviewrankedsuppliers_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#ca_rank_summary_list").html('<li><a href="#">Please select the '+n[0]+" suppliers</a></li>"),$("html, body").animate({scrollTop:0},"fast")):$("input[type=checkbox]:checked").length>=n[0]&&""===$("#ca_justification").val()&&(e.preventDefault(),$("#ca_reviewrankedsuppliers_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#ca_rank_summary_list").html('<li><a href="#">A justification must be provided whether or not a supplier from this tie rank is selected to take forward or not</a></li>'),$("html, body").animate({scrollTop:0},"fast")))})});const ccsZCountCAReviewRank=e=>{e.preventDefault();const t=document.getElementById("ca_justification");let r=document.getElementById("ca_textarea_reviewrank"),n=5e3-t.value.length;r.innerText=n+" remaining of 5000"};document.addEventListener("DOMContentLoaded",()=>{$("#ccs_ca_suppliers_form").on("submit",e=>{e.preventDefault();let t="";let r=[];const n=$("#ca-supplier-count").val();var o=$("#ca_max_suppliers").val();0===n.length||n<3||n>parseInt(o)?!0!==(t=ccsZvalidateWithRegex("ca-supplier-count","Enter a valid value",null))&&r.push(t):n.match(/^\d+$/)?n.includes(".")&&!0!==(t=ccsZvalidateWithRegex("ca-supplier-count","Please enter only numbers",null))&&r.push(t):!0!==(t=ccsZvalidateWithRegex("ca-supplier-count","Please enter only numbers",null))&&r.push(t),0===r.length?document.forms.ccs_ca_suppliers_form.submit():($(".govuk-error-summary__title").text("There is a problem"),$("#summary_list").html('<li><a href="#summary">There is a problem with the value below</a></li> '),$([document.documentElement,document.body]).animate({scrollTop:$("#summary_list").offset().top},1e3),$("#service_capability_error_summary").removeClass("hide-block"))})}),document.addEventListener("DOMContentLoaded",()=>{null!==document.getElementById("ccs_ca_menu_tabs_form_later")&&$("#ccs_ca_menu_tabs_form_later").on("submit",e=>{const t=$(".error_check_weight"),r=$(".error_check_staff"),n=$(".error_check_vetting"),o=(t.length,[]),a=[],i=[],s=[];for(var l=1;l<t.length;l++){const e=document.getElementsByClassName("error_check_weight")[l-1];""!=e.value&&a.push(!0),e.value.includes(".")?(document.getElementsByClassName("weight_class")[l-1].classList.add("govuk-input--error"),document.getElementsByClassName("ca_weight_class_error")[l-1].innerHTML="All entry boxes are integer numeric  ",i.push(!0)):isNaN(e.value)&&""!==e.value?(document.getElementsByClassName("weight_class")[l-1].classList.add("govuk-input--error"),document.getElementsByClassName("ca_weight_class_error")[l-1].innerHTML="Alphabetical value is entered. Please enter number <100 and >0",s.push(!0)):e.value>99&&""!=e.value?(document.getElementsByClassName("weight_class")[l-1].classList.add("govuk-input--error"),document.getElementsByClassName("ca_weight_class_error")[l-1].innerHTML="Please enter number <100 and >0",o.push(!0)):e.value<=0&&""!==e.value?(document.getElementsByClassName("weight_class")[l-1].classList.add("govuk-input--error"),document.getElementsByClassName("ca_weight_class_error")[l-1].innerHTML="Please enter number <100 and >0",o.push(!0)):(document.getElementsByClassName("weight_class")[l-1].classList.remove("govuk-input--error"),document.getElementsByClassName("ca_weight_class_error")[l-1].innerHTML="")}for(l=1;l<r.length;l++){const e=document.getElementsByClassName("error_check_staff")[l-1];""!=e.value&&a.push(!0),e.value.includes(".")?(document.getElementsByClassName("weight_staff_class")[l-1].classList.add("govuk-input--error"),document.getElementsByClassName("ca_weight_staff_class_error")[l-1].innerHTML="Decimal value is entered. Please enter number <100 and >0 ",i.push(!0)):isNaN(e.value)&&""!==e.value?(document.getElementsByClassName("weight_staff_class")[l-1].classList.add("govuk-input--error"),document.getElementsByClassName("ca_weight_staff_class_error")[l-1].innerHTML="Alphabetical value is entered. Please enter number <100 and >0",s.push(!0)):e.value<=0&&""!==e.value?(document.getElementsByClassName("weight_staff_class")[l-1].classList.add("govuk-input--error"),document.getElementsByClassName("ca_weight_staff_class_error")[l-1].innerHTML="Please enter number <100 and >0",o.push(!0)):(document.getElementsByClassName("weight_staff_class")[l-1].classList.remove("govuk-input--error"),document.getElementsByClassName("ca_weight_staff_class_error")[l-1].innerHTML="")}for(l=1;l<n.length;l++){const e=document.getElementsByClassName("error_check_vetting")[l-1];""!=e.value&&a.push(!0),e.value.includes(".")?(document.getElementsByClassName("weight_vetting_class")[l-1].classList.add("govuk-input--error"),document.getElementsByClassName("ca_weight_vetting_class_p_error")[l-1].innerHTML="Decimal value is entered. Please enter number <100 and >0 ",i.push(!0)):isNaN(e.value)&&""!==e.value?(document.getElementsByClassName("weight_vetting_class")[l-1].classList.add("govuk-input--error"),document.getElementsByClassName("ca_weight_vetting_class_p_error")[l-1].innerHTML="Alphabetical value is entered. Please enter number <100 and >0",s.push(!0)):e.value<=0&&""!==e.value?(document.getElementsByClassName("weight_vetting_class")[l-1].classList.add("govuk-input--error"),document.getElementsByClassName("ca_weight_vetting_class_p_error")[l-1].innerHTML="Please enter number <100 and >0",o.push(!0)):(document.getElementsByClassName("weight_vetting_class")[l-1].classList.remove("govuk-input--error"),document.getElementsByClassName("ca_weight_vetting_class_p_error")[l-1].innerHTML="")}switch(!0){case o.length>0&&i.length>0&&s.length>0:e.preventDefault(),$("#ca_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#ca_summary_list").html('<li><a href="#">The input field must be a number less than 100 and greater than 0</a></li><br><li><a href="#">The input field should not contain decimal values</a></li><br><li><a href="#">The input field must be a number</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;case o.length>0&&i.length>0:e.preventDefault(),$("#ca_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#ca_summary_list").html('<li><a href="#">The input field must be a number less than 100 and greater than 0</a></li><br><li><a href="#">The input field should not contain decimal values</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;case o.length>0&&s.length>0:e.preventDefault(),$("#ca_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#ca_summary_list").html('<li><a href="#">The input field must be a number less than 100 and greater than 0</a></li><br><li><a href="#">The input field must be a number</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;case i.length>0&&s.length>0:e.preventDefault(),$("#ca_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#ca_summary_list").html('<li><a href="#">The input field should not contain decimal values</a></li><br><li><a href="#">The input field must be a number</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;case o.length>0:e.preventDefault(),$("#ca_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#ca_summary_list").html('<li><a href="#">The input field must be a number less than 100 and greater than 0</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;case s.length>0:e.preventDefault(),$("#ca_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#ca_summary_list").html('<li><a href="#">The input field must be a number</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;case i.length>0:e.preventDefault(),$("#ca_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#ca_summary_list").html('<li><a href="#">The input field should not contain decimal values</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;default:console.log("If all else fails")}!a.length>0&&(e.preventDefault(),$("#ca_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#ca_summary_list").html("You must enter atleast on value"),$("html, body").animate({scrollTop:0},"fast"))})}),document.addEventListener("DOMContentLoaded",()=>{$("#ccs_ca_menu_tabs_form_later").on("submit",e=>{const t=$(".error_check_weight"),r=$(".error_check_staff"),n=$(".error_check_vetting"),o=(t.length,document.querySelectorAll('[id^="ca_weight_staff_"]')),a=(document.querySelectorAll('[id^="ca_sfia_weight_vetting_"]'),document.querySelectorAll('[id^="ca_weight_vetting_"]')),i=document.querySelectorAll('[id^="ca_hidden_vetting"]');var s=[],l=[],c=[],u=[],d=[];let m=0,g=0;for(var p=0;p<o.length;p++){let e=$(`#${o[p].id}`);null!=e.val()&&""!=e.val()&&(m+=Number(e.val()))}(m<100||m>100)&&(e.preventDefault(),$("#ca_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#ca_summary_list").html('<li><a href="#">The number of staff weightings for all Role Family entries must = 100%</a></li>'),$("html, body").animate({scrollTop:0},"fast"));for(p=0;p<a.length;p++){let e=$(`#${a[p].id}`);null!=e.val()&&""!=e.val()&&(g+=Number(e.val()))}(g<100||g>100)&&(e.preventDefault(),$("#ca_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#ca_summary_list").html('<li><a href="#">The vetting requirement weightings for all Role Family entries must = 100%</a></li>'),$("html, body").animate({scrollTop:0},"fast"));for(p=0;p<o.length;p++){let e=$(`#${o[p].id}`);if(null!=e.val()&&""!=e.val()){let e=$(`#${a[p].id}`);if(null!=e.val()&&""!=e.val()){let e=$(`#${i[p].id}`).val(),t=document.querySelectorAll('[id^="ca_sfia_weight_vetting_"][id$='+e+"]"),r=!1;for(var f=0;f<t.length;f++){let e=$(`#${t[f].id}`);null!=e.val()&&""!=e.val()&&(r=!0)}0==r&&d.push(!0)}}}for(p=1;p<t.length;p++){const e=document.getElementsByClassName("error_check_weight")[p-1];""!=e.value&&l.push(!0),e.value.includes(".")?(document.getElementsByClassName("weight_class")[p-1].classList.add("govuk-input--error"),document.getElementsByClassName("ca_weight_class_error")[p-1].innerHTML="All entry boxes are integer numeric  ",c.push(!0)):isNaN(e.value)&&""!==e.value?(document.getElementsByClassName("weight_class")[p-1].classList.add("govuk-input--error"),document.getElementsByClassName("ca_weight_class_error")[p-1].innerHTML="Alphabetical value is entered. Please enter number <100 and >0",u.push(!0)):e.value>99&&""!=e.value?(document.getElementsByClassName("weight_class")[p-1].classList.add("govuk-input--error"),document.getElementsByClassName("ca_weight_class_error")[p-1].innerHTML="Please enter number <100 and >0",s.push(!0)):e.value<=0&&""!==e.value?(document.getElementsByClassName("weight_class")[p-1].classList.add("govuk-input--error"),document.getElementsByClassName("ca_weight_class_error")[p-1].innerHTML="Please enter number <100 and >0",s.push(!0)):(document.getElementsByClassName("weight_class")[p-1].classList.remove("govuk-input--error"),document.getElementsByClassName("ca_weight_class_error")[p-1].innerHTML="")}for(p=1;p<r.length;p++){const e=document.getElementsByClassName("error_check_staff")[p-1];""!=e.value&&l.push(!0),e.value.includes(".")?(document.getElementsByClassName("weight_staff_class")[p-1].classList.add("govuk-input--error"),document.getElementsByClassName("ca_weight_staff_class_error")[p-1].innerHTML="Decimal value is entered. Please enter number <100 and >0 ",c.push(!0)):isNaN(e.value)&&""!==e.value?(document.getElementsByClassName("weight_staff_class")[p-1].classList.add("govuk-input--error"),document.getElementsByClassName("ca_weight_staff_class_error")[p-1].innerHTML="Alphabetical value is entered. Please enter number <100 and >0",u.push(!0)):e.value<=0&&""!==e.value?(document.getElementsByClassName("weight_staff_class")[p-1].classList.add("govuk-input--error"),document.getElementsByClassName("ca_weight_staff_class_error")[p-1].innerHTML="Please enter number <100 and >0",s.push(!0)):(document.getElementsByClassName("weight_staff_class")[p-1].classList.remove("govuk-input--error"),document.getElementsByClassName("ca_weight_staff_class_error")[p-1].innerHTML="")}for(p=1;p<n.length;p++){const e=document.getElementsByClassName("error_check_vetting")[p-1];""!=e.value&&l.push(!0),e.value.includes(".")?(document.getElementsByClassName("weight_vetting_class")[p-1].classList.add("govuk-input--error"),document.getElementsByClassName("ca_weight_vetting_class_p_error")[p-1].innerHTML="Decimal value is entered. Please enter number <100 and >0 ",c.push(!0)):isNaN(e.value)&&""!==e.value?(document.getElementsByClassName("weight_vetting_class")[p-1].classList.add("govuk-input--error"),document.getElementsByClassName("ca_weight_vetting_class_p_error")[p-1].innerHTML="Alphabetical value is entered. Please enter number <100 and >0",u.push(!0)):e.value<=0&&""!==e.value?(document.getElementsByClassName("weight_vetting_class")[p-1].classList.add("govuk-input--error"),document.getElementsByClassName("ca_weight_vetting_class_p_error")[p-1].innerHTML="Please enter number <100 and >0",s.push(!0)):(document.getElementsByClassName("weight_vetting_class")[p-1].classList.remove("govuk-input--error"),document.getElementsByClassName("ca_weight_vetting_class_p_error")[p-1].innerHTML="")}switch(!0){case s.length>0&&c.length>0&&u.length>0:e.preventDefault(),$("#ca_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#ca_summary_list").html('<li><a href="#">The input field must be a number less than 100 and greater than 0</a></li><br><li><a href="#">The input field should not contain decimal values</a></li><br><li><a href="#">The input field must be a number</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;case s.length>0&&c.length>0:e.preventDefault(),$("#ca_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#ca_summary_list").html('<li><a href="#">The input field must be a number less than 100 and greater than 0</a></li><br><li><a href="#">The input field should not contain decimal values</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;case s.length>0&&u.length>0:e.preventDefault(),$("#ca_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#ca_summary_list").html('<li><a href="#">The input field must be a number less than 100 and greater than 0</a></li><br><li><a href="#">The input field must be a number</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;case c.length>0&&u.length>0:e.preventDefault(),$("#ca_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#ca_summary_list").html('<li><a href="#">The input field should not contain decimal values</a></li><br><li><a href="#">The input field must be a number</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;case s.length>0:e.preventDefault(),$("#ca_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#ca_summary_list").html('<li><a href="#">The input field must be a number less than 100 and greater than 0</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;case u.length>0:e.preventDefault(),$("#ca_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#ca_summary_list").html('<li><a href="#">The input field must be a number</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;case c.length>0:e.preventDefault(),$("#ca_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#ca_summary_list").html('<li><a href="#">The input field should not contain decimal values</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;case d.length>0:e.preventDefault(),$("#ca_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#ca_summary_list").html('<li><a href="#">At least 1 DDaT role must be populated with a quantity value</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;default:console.log("If all else fails")}!l.length>0&&(e.preventDefault(),$("#ca_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#ca_summary_list").html("You must enter atleast on value"),$("html, body").animate({scrollTop:0},"fast"))})}),document.addEventListener("DOMContentLoaded",()=>{$('input:radio[name="ccs_rfp_choose_security"]').on("change",function(){$(this).is(":checked")&&$(".rfp_choosesecurity_resources").val(" ")}),$('input:radio[name="ccs_ca_choose_security"]').on("change",function(){$(this).is(":checked")&&$(".ca_choosesecurity_resources").val(" ")}),$('input:radio[name="ccs_da_choose_security"]').on("change",function(){$(this).is(":checked")&&$(".da_choosesecurity_resources").val(" ")}),$("#rfp_choose_security_form").on("submit",e=>{for(var t="",r=0;r<4;r++){var n=document.getElementsByClassName("rfp_choosesecurity_resources")[r].value;null!=n&&""!=n&&(t=n)}var o=$("#totalQuantityrfp").val(),a=$('input[name="ccs_rfp_choose_security"]:checked').val(),i=a?a.replace(/[^0-9.]/g,""):null;0==$('input:radio[name="ccs_rfp_choose_security"]:checked').length?(e.preventDefault(),$("#rfp_choose_security_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#rfp_choose_security_summary_list").html('<li><a href="#">You must select the highest level of security clearance that staff supplied to the project will need to have.</a></li>'),$("html, body").animate({scrollTop:0},"fast")):i&&["1","2","3","4"].includes(i)&&!t?(e.preventDefault(),$("#rfp_choose_security_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#rfp_choose_security_summary_list").html('<li><a href="#">You must enter the number of staffs who will need a lower security and vetting requirement.</a></li>'),$("html, body").animate({scrollTop:0},"fast")):i&&["1","2","3","4"].includes(i)&&(t<0||t>o-1)&&(e.preventDefault(),$("#rfp_choose_security_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#rfp_choose_security_summary_list").html('<li><a href="#">A Quantity must be between 1 to Quantity('+o+") - 1</a></li>"),$("html, body").animate({scrollTop:0},"fast"))}),$("#ca_choose_security_form").on("submit",e=>{for(var t="",r=0;r<4;r++){var n=document.getElementsByClassName("ca_choosesecurity_resources")[r].value;null!=n&&""!=n&&(t=n)}var o=$("#totalQuantityca").val(),a=$('input[name="ccs_ca_choose_security"]:checked').val(),i=a?a.replace(/[^0-9.]/g,""):null;0==$('input:radio[name="ccs_ca_choose_security"]:checked').length?(e.preventDefault(),$("#ca_choose_security_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#ca_choose_security_summary_list").html('<li><a href="#">You must select the highest level of security clearance that staff supplied to the project will need to have.</a></li>'),$("html, body").animate({scrollTop:0},"fast")):i&&["1","2","3","4"].includes(i)&&!t?(e.preventDefault(),$("#ca_choose_security_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#ca_choose_security_summary_list").html('<li><a href="#">You must enter the number of staffs who will need a lower security and vetting requirement.</a></li>'),$("html, body").animate({scrollTop:0},"fast")):i&&["1","2","3","4"].includes(i)&&(t<0||t>o-1)&&(e.preventDefault(),$("#ca_choose_security_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#ca_choose_security_summary_list").html('<li><a href="#">A Quantity must be between 1 to Quantity('+o+") - 1</a></li>"),$("html, body").animate({scrollTop:0},"fast"))}),$("#da_choose_security_form").on("submit",e=>{for(var t="",r=0;r<4;r++){var n=document.getElementsByClassName("da_choosesecurity_resources")[r].value;null!=n&&""!=n&&(t=n)}var o=$("#totalQuantityda").val(),a=$('input[name="ccs_da_choose_security"]:checked').val(),i=a?a.replace(/[^0-9.]/g,""):null;0==$('input:radio[name="ccs_da_choose_security"]:checked').length?(e.preventDefault(),$("#da_choose_security_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#da_choose_security_summary_list").html('<li><a href="#">You must select the highest level of security clearance that staff supplied to the project will need to have.</a></li>'),$("html, body").animate({scrollTop:0},"fast")):i&&["1","2","3","4"].includes(i)&&!t?(e.preventDefault(),$("#da_choose_security_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#da_choose_security_summary_list").html('<li><a href="#">You must enter the number of staffs who will need a lower security and vetting requirement.</a></li>'),$("html, body").animate({scrollTop:0},"fast")):i&&["1","2","3","4"].includes(i)&&(t<0||t>o-1)&&(e.preventDefault(),$("#da_choose_security_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#da_choose_security_summary_list").html('<li><a href="#">A Quantity must be between 1 to Quantity('+o+") - 1</a></li>"),$("html, body").animate({scrollTop:0},"fast"))})}),document.addEventListener("DOMContentLoaded",()=>{if(null!==document.getElementById("ccs_add_collab")){let t=5,r=0,n=document.querySelectorAll("a.del");for(var e=5;e>1;e--){let r=document.querySelector(".collab_"+e);""!==document.getElementById("proj_collab_name_"+e).value?(r.classList.remove("ccs-dynaform-hidden"),5===e&&document.getElementById("ccs_collab_add").classList.add("ccs-dynaform-hidden")):(r.classList.add("ccs-dynaform-hidden"),t=e)}document.getElementById("ccs_collab_add").addEventListener("click",e=>{e.preventDefault(),document.querySelector(".collab_"+t).classList.remove("ccs-dynaform-hidden"),t>2&&(r=t-1,document.querySelector(".collab_"+r+" a.del").classList.add("ccs-dynaform-hidden")),6===++t&&document.getElementById("ccs_collab_add").classList.add("ccs-dynaform-hidden")}),n.forEach(e=>{e.addEventListener("click",r=>{r.preventDefault();let n=e.href.replace(/^(.+\/)(\d{1,2})$/,"$2"),o=Number(n)-1;e.closest("fieldset").classList.add("ccs-dynaform-hidden"),document.getElementById("proj_collab_name_"+n).value="",document.getElementById("proj_collab_email_"+n).value="",document.getElementById("proj_collab_tel_"+n).value="",o>1&&document.querySelector(".collab_"+o+" a.del").classList.remove("ccs-dynaform-hidden"),document.getElementById("ccs_collab_add").classList.remove("ccs-dynaform-hidden"),t--})})}});const ccsZvalidateTeamMems=e=>{e.preventDefault();let t="",r=[],n=["zero","one","two","three","four","five"];for(var o=1;o<6;o++){-1===document.getElementById("proj_collab_name_"+o).closest("fieldset").classList.value.indexOf("ccs-dynaform-hidden")&&(!0!==(t=ccsZvalidateWithRegex("proj_collab_name_"+o,"Provide the name of team member "+n[o],/^[a-z| ]{3,}$/i))&&r.push(t),!0!==(t=ccsZvalidateWithRegex("proj_collab_email_"+o,"Provide the email of team member "+n[o],/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/))&&r.push(t))}0===r.length?document.forms.ccs_add_collab.submit():ccsZPresentErrorSummary(r)},updateToViewDA=(e,t)=>{$("#da-total-staff").html(e),$("#da-total-vetting").html(t),$("#da-total-resources").html(DAtotalSFIA)},DAstaffweightPercentage=$(".da_weight_staff_class"),DAvettingPercentage=$(".da_weight_vetting_class_p"),DASFIA=$(".da_weight_vetting_class");var DAtotalStaffWeight=null!=$("#da-total-staff")[0]&&null!=$("#da-total-staff")[0]?Number($("#da-total-staff")[0].innerHTML):0,DAtotalVetting=null!=$("#da-total-vetting")[0]&&null!=$("#da-total-vetting")[0]?Number($("#da-total-vetting")[0].innerHTML):0,DAtotalSFIA=null!=$("#da-total-resources")[0]&&null!=$("#da-total-resources")[0]?Number($("#da-total-resources")[0].innerHTML):0;for(a=0;a<DAstaffweightPercentage.length;a++)DAstaffweightPercentage[a].addEventListener("blur",e=>{DAtotalStaffWeight=0;for(var t=0;t<DAstaffweightPercentage.length;t++)DAtotalStaffWeight+=Number(DAstaffweightPercentage[t].value);updateToViewDA(DAtotalStaffWeight,DAtotalVetting)});for(b=0;b<DAvettingPercentage.length;b++)DAvettingPercentage[b].addEventListener("blur",e=>{DAtotalVetting=0;for(var t=0;t<DAvettingPercentage.length;t++)DAtotalVetting+=Number(DAvettingPercentage[t].value);updateToViewDA(DAtotalStaffWeight,DAtotalVetting)});for(a=0;a<DASFIA.length;a++)DASFIA[a].addEventListener("blur",e=>{DAtotalSFIA=0;for(var t=0;t<DASFIA.length;t++)DAtotalSFIA+=Number(DASFIA[t].value);updateToViewDA(DAtotalStaffWeight,DAtotalVetting)});if(null!=(tabLinks=document.querySelectorAll(".da-vetting-weighting"))&&tabLinks.length>0){tabLinks=document.querySelectorAll(".ons-list__item"),tabContainer=document.getElementById("vertical_tab_nav");if(null!=tabLinks&&null!=tabLinks&&tabLinks.length>0){tabLinks[0].getElementsByTagName("a")[0].classList.add("selected");const e=tabContainer.getElementsByTagName("article");for(i=0;i<e.length;i++)0===i?(e[i].style.display="block",itemSubText=tabLinks[0].getElementsByClassName("table-item-subtext")[0],resourceItemOnClickDA(e[i],itemSubText)):e[i].style.display="none";Array.from(tabLinks).forEach(e=>{e.addEventListener("click",function(e){let t=e.currentTarget,r=$(this).index();return $("#vertical_tab_nav > div > aside > nav > ol > li > a").removeClass("selected"),t.getElementsByTagName("a")[0].classList.add("selected"),$("#vertical_tab_nav > div > article").css("display","none"),$("#vertical_tab_nav > div > article").eq(r).fadeIn(),$(this).blur(),!1})})}Array.from(tabLinks).forEach(e=>{e.addEventListener("click",function(e){let t=e.currentTarget,r=$(this).index();return itemSubText=t.getElementsByClassName("table-item-subtext")[0],resourceItemOnClickDA(tabContainer.getElementsByTagName("article")[r],itemSubText),!1})})}function resourceItemOnClickDA(e,t){const r=e.querySelectorAll('[id^="da_sfia_weight_vetting_"]'),n=e.querySelectorAll('[id^="da_weight_staff_"]'),o=e.querySelectorAll('[id^="da_weight_vetting_"]');for(var a=0;a<r.length;a++){let e=$(`#${r[a].id}`);e.on("blur",()=>{null!=e.val()&&null!==e.val()&&""!==e.val()&&updateWeightVettingDA(r,n,o,t)})}for(a=0;a<n.length;a++){let e=$(`#${n[a].id}`);e.on("blur",()=>{null!=e.val()&&null!==e.val()&&""!==e.val()&&updateWeightVettingDA(r,n,o,t)})}for(a=0;a<o.length;a++){let e=$(`#${o[a].id}`);e.on("blur",()=>{null!=e.val()&&null!==e.val()&&""!==e.val()&&updateWeightVettingDA(r,n,o,t)})}}function updateWeightVettingDA(e,t,r,n){let o=0,a=0,i=0;for(var s=0;s<e.length;s++){let t=$(`#${e[s].id}`);null!=t.val()&&""!=t.val()&&(t.val()<0||isNaN(t.val())?o=o:o+=Number(t.val()))}for(s=0;s<t.length;s++){let e=$(`#${t[s].id}`);null!=e.val()&&""!=e.val()&&(a+=Number(e.val()))}for(s=0;s<r.length;s++){let e=$(`#${r[s].id}`);null!=e.val()&&""!=e.val()&&(i+=Number(e.val()))}n.innerHTML=o+" resources added,"+a+"% / "+i+"%"}function updateTotalResourceAdded(){let e=0;for(let r=0;r<tabLinks.length;r++){var t=tabLinks[r].getElementsByTagName("div")[0].childNodes[0].data.match(/\d/g);null!=t&&(t=t.join(""),e+=Number(t))}totalResourceAdded.text(e)}document.addEventListener("DOMContentLoaded",()=>{if(null!==document.getElementById("ccs_da_procurement_lead")){document.getElementById("ccs_da_procurement_lead").addEventListener("change",function(t){t.preventDefault(),$.ajax({url:"/da/users-procurement-lead?id="+t.target.value,type:"GET",contentType:"application/json"}).done(function(t){e(t)}).fail(e=>{document.getElementById("da-lead-email").innerText="",document.getElementById("da-lead-telephone").innerText=""})});const e=e=>{document.getElementById("da-lead-email").innerText=e.userName,document.getElementById("da-lead-telephone").innerText="1",document.getElementById("da_procurement_lead_input").value=e.userName}}}),$(".add").addClass("ccs-dynaform-hidden"),document.addEventListener("DOMContentLoaded",()=>{const e=()=>{$(".govuk-error-message").remove(),$(".govuk-form-group--error").removeClass("govuk-form-group--error"),$(".govuk-error-summary").remove(),$(".govuk-input").removeClass("govuk-input--error"),$(".govuk-form-group textarea").removeClass("govuk-textarea--error")},t=$("#da_multianswer_question_form");if(void 0!==t&&t.length>0){$(".additional").addClass("ccs-dynaform-hidden");let t=10,o=0,a=document.querySelectorAll("a.del"),i=[],s=document.querySelectorAll(".weightage"),l=()=>{let t=[],r=0;e(),s.forEach(e=>{r+=isNaN(e.value)?0:Number(e.value)}),r>100&&(t.push(["There is a problem","The total weighting is exceeded more than 100%"]),ccsZPresentErrorSummary(t)),$("#totalPercentage").html(r)};s.forEach(e=>{e.addEventListener("focusout",l),e.addEventListener("keydown",e=>{"."!==e.key&&69!==e.keyCode||e.preventDefault()})});const c=()=>{$("#questionsCount").html($(".order_1").filter(function(){return""!==this.value}).length)};c(),l(),a.forEach(e=>{e.classList.add("ccs-dynaform-hidden"),e.addEventListener("click",r=>{r.preventDefault();let n=r.target.href.replace(/^(.+\/)(\d{1,2})$/,"$2"),o=Number(n)-1,a=e.closest("div"),i=a.nextElementSibling,s=Number(n),l=Number(n);if(20!=n){let e=1,t=[];for(;i;){let r=i.classList;if(void 0!==Object.keys(r).find(e=>"closeCCS"===r[e])&&void 0===Object.keys(r).find(e=>"ccs-dynaform-hidden"===r[e])){let r=l;if(l+=1,t.push(l),1==e){let t,n,o;if(console.log(`First: ${e} - ${s}`),(d=document.getElementsByClassName("class_question_remove_"+l)[0])&&(t=document.getElementsByClassName("class_question_remove_"+l)[0].value,document.getElementsByClassName("class_question_remove_"+r)[0].value=t),m=document.getElementsByClassName("class_question_remove_"+l)[1]){var u=document.getElementsByClassName("class_question_remove_"+l)[1].value;document.getElementsByClassName("class_question_remove_"+r)[1].value=u}(g=document.getElementsByClassName("class_question_remove_"+l)[2])&&(o=document.getElementsByClassName("class_question_remove_"+l)[2].value,document.getElementsByClassName("class_question_remove_"+r)[2].value=o),document.getElementById("fc_question_precenate_"+l)&&(n=document.getElementById("fc_question_precenate_"+l).value,document.getElementById("fc_question_precenate_"+r).value=n)}else{let t,n,o;if(s+=1,console.log(`Usual: ${e} - ${s}`),(d=document.getElementsByClassName("class_question_remove_"+l)[0])&&(t=document.getElementsByClassName("class_question_remove_"+l)[0].value,document.getElementsByClassName("class_question_remove_"+r)[0].value=t),m=document.getElementsByClassName("class_question_remove_"+l)[1]){u=document.getElementsByClassName("class_question_remove_"+l)[1].value;document.getElementsByClassName("class_question_remove_"+r)[1].value=u}(g=document.getElementsByClassName("class_question_remove_"+l)[2])&&(o=document.getElementsByClassName("class_question_remove_"+l)[2].value,document.getElementsByClassName("class_question_remove_"+r)[2].value=o),document.getElementById("fc_question_precenate_"+l)&&(n=document.getElementById("fc_question_precenate_"+l).value,document.getElementById("fc_question_precenate_"+r).value=n)}i=i.nextElementSibling}else i=!1;e++}if(t.length>0){let e=t.at(-1);(d=document.getElementsByClassName("class_question_remove_"+e)[0])&&(document.getElementsByClassName("class_question_remove_"+e)[0].value="",d.dispatchEvent(new Event("keyup"))),(m=document.getElementsByClassName("class_question_remove_"+e)[1])&&(document.getElementsByClassName("class_question_remove_"+e)[1].value="",m.dispatchEvent(new Event("keyup"))),(g=document.getElementsByClassName("class_question_remove_"+e)[2])&&(document.getElementsByClassName("class_question_remove_"+e)[2].value="",g.dispatchEvent(new Event("keyup"))),document.getElementById("fc_question_precenate_"+e)&&(document.getElementById("fc_question_precenate_"+e).value=""),document.querySelector("#fc_question_"+e).classList.add("ccs-dynaform-hidden")}else{a.classList.add("ccs-dynaform-hidden"),(d=document.getElementsByClassName("class_question_remove_"+s)[0])&&(document.getElementsByClassName("class_question_remove_"+s)[0].value="",d.dispatchEvent(new Event("keyup"))),(m=document.getElementsByClassName("class_question_remove_"+s)[1])&&(document.getElementsByClassName("class_question_remove_"+s)[1].value="",m.dispatchEvent(new Event("keyup"))),(g=document.getElementsByClassName("class_question_remove_"+s)[2])&&(document.getElementsByClassName("class_question_remove_"+s)[2].value="",g.dispatchEvent(new Event("keyup"))),document.getElementById("fc_question_precenate_"+s)&&(document.getElementById("fc_question_precenate_"+s).value=""),o>1&&document.querySelector("#fc_question_"+o+" a.del").classList.remove("ccs-dynaform-hidden"),$(".add-another-btn").removeClass("ccs-dynaform-hidden")}}else{var d,m,g;a.classList.add("ccs-dynaform-hidden"),(d=document.getElementsByClassName("class_question_remove_"+s)[0])&&(document.getElementsByClassName("class_question_remove_"+s)[0].value="",d.dispatchEvent(new Event("keyup"))),(m=document.getElementsByClassName("class_question_remove_"+s)[1])&&(document.getElementsByClassName("class_question_remove_"+s)[1].value="",m.dispatchEvent(new Event("keyup"))),(g=document.getElementsByClassName("class_question_remove_"+s)[2])&&(document.getElementsByClassName("class_question_remove_"+s)[2].value="",g.dispatchEvent(new Event("keyup"))),document.getElementById("fc_question_precenate_"+s)&&(document.getElementById("fc_question_precenate_"+s).value=""),o>1&&document.querySelector("#fc_question_"+o+" a.del").classList.remove("ccs-dynaform-hidden"),$(".add-another-btn").removeClass("ccs-dynaform-hidden")}t--,c(),11!=t&&$(".add-another-btn").removeClass("ccs-dynaform-hidden")})});for(var r=10;r>1;r--){let e=document.getElementById("fc_question_"+r);if(""!==e.querySelector(".order_1").value){if(e.classList.remove("ccs-dynaform-hidden"),document.getElementById("del_fc_question_"+r).classList.remove("ccs-dynaform-hidden"),10===r)$(".add-another-btn").addClass("ccs-dynaform-hidden"),$(".add-another-btn").closest(".ccs-page-section").length&&$(".add-another-btn").closest(".ccs-page-section").css("border-bottom","0px");i.push(r)}else t=r;2===r&&i.length>0&&$("#del_fc_question_"+i[0]).removeClass("ccs-dynaform-hidden")}t>1&&$("#del_fc_question_"+t).removeClass("ccs-dynaform-hidden"),$(".add-another-btn").on("click",function(){e(),Number($("#totalPercentage").text())>=100?errorStore.push(["There is a problem","The total weighting is 100% so you can not add more questions"]):errorStore=n("add_more"),10===t&&$(".add-another-btn").addClass("ccs-dynaform-hidden"),11===t&&""!=document.getElementById("fc_question_10_1").value?($(".add-another-btn").addClass("ccs-dynaform-hidden"),errorStore.push(["There is a problem","Cannot add another question already 10 questions created"])):errorStore=n("add_more");const r=document.getElementById("page-heading").innerHTML;if(0==errorStore.length){if(document.getElementById("fc_question_"+t).classList.remove("ccs-dynaform-hidden"),t>2&&(o=t-1),r.includes("Write your social value questions")&&null!=document.getElementById("questionsCount")&&(document.getElementById("questionsCount").innerHTML=t),r.includes("Write your technical questions")&&null!=document.getElementById("questionsCount")&&(document.getElementById("questionsCount").innerHTML=t),document.querySelector("label[for=fc_question_"+t+"] a.del").classList.remove("ccs-dynaform-hidden"),11===++t&&""!=document.getElementById("fc_question_10_1").value)return errorStore.push(["There is a problem","Cannot add another question already 10 questions created"]),void ccsZPresentErrorSummary(errorStore)}else ccsZPresentErrorSummary(errorStore)})}const n=(t="")=>{e();let r="",n=[],o=0;const a=document.getElementById("page-heading").innerHTML;for(var i=1;i<11;i++){let e=document.getElementById("fc_question_"+i);const s=document.querySelector("#fc_question_"+i);if(!e.classList.contains("ccs-dynaform-hidden"))if(Number($("#totalPercentage").text)>100&&!0!==(r=ccsZvalidateWithRegex("fc_question_"+i+"_4","You cannot add / submit  question as your weightings exceed 100%",/\w+/))&&n.push(r),a.includes("Enter your project requirements")){const e=s.querySelectorAll("textarea");if(null!=e&&null!=e&&e.length>0)for(let t=0;t<e.length;t++){const r=e[t];0===t?""!=r.value&&void 0!==r.value&&null!==r.value||n.push([r.id,"Please enter name of the group"]):1===t?""!=r.value&&void 0!==r.value&&null!==r.value||n.push([r.id,"Please enter name of the requirement"]):""!=r.value&&void 0!==r.value&&null!==r.value||n.push([r.id,"Please enter description of the requirement"])}o+=1}else{if(e.querySelector(".order_1")){e.querySelector(".order_1");if(""==e.querySelector(".order_1").value&&!a.includes("Optional")||"add_more"==t)if(a.includes("Write your social value questions")){const t=e.querySelector(".order_1").value?"Entry is limited to 50 words":"You must enter your social value question";!0!==(r=ccsZvalidateWithRegex("fc_question_"+i+"_1",t,/\w+/))&&n.push(r)}else if(a.includes("Write your technical questions")){const t=e.querySelector(".order_1").value?"Entry is limited to 50 words":"You must enter your technical question";!0!==(r=ccsZvalidateWithRegex("fc_question_"+i+"_1",t,/\w+/))&&n.push(r)}}if(e.querySelector(".order_2")&&""==e.querySelector(".order_2").value){const t=e.querySelector(".order_2").value?"Entry is limited to 50 words":"You must enter valid additional information";!0!==(r=ccsZvalidateWithRegex("fc_question_"+i+"_2",t,/\w+/))&&n.push(r)}if(e.querySelector(".order_3")&&""==e.querySelector(".order_3").value){const t=e.querySelector(".order_3").value?"Entry is limited to 50 words":"You must enter valid information";!0!==(r=ccsZvalidateWithRegex("fc_question_"+i+"_3",t,/\w+/))&&n.push(r)}if(e.querySelector(".weightage")){const t=e.querySelector(".weightage").value>100;if(""===e.querySelector(".weightage").value||t||e.querySelector(".weightage").value<0){const o=e.querySelector(".weightage").value?"Enter a weighting for this question <= 100%":"You must enter valid weightage";!0!==(r=ccsZvalidateWithRegex("fc_question_"+i+"_4",o,/\w+/,!t))&&n.push(r)}}}}return n};$("#da_multianswer_question_form").on("submit",e=>{e.preventDefault();let t=[];if(null!=$("#totalPercentage")&&null!=$("#totalPercentage")&&$("#totalPercentage").length>0&&Number($("#totalPercentage").text())>100&&t.push(["There is a problem","The total weighting is more than 100% "]),0===(t=t.length<=0?n():t).length){if(0!=document.getElementsByClassName("govuk-hint-error-message").length)return!1;document.forms.da_multianswer_question_form.submit()}else ccsZPresentErrorSummary(t)})}),document.addEventListener("DOMContentLoaded",()=>{$("#da_review_ranked_suppliers").on("submit",e=>{for(var t=document.getElementById("supplierID"),r=$(".da_justification_text"),n=[],o=0;o<r.length;o++)""!=r[o].value&&null!=r[o].value&&n.push(!0);void 0!==t&&null!=t&&(0==$("input[type=radio]:checked").length?(e.preventDefault(),$("#da_reviewrankedsuppliers_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#da_rank_summary_list").html('<li><a href="#">Please select the supplier</a></li>'),$("html, body").animate({scrollTop:0},"fast")):$("input[type=radio]:checked").length>0&&0==n.length&&(e.preventDefault(),$("#da_reviewrankedsuppliers_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#da_rank_summary_list").html('<li><a href="#">A justification must be provided for the selected supplier</a></li>'),$("html, body").animate({scrollTop:0},"fast")))}),$("input[type=radio]").on("change",function(){for(var t=$(".da_justification_text"),r=0;r<t.length;r++)t[r].value="";var n=$(this).attr("value"),o=$("."+n);$(".da_justification").not(o).hide(),$(o).show();let a=$("input[type=radio]:checked").val();justification_text=document.getElementById("da_textarea_reviewrank_"+a),null!=justification_text&&justification_text.addEventListener("input",e)});const e=e=>{e.preventDefault();const t=e.srcElement.id,r=document.getElementById(t),n=t.split("da_textarea_reviewrank_");let o=document.getElementById("da_textarea_"+n[1]),a=5e3-r.value.length;o.innerText=a+" remaining of 5000"};let t=$("input[type=radio]:checked").val();justification_text=document.getElementById("da_textarea_reviewrank_"+t),null!=justification_text&&null!=justification_text&&justification_text.addEventListener("input",e)}),document.addEventListener("DOMContentLoaded",()=>{null!==document.getElementById("ccs_ca_menu_tabs_form_later")&&$("#ccs_da_menu_tabs_form_later").on("submit",e=>{const t=$(".error_check_weight"),r=$(".error_check_staff"),n=$(".error_check_vetting"),o=(t.length,[]),a=[],i=[],s=[];for(var l=1;l<t.length;l++){const e=document.getElementsByClassName("error_check_weight")[l-1];""!=e.value&&a.push(!0),e.value.includes(".")?(document.getElementsByClassName("weight_class")[l-1].classList.add("govuk-input--error"),document.getElementsByClassName("da_weight_class_error")[l-1].innerHTML="All entry boxes are integer numeric ",i.push(!0)):isNaN(e.value)&&""!==e.value?(document.getElementsByClassName("weight_class")[l-1].classList.add("govuk-input--error"),document.getElementsByClassName("da_weight_class_error")[l-1].innerHTML="Alphabetical value is entered. Please enter number <100 and >0",s.push(!0)):e.value>99&&""!=e.value?(document.getElementsByClassName("weight_class")[l-1].classList.add("govuk-input--error"),document.getElementsByClassName("da_weight_class_error")[l-1].innerHTML="Please enter number <100 and >0",o.push(!0)):e.value<=0&&""!==e.value?(document.getElementsByClassName("weight_class")[l-1].classList.add("govuk-input--error"),document.getElementsByClassName("da_weight_class_error")[l-1].innerHTML="Please enter number <100 and >0",o.push(!0)):(document.getElementsByClassName("weight_class")[l-1].classList.remove("govuk-input--error"),document.getElementsByClassName("da_weight_class_error")[l-1].innerHTML="")}for(l=1;l<r.length;l++){const e=document.getElementsByClassName("error_check_staff")[l-1];""!=e.value&&a.push(!0),e.value.includes(".")?(document.getElementsByClassName("weight_staff_class")[l-1].classList.add("govuk-input--error"),document.getElementsByClassName("da_weight_staff_class_error")[l-1].innerHTML="All entry boxes are integer numeric  ",i.push(!0)):isNaN(e.value)&&""!==e.value?(document.getElementsByClassName("weight_staff_class")[l-1].classList.add("govuk-input--error"),document.getElementsByClassName("da_weight_staff_class_error")[l-1].innerHTML="Alphabetical value is entered. Please enter number <100 and >0",s.push(!0)):e.value<=0&&""!==e.value?(document.getElementsByClassName("weight_staff_class")[l-1].classList.add("govuk-input--error"),document.getElementsByClassName("da_weight_staff_class_error")[l-1].innerHTML="Please enter number <100 and >0",o.push(!0)):(document.getElementsByClassName("weight_staff_class")[l-1].classList.remove("govuk-input--error"),document.getElementsByClassName("da_weight_staff_class_error")[l-1].innerHTML="")}for(l=1;l<n.length;l++){const e=document.getElementsByClassName("error_check_vetting")[l-1];""!=e.value&&a.push(!0),e.value.includes(".")?(document.getElementsByClassName("weight_vetting_class")[l-1].classList.add("govuk-input--error"),document.getElementsByClassName("da_weight_vetting_class_p_error")[l-1].innerHTML="All entry boxes are integer numeric  ",i.push(!0)):isNaN(e.value)&&""!==e.value?(document.getElementsByClassName("weight_vetting_class")[l-1].classList.add("govuk-input--error"),document.getElementsByClassName("ca_weight_vetting_class_p_error")[l-1].innerHTML="Alphabetical value is entered. Please enter number <100 and >0",s.push(!0)):e.value<=0&&""!==e.value?(document.getElementsByClassName("weight_vetting_class")[l-1].classList.add("govuk-input--error"),document.getElementsByClassName("da_weight_vetting_class_p_error")[l-1].innerHTML="Please enter number <100 and >0",o.push(!0)):(document.getElementsByClassName("weight_vetting_class")[l-1].classList.remove("govuk-input--error"),document.getElementsByClassName("da_weight_vetting_class_p_error")[l-1].innerHTML="")}switch(!0){case o.length>0&&i.length>0&&s.length>0:e.preventDefault(),$("#da_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#da_summary_list").html('<li><a href="#">The input field must be a number less than 100 and greater than 0</a></li><br><li><a href="#">The input field should not contain decimal values</a></li><br><li><a href="#">The input field must be a number</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;case o.length>0&&i.length>0:e.preventDefault(),$("#da_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#da_summary_list").html('<li><a href="#">The input field must be a number less than 100 and greater than 0</a></li><br><li><a href="#">The input field should not contain decimal values</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;case o.length>0&&s.length>0:e.preventDefault(),$("#da_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#da_summary_list").html('<li><a href="#">The input field must be a number less than 100 and greater than 0</a></li><br><li><a href="#">The input field must be a number</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;case i.length>0&&s.length>0:e.preventDefault(),$("#da_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#da_summary_list").html('<li><a href="#">The input field should not contain decimal values</a></li><br><li><a href="#">The input field must be a number</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;case o.length>0:e.preventDefault(),$("#da_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#da_summary_list").html('<li><a href="#">The input field must be a number less than 100 and greater than 0</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;case s.length>0:e.preventDefault(),$("#da_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#da_summary_list").html('<li><a href="#">The input field must be a number</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;case i.length>0:e.preventDefault(),$("#da_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#da_summary_list").html('<li><a href="#">The input field should not contain decimal values</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;default:console.log("If all else fails")}!a.length>0&&(e.preventDefault(),$("#ca_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#ca_summary_list").html("You must enter atleast on value"),$("html, body").animate({scrollTop:0},"fast"))})}),document.addEventListener("DOMContentLoaded",()=>{$("#ccs_da_menu_tabs_form_later").on("submit",e=>{const t=$(".error_check_weight"),r=$(".error_check_staff"),n=$(".error_check_vetting"),o=(t.length,document.querySelectorAll('[id^="da_weight_staff_"]')),a=(document.querySelectorAll('[id^="da_sfia_weight_vetting_"]'),document.querySelectorAll('[id^="da_weight_vetting_"]')),i=document.querySelectorAll('[id^="da_hidden_vetting"]'),s=[],l=[],c=[],u=[];var d=[];let m=0,g=0;for(var p=0;p<o.length;p++){let e=$(`#${o[p].id}`);null!=e.val()&&""!=e.val()&&(m+=Number(e.val()))}(m<100||m>100)&&(e.preventDefault(),$("#da_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#da_summary_list").html('<li><a href="#">The number of staff weightings for all Role Family entries must = 100%</a></li>'),$("html, body").animate({scrollTop:0},"fast"));for(p=0;p<a.length;p++){let e=$(`#${a[p].id}`);null!=e.val()&&""!=e.val()&&(g+=Number(e.val()))}(g<100||g>100)&&(e.preventDefault(),$("#da_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#da_summary_list").html('<li><a href="#">The vetting requirement weightings for all Role Family entries must = 100%</a></li>'),$("html, body").animate({scrollTop:0},"fast"));for(p=0;p<o.length;p++){let e=$(`#${o[p].id}`);if(null!=e.val()&&""!=e.val()){let e=$(`#${a[p].id}`);if(null!=e.val()&&""!=e.val()){let e=$(`#${i[p].id}`).val(),t=document.querySelectorAll('[id^="da_sfia_weight_vetting_"][id$='+e+"]"),r=!1;for(var f=0;f<t.length;f++){let e=$(`#${t[f].id}`);null!=e.val()&&""!=e.val()&&(r=!0)}0==r&&d.push(!0)}}}for(p=1;p<t.length;p++){const e=document.getElementsByClassName("error_check_weight")[p-1];""!=e.value&&l.push(!0),e.value.includes(".")?(document.getElementsByClassName("weight_class")[p-1].classList.add("govuk-input--error"),document.getElementsByClassName("da_weight_class_error")[p-1].innerHTML="All entry boxes are integer numeric ",c.push(!0)):isNaN(e.value)&&""!==e.value?(document.getElementsByClassName("weight_class")[p-1].classList.add("govuk-input--error"),document.getElementsByClassName("da_weight_class_error")[p-1].innerHTML="Alphabetical value is entered. Please enter number <100 and >0",u.push(!0)):e.value>99&&""!=e.value?(document.getElementsByClassName("weight_class")[p-1].classList.add("govuk-input--error"),document.getElementsByClassName("da_weight_class_error")[p-1].innerHTML="Please enter number <100 and >0",s.push(!0)):e.value<=0&&""!==e.value?(document.getElementsByClassName("weight_class")[p-1].classList.add("govuk-input--error"),document.getElementsByClassName("da_weight_class_error")[p-1].innerHTML="Please enter number <100 and >0",s.push(!0)):(document.getElementsByClassName("weight_class")[p-1].classList.remove("govuk-input--error"),document.getElementsByClassName("da_weight_class_error")[p-1].innerHTML="")}for(p=1;p<r.length;p++){const e=document.getElementsByClassName("error_check_staff")[p-1];""!=e.value&&l.push(!0),e.value.includes(".")?(document.getElementsByClassName("weight_staff_class")[p-1].classList.add("govuk-input--error"),document.getElementsByClassName("da_weight_staff_class_error")[p-1].innerHTML="All entry boxes are integer numeric  ",c.push(!0)):isNaN(e.value)&&""!==e.value?(document.getElementsByClassName("weight_staff_class")[p-1].classList.add("govuk-input--error"),document.getElementsByClassName("da_weight_staff_class_error")[p-1].innerHTML="Alphabetical value is entered. Please enter number <100 and >0",u.push(!0)):e.value<=0&&""!==e.value?(document.getElementsByClassName("weight_staff_class")[p-1].classList.add("govuk-input--error"),document.getElementsByClassName("da_weight_staff_class_error")[p-1].innerHTML="Please enter number <100 and >0",s.push(!0)):(document.getElementsByClassName("weight_staff_class")[p-1].classList.remove("govuk-input--error"),document.getElementsByClassName("da_weight_staff_class_error")[p-1].innerHTML="")}for(p=1;p<n.length;p++){const e=document.getElementsByClassName("error_check_vetting")[p-1];""!=e.value&&l.push(!0),e.value.includes(".")?(document.getElementsByClassName("weight_vetting_class")[p-1].classList.add("govuk-input--error"),document.getElementsByClassName("da_weight_vetting_class_p_error")[p-1].innerHTML="All entry boxes are integer numeric  ",c.push(!0)):isNaN(e.value)&&""!==e.value?(document.getElementsByClassName("weight_vetting_class")[p-1].classList.add("govuk-input--error"),document.getElementsByClassName("ca_weight_vetting_class_p_error")[p-1].innerHTML="Alphabetical value is entered. Please enter number <100 and >0",u.push(!0)):e.value<=0&&""!==e.value?(document.getElementsByClassName("weight_vetting_class")[p-1].classList.add("govuk-input--error"),document.getElementsByClassName("da_weight_vetting_class_p_error")[p-1].innerHTML="Please enter number <100 and >0",s.push(!0)):(document.getElementsByClassName("weight_vetting_class")[p-1].classList.remove("govuk-input--error"),document.getElementsByClassName("da_weight_vetting_class_p_error")[p-1].innerHTML="")}switch(!0){case s.length>0&&c.length>0&&u.length>0:e.preventDefault(),$("#da_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#da_summary_list").html('<li><a href="#">The input field must be a number less than 100 and greater than 0</a></li><br><li><a href="#">The input field should not contain decimal values</a></li><br><li><a href="#">The input field must be a number</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;case s.length>0&&c.length>0:e.preventDefault(),$("#da_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#da_summary_list").html('<li><a href="#">The input field must be a number less than 100 and greater than 0</a></li><br><li><a href="#">The input field should not contain decimal values</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;case s.length>0&&u.length>0:e.preventDefault(),$("#da_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#da_summary_list").html('<li><a href="#">The input field must be a number less than 100 and greater than 0</a></li><br><li><a href="#">The input field must be a number</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;case c.length>0&&u.length>0:e.preventDefault(),$("#da_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#da_summary_list").html('<li><a href="#">The input field should not contain decimal values</a></li><br><li><a href="#">The input field must be a number</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;case s.length>0:e.preventDefault(),$("#da_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#da_summary_list").html('<li><a href="#">The input field must be a number less than 100 and greater than 0</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;case u.length>0:e.preventDefault(),$("#da_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#da_summary_list").html('<li><a href="#">The input field must be a number</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;case c.length>0:e.preventDefault(),$("#da_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#da_summary_list").html('<li><a href="#">The input field should not contain decimal values</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;case d.length>0:e.preventDefault(),$("#da_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#da_summary_list").html('<li><a href="#">At least 1 DDaT role must be populated with a quantity value</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;default:console.log("If all else fails")}!l.length>0&&(e.preventDefault(),$("#ca_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#ca_summary_list").html("You must enter atleast on value"),$("html, body").animate({scrollTop:0},"fast"))})}),$("#ccs_collab_view").hide();let formURL="/eoi/get-collaborator-detail/js-enabled";$("#potential-collaborator").hide(),null!==document.getElementById("eoi_collaborators")&&document.getElementById("eoi_collaborators").addEventListener("change",function(){let e=this.value;if(""!==e){let t={eoi_collaborators:e};$.post(formURL,t,function(e){let{userName:t,firstName:r,lastName:n,tel:o}=e,a=r+" "+n,i=t;$("#potential-collaborator").show(),$("#eoi_show_collab_name").html(a),$("#eoi_show_collab_email").html(i),$("#eoi_show_collab-phone").html(o),$("#eoi_collaborator_append").val(i),$("#ccs_collab_add").prop("disabled",!1)}).fail(function(){console.log("failed")}).always(function(){console.log("finsihed")})}else $("#eoi_show_collab_name").html(""),$("#eoi_show_collab_email").html(""),$("#eoi_show_collab-phone").html(""),$("#ccs_collab_add").prop("disabled",!0)}),$(".add").addClass("ccs-dynaform-hidden"),$("#eoi_keyterm").length>0&&($(".eoi_form").attr("id","ccs_eoi_acronyms_form"),$(".eoi_form").attr("name","ccs_eoi_acronyms_form")),document.addEventListener("DOMContentLoaded",()=>{if(null!==document.getElementById("ccs_eoi_acronyms_form")){let r=20,n=0,o=0,a=document.querySelectorAll("a.del"),i=document.querySelectorAll("a.clear-fields");for(var e=20;e>1;e--){let t=document.querySelector(".acronym_"+e);""!==document.getElementById("eoi_term_"+e).value?20===e&&document.getElementById("ccs_eoiTerm_add").classList.add("ccs-dynaform-hidden"):(t.classList.add("ccs-dynaform-hidden"),r=e,o++)}if(document.getElementById("ccs_eoiTerm_add").classList.remove("ccs-dynaform-hidden"),0===o&&document.getElementById("ccs_eoiTerm_add").classList.add("ccs-dynaform-hidden"),document.getElementById("ccs_eoiTerm_add").addEventListener("click",e=>{$(".govuk-form-group textarea").removeClass("govuk-textarea--error"),checkFieldsEoi(),e.preventDefault(),0==(errorStore=emptyFieldCheckEoi("add_more")).length?(removeErrorFieldsEoi(),document.querySelector(".acronym_"+r).classList.remove("ccs-dynaform-hidden"),r>2&&(n=r-1),21===++r&&document.getElementById("ccs_eoiTerm_add").classList.add("ccs-dynaform-hidden")):ccsZPresentErrorSummary(errorStore)}),a.forEach(e=>{e.classList.remove("ccs-dynaform-hidden"),e.addEventListener("click",t=>{t.preventDefault();let n=e.href.replace(/^(.+\/)(\d{1,2})$/,"$2"),o=Number(n)-1,a=e.closest("fieldset"),i=a.nextElementSibling;if(console.log(`target: ${n}`),20!=n){let e=1,t=Number(n),r=Number(n),c=[];for(;i;){let n=i.classList;if(void 0!==Object.keys(n).find(e=>"closeCCS"===n[e])&&void 0===Object.keys(n).find(e=>"ccs-dynaform-hidden"===n[e])){let n=r;if(r+=1,c.push(r),1==e){console.log(`First: ${e} - ${t}`);var s=i.querySelector("[name='term']"),l=i.querySelector("[name='value']");console.log(s.value),console.log(l.value),document.getElementById("eoi_term_"+n).value=s.value,document.getElementById("eoi_term_definition_"+n).value=l.value}else{t+=1,console.log(`Usual: ${e} - ${t}`);s=i.querySelector("[name='term']"),l=i.querySelector("[name='value']");console.log(s.value),console.log(l.value),document.getElementById("eoi_term_"+t).value=s.value,document.getElementById("eoi_term_definition_"+t).value=l.value}console.log(i.classList),i=i.nextElementSibling}else i=!1;e++}if(c.length>0){console.log(c);let e=c.at(-1);console.log(`removeLogic: ${e}`),document.getElementById("eoi_term_"+e).value="",document.getElementById("eoi_term_"+e).dispatchEvent(new Event("keyup")),document.getElementById("eoi_term_definition_"+e).value="",document.getElementById("eoi_term_definition_"+e).dispatchEvent(new Event("keyup")),document.getElementById("eoi_term_"+e).closest("fieldset").classList.add("ccs-dynaform-hidden")}else a.classList.add("ccs-dynaform-hidden"),document.getElementById("eoi_term_"+n).value="",document.getElementById("eoi_term_"+n).dispatchEvent(new Event("keyup")),document.getElementById("eoi_term_definition_"+n).value="",document.getElementById("eoi_term_definition_"+n).dispatchEvent(new Event("keyup")),o>1&&document.querySelector(".acronym_"+o+" a.del").classList.remove("ccs-dynaform-hidden"),document.getElementById("ccs_eoiTerm_add").classList.remove("ccs-dynaform-hidden")}else a.classList.add("ccs-dynaform-hidden"),document.getElementById("eoi_term_"+n).value="",document.getElementById("eoi_term_"+n).dispatchEvent(new Event("keyup")),document.getElementById("eoi_term_definition_"+n).value="",document.getElementById("eoi_term_definition_"+n).dispatchEvent(new Event("keyup")),o>1&&document.querySelector(".acronym_"+o+" a.del").classList.remove("ccs-dynaform-hidden"),document.getElementById("ccs_eoiTerm_add").classList.remove("ccs-dynaform-hidden");21!=--r&&document.getElementById("ccs_eoiTerm_add").classList.remove("ccs-dynaform-hidden")})}),i.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();let r=e.href.replace(/^(.+\/)(\d{1,2})$/,"$2");e.closest("fieldset").classList.add("ccs-dynaform"),document.getElementById("eoi_term_"+r).value="",document.getElementById("eoi_term_definition_"+r).value="",removeErrorFieldsEoi()})}),document.getElementsByClassName("term_acronym_fieldset").length>0){let e=document.getElementsByClassName("term_acronym_fieldset"),r=e.length;for(;r--;){let n=r+1;e[r].querySelector("#eoi_term_"+n).addEventListener("focusout",e=>{let r=e.target,o="eoi_term_definition_"+n,a=document.getElementById(o);t(r,a)}),e[r].querySelector("#eoi_term_definition_"+n).addEventListener("focusout",e=>{let r=e.target,o="eoi_term_"+n,a=document.getElementById(o);t(a,r)});var t=function(e,t){if(""!==e.value&&""!==t.value){let e=document.getElementById("ccs_eoi_acronyms_form").getAttribute("action");e+="&stop_page_navigate=true",$.ajax({type:"POST",url:e,data:$("#ccs_eoi_acronyms_form").serialize(),success:function(){}})}}}}}});const checkFieldsEoi=()=>{for(var e=1;e<=20;e++){let t=$(`#eoi_term_${e}`),r=$(`#eoi_term_definition_${e}`);""!==t.val()&&($(`#eoi_term_${e}-error`).remove(),$(`.acronym_${e} div`).removeClass("govuk-form-group--error"),$(`.acronym_${e} input`).removeClass("govuk-input--error")),""!==r.val()&&($(`#eoi_term_definition_${e}-error`).remove(),$(`.acronym_${e} div`).removeClass("govuk-form-group--error"),$(`.acronym_${e} textarea`).removeClass("govuk-input--error"),$(`.acronym_${e} textarea`).removeClass("govuk-textarea--error"))}},removeErrorFieldsEoi=()=>{$(".govuk-error-message").remove(),$(".govuk-form-group--error").removeClass("govuk-form-group--error"),$(".govuk-error-summary").remove(),$(".govuk-input").removeClass("govuk-input--error"),$(".govuk-form-group textarea").removeClass("govuk-textarea--error")},emptyFieldCheckEoi=(e="")=>{let t="",r=[];for(var n=1;n<21;n++){let o=document.getElementById("eoi_term_"+n),a=document.getElementById("eoi_term_definition_"+n);-1===o.closest("fieldset").classList.value.indexOf("ccs-dynaform-hidden")&&(checkFieldsEoi(),""==o.value.trim()&&""==a.value.trim()&&"add_more"==e&&(ccsZaddErrorMessage(o,"Enter a term or acronym"),ccsZaddErrorMessage(a,"Enter a definition for the term or acronym"),t=[o,"Enter a term or acronym"],r.push(t),t=[a,"Enter a definition for the term or acronym"],r.push(t)),""!==o.value.trim()&&""===a.value.trim()&&(ccsZaddErrorMessage(a,"Enter a definition for the term or acronym"),t=[a.id,"Enter a definition for the term or acronym"],r.push(t)),""===o.value.trim()&&""!==a.value.trim()&&(ccsZaddErrorMessage(o,"Enter a term or acronym"),t=[o.id,"Enter a term or acronym"],r.push(t)))}return r},ccsZvalidateEoiAcronyms=e=>{e.preventDefault(),0===(errorStore=emptyFieldCheckEoi()).length?document.forms.ccs_eoi_acronyms_form.submit():ccsZPresentErrorSummary(errorStore)};document.addEventListener("DOMContentLoaded",()=>{if(null!==document.getElementById("ccs_eoi_confid_form")){if("Request for Information"===document.getElementById("event_type_label").value)document.querySelectorAll(".govuk-label").forEach(e=>{let t=e.innerHTML.replace("requirement","requirement (optional)");e.innerHTML=t});let t=6,r=0,n=document.querySelectorAll("a.del");for(var e=6;e>1;e--){let r=document.getElementById("eoi_confid_"+e);if(""!==r.value)r.classList.remove("ccs-dynaform-hidden"),6===e&&document.getElementById("ccs_eoi_criteria_add").classList.add("ccs-dynaform-hidden");else{document.querySelector("label[for='eoi_confid_"+e+"']").classList.add("ccs-dynaform-hidden"),t=e}}document.getElementById("ccs_eoi_confid_add").addEventListener("click",e=>{e.preventDefault(),document.getElementById("eoi_confid_"+t).classList.remove("ccs-dynaform-hidden"),document.querySelector("label[for='eoi_confid_"+t+"']").classList.remove("ccs-dynaform-hidden"),t>2&&(r=t-1,document.querySelector("label[for='eoi_confid_"+r+"'] a.del").classList.add("ccs-dynaform-hidden")),7===++t&&document.getElementById("ccs_eoi_confid_add").classList.add("ccs-dynaform-hidden")}),n.forEach(e=>{e.addEventListener("click",r=>{r.preventDefault();let n=e.href.replace(/^(.+\/)(\d{1,2})$/,"$2"),o=Number(n)-1;document.getElementById("eoi_confid_"+n).value="",document.getElementById("eoi_confid_"+n).classList.add("ccs-dynaform-hidden"),document.getElementById("eoi_confid_"+n+"-error").parentNode.removeChild(document.getElementById("eoi_confid_"+n+"-error")),document.querySelector("label[for='eoi_confid_"+n+"']").classList.add("ccs-dynaform-hidden"),o>1&&document.querySelector("label[for='eoi_confid_"+o+"'] a.del").classList.remove("ccs-dynaform-hidden"),document.getElementById("ccs_eoi_confid_add").classList.remove("ccs-dynaform-hidden"),t--})})}});const ccsZvalidateEoiConf=e=>{e.preventDefault();let t="",r=[];if("Request for Information"!==document.getElementById("event_type_label").value){!0!==(t=ccsZvalidateWithRegex("eoi_confid_1","Enter confidentiality requirement "+n,/\w+/))&&r.push(t);for(var n=2;n<7;n++)document.getElementById("eoi_confid_"+n).classList.contains("ccs-dynaform-hidden")||!0!==(t=ccsZvalidateWithRegex("eoi_confid_"+n,"Enter confidentiality requirement "+n,/\w+/))&&r.push(t)}0===r.length?document.forms.ccs_eoi_confid_form.submit():ccsZPresentErrorSummary(r)};document.addEventListener("DOMContentLoaded",()=>{if(null!==document.getElementById("ccs_eoi_criteria_form")){if("Request for Information"===document.getElementById("event_type_label").value)document.querySelectorAll(".govuk-label").forEach(e=>{let t=e.innerHTML.replace("requirement","requirement (optional)");e.innerHTML=t});let t=6,r=0,n=document.querySelectorAll("a.del");for(var e=6;e>1;e--){let r=document.getElementById("eoi_eval_criterion_"+e);if(""!==r.value)r.classList.remove("ccs-dynaform-hidden"),6===e&&document.getElementById("ccs_eoi_criteria_add").classList.add("ccs-dynaform-hidden");else{document.querySelector("label[for='eoi_eval_criterion_"+e+"']").classList.add("ccs-dynaform-hidden"),t=e}}document.getElementById("ccs_eoi_criteria_add").addEventListener("click",e=>{e.preventDefault(),document.getElementById("eoi_eval_criterion_"+t).classList.remove("ccs-dynaform-hidden"),document.querySelector("label[for='eoi_eval_criterion_"+t+"']").classList.remove("ccs-dynaform-hidden"),t>2&&(r=t-1,document.querySelector("label[for='eoi_eval_criterion_"+r+"'] a.del").classList.add("ccs-dynaform-hidden")),7===++t&&document.getElementById("ccs_eoi_criteria_add").classList.add("ccs-dynaform-hidden")}),n.forEach(e=>{e.addEventListener("click",r=>{r.preventDefault();let n=e.href.replace(/^(.+\/)(\d{1,2})$/,"$2"),o=Number(n)-1;document.getElementById("eoi_eval_criterion_"+n).value="",document.getElementById("eoi_eval_criterion_"+n).classList.add("ccs-dynaform-hidden"),document.getElementById("eoi_eval_criterion_"+n+"-error").parentNode.removeChild(document.getElementById("eoi_eval_criterion_"+n+"-error")),document.querySelector("label[for='eoi_eval_criterion_"+n+"']").classList.add("ccs-dynaform-hidden"),o>1&&document.querySelector("label[for='eoi_eval_criterion_"+o+"'] a.del").classList.remove("ccs-dynaform-hidden"),document.getElementById("ccs_eoi_criteria_add").classList.remove("ccs-dynaform-hidden"),t--})})}});const ccsZvalidateEoiCriteria=e=>{e.preventDefault();let t="",r=[];if("Request for Information"!==document.getElementById("event_type_label").value){!0!==(t=ccsZvalidateWithRegex("eoi_eval_criterion_1","Enter evaluation criterion "+n,/\w+/))&&r.push(t);for(var n=2;n<7;n++)document.getElementById("eoi_eval_criterion_"+n).classList.contains("ccs-dynaform-hidden")||!0!==(t=ccsZvalidateWithRegex("eoi_eval_criterion_"+n,"Enter evaluation criterion "+n,/\w+/))&&r.push(t)}0===r.length?document.forms.ccs_eoi_criteria_form.submit():ccsZPresentErrorSummary(r)},DaySelector=$("#eoi_resource_start_date-day"),MonthSelector=$("#eoi_resource_start_date-month"),YearSelector=$("#eoi_resource_start_date-year");DaySelector.on("keydown",e=>{"."!==e.key&&69!==e.keyCode&&189!==e.keyCode&&109!==e.keyCode||e.preventDefault()}),MonthSelector.on("keydown",e=>{"."!==e.key&&69!==e.keyCode&&189!==e.keyCode&&109!==e.keyCode||e.preventDefault()}),YearSelector.on("keydown",e=>{"."!==e.key&&69!==e.keyCode&&189!==e.keyCode&&109!==e.keyCode||e.preventDefault()});let agreementData,eoiDurationField=$(".eoi_duration");eoiDurationField.on("keydown",e=>{"."!==e.key&&69!==e.keyCode&&189!==e.keyCode&&109!==e.keyCode||e.preventDefault()}),$(".agreement_no").attr("id")&&(agreementData=$(".agreement_no").attr("id").split("-"));let expiryYears=null,expiryMonth=null,expiryDate=null;null!=agreementData&&agreementData.length>0&&(expiryYears=Number(agreementData[0]),expiryMonth=Number(agreementData[1]),expiryDate=Number(agreementData[2]));const ExpiryDates=new Date(expiryYears,expiryMonth-1,expiryDate),getMSOfExpiryDate=ExpiryDates.getTime();DaySelector.on("blur",()=>{DateCheck(),MonthCheck()}),MonthSelector.on("blur",()=>{DateCheck(),MonthCheck()}),YearSelector.on("blur",()=>{DateCheck(),MonthCheck(),YearCheck()});const DateCheck=()=>{const e=DaySelector.val();e>31||e<0?(DaySelector.addClass("govuk-form-group--error"),$(".durations").addClass("govuk-form-group--error"),$("#event-name-error-date").html("Enter a valid date")):(DaySelector.removeClass("govuk-form-group--error"),$(".durations").removeClass("govuk-form-group--error"),$("#event-name-error-date").html(""))},MonthCheck=()=>{const e=MonthSelector.val();e>12||e<0?(MonthSelector.addClass("govuk-form-group--error"),$(".durations").addClass("govuk-form-group--error"),$("#event-name-error-month").html("Enter a valid month")):(MonthSelector.removeClass("govuk-form-group--error"),$(".durations").removeClass("govuk-form-group--error"),$("#event-name-error-month").html(""))};$(".startdateyearlimitEoi").keyup(function(e){var t=$(this).val().length;$(this).val();e.which;if(t>=4)return!1}),$(".startdateyearlimitEoi").keypress(function(e){var t=$(this).val().length;$(this).val();e.which;if(t>=4)return!1});const currentYearDate=new Date,currentYear=currentYearDate.getFullYear(),YearCheck=()=>{const e=YearSelector.val();let t=!YearSelector.val().match(/^\d{4}$/);e<1||t?(YearSelector.addClass("govuk-form-group--error"),$(".durations").addClass("govuk-form-group--error"),$("#event-name-error-year").html("Enter a year using the YYYY format")):(YearSelector.removeClass("govuk-form-group--error"),$(".durations").removeClass("govuk-form-group--error"),$("#event-name-error-year").html(""))},projectYears=$("#eoi_duration-years"),projectMonths=$("#eoi_duration-months"),projectDays=$("#eoi_duration-days");projectYears.on("blur",()=>{projectYears.val()<0?(projectYears.addClass("govuk-form-group--error"),$(".p_durations").addClass("govuk-form-group--error"),$("#eoi-event-name-error-pdate").html("Enter a valid year")):(projectYears.removeClass("govuk-form-group--error"),$(".p_durations").removeClass("govuk-form-group--error"),$("#eoi-event-name-error-pdate").html(""))}),projectMonths.on("blur",()=>{projectMonths.val()<0?(projectMonths.addClass("govuk-form-group--error"),$(".p_durations").addClass("govuk-form-group--error"),$("#eoi-event-name-error-pdate").html("Enter a valid month")):(projectMonths.removeClass("govuk-form-group--error"),$(".p_durations").removeClass("govuk-form-group--error"),$("#eoi-event-name-error-pdate").html(""))}),projectDays.on("blur",()=>{projectDays.val()<0?(projectDays.addClass("govuk-form-group--error"),$(".p_durations").addClass("govuk-form-group--error"),$("#eoi-event-name-error-pdate").html("Enter a valid date")):(projectDays.removeClass("govuk-form-group--error"),$(".p_durations").removeClass("govuk-form-group--error"),$("#eoi-event-name-error-pdate").html(""))}),$(".save-button").on("click",e=>{if(null!=document.getElementById("eoi_resource_start_date-day")){e.preventDefault();const t=$("#eoi_resource_start_date-day").val(),r=$("#eoi_resource_start_date-month").val(),n=$("#eoi_resource_start_date-year").val(),o=new Date(n,r-1,t).getTime(),a=new Date;DaySelector.removeClass("govuk-form-group--error"),MonthSelector.removeClass("govuk-form-group--error"),YearSelector.removeClass("govuk-form-group--error"),$(".durations").removeClass("govuk-form-group--error"),$("#event-name-error-date").html(""),$("#event-name-error-month").html(""),$("#event-name-error-year").html(""),ccsZPresentErrorSummary();const i=YearSelector.val();let s=!YearSelector.val().match(/^\d{4}$/);if(""==t&&""==r&&""==n){const e=[["eoi_resource_start_date","Enter a project start date"]];DaySelector.addClass("govuk-form-group--error"),$(".durations").addClass("govuk-form-group--error"),$("#event-name-error-date").html("Enter a project start date"),ccsZPresentErrorSummary(e)}else if(""==t&&""!=r&&""!=n){const e=[["eoi_resource_start_date","Enter a project start day"]];DaySelector.addClass("govuk-form-group--error"),$(".durations").addClass("govuk-form-group--error"),$("#event-name-error-date").html("Enter a project start day"),ccsZPresentErrorSummary(e)}else if(""!=t&&""==r&&""!=n){const e=[["eoi_resource_start_date-month","Enter a project start month"]];MonthSelector.addClass("govuk-form-group--error"),$(".durations").addClass("govuk-form-group--error"),$("#event-name-error-month").html("Enter a project start month"),ccsZPresentErrorSummary(e)}else if(""!=t&&""!=r&&""==n){const e=[["eoi_resource_start_date-year","Enter a project start year"]];YearSelector.addClass("govuk-form-group--error"),$(".durations").addClass("govuk-form-group--error"),$("#event-name-error-year").html("Enter a project start year"),ccsZPresentErrorSummary(e)}else if(""!=t&&""==r&&""==n){const e=[["eoi_resource_start_date-month","Enter a project start month and year"]];MonthSelector.addClass("govuk-form-group--error"),$(".durations").addClass("govuk-form-group--error"),$("#event-name-error-month").html("Enter a project start month and year"),ccsZPresentErrorSummary(e)}else if(""==t&&""!=r&&""==n){const e=[["eoi_resource_start_date","Enter a project start day and year"]];DaySelector.addClass("govuk-form-group--error"),$(".durations").addClass("govuk-form-group--error"),$("#event-name-error-date").html("Enter a project start day and year"),ccsZPresentErrorSummary(e)}else if(""==t&&""==r&&""!=n){const e=[["eoi_resource_start_date","Enter a project start day and month"]];DaySelector.addClass("govuk-form-group--error"),$(".durations").addClass("govuk-form-group--error"),$("#event-name-error-date").html("Enter a project start day and month"),ccsZPresentErrorSummary(e)}else if(i<1||s){const e=[["eoi_resource_start_date-year","Enter a year using the YYYY format"]];DaySelector.addClass("govuk-form-group--error"),MonthSelector.addClass("govuk-form-group--error"),YearSelector.addClass("govuk-form-group--error"),$(".durations").addClass("govuk-form-group--error"),$("#event-name-error-year").html("Enter a year using the YYYY format"),ccsZPresentErrorSummary(e)}else if(o<a.getTime()){$("#event-name-error-year").html("Enter a project start date in the future"),DaySelector.addClass("govuk-form-group--error"),MonthSelector.addClass("govuk-form-group--error"),YearSelector.addClass("govuk-form-group--error"),$(".durations").addClass("govuk-form-group--error"),ccsZPresentErrorSummary([["eoi_resource_start_date","Enter a project start date in the future"]])}else document.forms.ccs_eoi_date_form.submit();null!=document.forms.ccs_eoi_date_form&&document.forms.ccs_eoi_date_form}});const ccsZvalidateEoiDate=e=>{e.preventDefault();let t="",r=[];let n="";if(n=getDate(document.getElementById("eoi_resource_start_date-day"),document.getElementById("eoi_resource_start_date-month"),document.getElementById("eoi_resource_start_date-year"),n),null!=document.getElementById("eoi_resource_start_date-day")&&null!=document.getElementById("eoi_resource_start_date-day")&&0===document.getElementById("eoi_resource_start_date-day").value.trim().length&&!0!==(t=ccsZvalidateWithRegex("eoi_resource_start_date-day","Enter a day",/^\d{1,}$/))&&r.push(t),null!=document.getElementById("eoi_resource_start_date-month")&&null!=document.getElementById("eoi_resource_start_date-month")&&0===document.getElementById("eoi_resource_start_date-month").value.trim().length&&!0!==(t=ccsZvalidateWithRegex("eoi_resource_start_date-month","Enter a month",/^\d{1,}$/))&&r.push(t),null!=document.getElementById("eoi_resource_start_date-year")&&null!=document.getElementById("eoi_resource_start_date-year")&&0===document.getElementById("eoi_resource_start_date-year").value.trim().length&&!0!==(t=ccsZvalidateWithRegex("eoi_resource_start_date-year","Enter a year",/^\d{1,}$/))&&r.push(t),null!=document.getElementById("eoi_resource_start_date-year")&&null!=document.getElementById("eoi_resource_start_date-year")&&document.getElementById("eoi_resource_start_date-year").value.trim().length<4&&!0!==(t=ccsZvalidateWithRegex("eoi_resource_start_date-year","The date format should be YYYY",/^\d{4,}$/))&&r.push(t),null!=document.getElementById("eoi_resource_start_date-year")&&null!=document.getElementById("eoi_resource_start_date-year")&&4===document.getElementById("eoi_resource_start_date-year").value.trim().length)if(!0!==(t=ccsZvalidateThisDate("eoi_resource_start_date","Start date must be a valid future date",1,0)))r.push(t);else{let e;$(".agreement_no").attr("id")&&(e=$(".agreement_no").attr("id").split("-"));let a=null,i=null,s=null;null!=e&&e.length>0&&(a=Number(e[0]),i=Number(e[1]),s=Number(e[2]));var o=a+","+i+","+s;null!=(t=null!=o?isValidEoiStartDateForSelectedLot(n,o):null)&&!0!==t&&(ccsZaddErrorMessage(document.getElementById("eoi_resource_start_date"),"It is recommended that your project does not start after lot expiry date"),r.push(["eoi_resource_start_date","It is recommended that your project does not start after lot expiry date"]))}0===r.length&&null!=document.forms.ccs_eoi_date_form&&null!=document.forms.ccs_eoi_date_form&&document.forms.ccs_eoi_date_form.length>0?document.forms.ccs_eoi_date_form.submit():ccsZPresentErrorSummary(r)};function getDate(e,t,r,n){if(null!=e&&null!=e&&e.value.match(/^\d\d?$/)&&t.value.match(/^\d\d?$/)&&r.value.match(/^\d{4}$/)){let o=e.value,a=t.value;null!=o&&null!=o&&o<10&&!o.match(/^0\d$/)&&(o="0"+o),null!=a&&null!=a&&a<10&&!a.match(/^0\d$/)&&(a="0"+a),n=new Date(r.value+"-"+a+"-"+o+"T00:00:00").getTime()}return n}function isValidEoiStartDateForSelectedLot(e,t){return null!=e&&null!=e&&e<=new Date(t)}const setInputFilter=(e,t)=>{null!=e&&null!=e&&["input","keydown","keyup","mousedown","mouseup","select","contextmenu","drop"].forEach(function(r){e.addEventListener(r,function(){t(this.value)?(this.oldValue=this.value,this.oldSelectionStart=this.selectionStart,this.oldSelectionEnd=this.selectionEnd):this.hasOwnProperty("oldValue")?(this.value=this.oldValue,this.setSelectionRange(this.oldSelectionStart,this.oldSelectionEnd)):this.value=""})})};document.addEventListener("DOMContentLoaded",()=>{if(null!==document.getElementById("ccs_eoi_procurement_lead")){document.getElementById("ccs_eoi_procurement_lead").addEventListener("change",function(t){t.preventDefault(),$.ajax({url:"/rfi/users-procurement-lead?id="+t.target.value,type:"GET",contentType:"application/json"}).done(function(t){e(t)}).fail(e=>{document.getElementById("eoi-lead-email").innerText="",document.getElementById("eoi-lead-telephone").innerText=""})});const e=e=>{document.getElementById("eoi-lead-email").innerText=e.userName,document.getElementById("eoi-lead-telephone").innerText="1",document.getElementById("eoi_procurement_lead_input").value=e.userName}}}),$(".add").addClass("ccs-dynaform-hidden"),document.addEventListener("DOMContentLoaded",()=>{if(null!==document.getElementById("ccs_eoi_questions_form")){const r=window.location.search;new URLSearchParams(r);let n=10,o=0,a=0,i=document.querySelectorAll("a.del");for(var e=10;e>1;e--){let t=document.getElementById("eoi_question_"+e);""!==t.value?(t.classList.remove("ccs-dynaform-hidden"),10===e&&document.getElementById("ccs_criteria_add").classList.add("ccs-dynaform-hidden")):(document.querySelector("#fc_question_"+e).classList.add("ccs-dynaform-hidden"),document.getElementById("eoi_question_"+e+"-info").classList.add("ccs-dynaform-hidden"),a++,n=e)}document.getElementById("ccs_criteria_add").classList.remove("ccs-dynaform-hidden"),0===a&&document.getElementById("ccs_criteria_add").classList.add("ccs-dynaform-hidden"),document.getElementById("ccs_criteria_add").addEventListener("click",e=>{e.preventDefault(),$(".govuk-error-summary").remove(),0==(errorStore=t()).length?(document.getElementById("eoi_question_"+n).classList.remove("ccs-dynaform-hidden"),document.querySelector("#fc_question_"+n).classList.remove("ccs-dynaform-hidden"),document.querySelector("label[for=eoi_question_"+n+"]").classList.remove("ccs-dynaform-hidden"),document.getElementById("eoi_question_"+n+"-info").classList.remove("ccs-dynaform-hidden"),n>2&&(o=n-1),11===++n&&document.getElementById("ccs_criteria_add").classList.add("ccs-dynaform-hidden")):ccsZPresentErrorSummary(errorStore)}),i.forEach(e=>{e.classList.remove("ccs-dynaform-hidden"),e.addEventListener("click",t=>{$(".govuk-error-message").html(""),t.preventDefault(),console.log("e.target.href",t.target.href);let r=t.target.href.replace(/^(.+\/)(\d{1,2})$/,"$2"),o=Number(r)-1,a=e.closest("div"),i=a.nextElementSibling,s=Number(r),l=Number(r);if(20!=r){let e=1,t=[];for(;i;){let r=i.classList;if(void 0!==Object.keys(r).find(e=>"closeCCS"===r[e])&&void 0===Object.keys(r).find(e=>"ccs-dynaform-hidden"===r[e])){let r=l;l+=1,t.push(l),1==e?(console.log(`First: ${e} - ${s}`),console.log("nextLevel_coll",l),console.log("current_col",r),first=document.getElementById("eoi_question_"+l).value,console.log("first",first),document.getElementById("eoi_question_"+r).value=first):(s+=1,first=document.getElementById("eoi_question_"+l).value,console.log("first",first),document.getElementById("eoi_question_"+r).value=first),console.log(i.classList),i=i.nextElementSibling}else i=!1;e++}if(t.length>0){console.log(t);let e=t.at(-1);console.log(`removeLogic: ${e}`),document.getElementById("eoi_question_"+e).value="",document.getElementById("eoi_question_"+e).dispatchEvent(new Event("keyup")),document.getElementById("fc_question_"+e).closest("div").classList.add("ccs-dynaform-hidden")}else a.classList.add("ccs-dynaform-hidden"),document.getElementById("eoi_question_"+r).value="",document.getElementById("eoi_question_"+r).dispatchEvent(new Event("keyup")),o>1&&document.querySelector("#fc_question_"+s).classList.add("ccs-dynaform-hidden"),document.getElementById("ccs_criteria_add").classList.remove("ccs-dynaform-hidden")}else a.classList.add("ccs-dynaform-hidden"),document.getElementById("eoi_question_"+r).value="",document.getElementById("eoi_question_"+r).dispatchEvent(new Event("keyup")),o>1&&document.querySelector("#main_eoi_question_"+s).classList.add("ccs-dynaform-hidden"),document.getElementById("ccs_criteria_add").classList.remove("ccs-dynaform-hidden");21!=--n&&document.getElementById("ccs_criteria_add").classList.remove("ccs-dynaform-hidden")})});let s=11;for(;--s;){document.querySelector("#eoi_question_"+s).addEventListener("focusout",e=>{if(""!==e.target.value){let e=document.getElementById("ccs_eoi_questions_form").getAttribute("action");e+="&stop_page_navigate=true",$.ajax({type:"POST",url:e,data:$("#ccs_eoi_questions_form").serialize(),success:function(){}})}})}}const t=()=>{var e=["","first ","second ","third ","fourth ","fifth ","sixth","seventh ","eighth ","nineth ","tenth"];let t="",r=[],n="";n=$("#page-heading").text().includes("Project scope")?"You must type first project scope before you can add another":"Enter an objective before attempting to add another",!0!==(t=ccsZvalidateWithRegex("eoi_question_1",n,/\w+/))&&r.push(t);for(var o=2;o<11;o++)document.getElementById("fc_question_"+o).classList.contains("ccs-dynaform-hidden")||($("#page-heading").text().includes("Project scope")&&(n=`You must type ${e[o]} project scope before you can add another`),!0!==(t=ccsZvalidateWithRegex("eoi_question_"+o,n,/\w+/))&&r.push(t));return r}});const emptyObjectiveFieldCheckForSave=()=>{let e="",t=[];return $("#page-heading").text().includes("Project objectives")&&(e="RM6187"==urlParams.get("agreement_id")?ccsZvalidateWithRegex("eoi_question_1","Enter at least 1 project objective",/\w+/):ccsZvalidateWithRegex("eoi_question_1","You must add at least one objective",/\w+/)),!0!==e&&$("#page-heading").text().includes("Project objectives")&&t.push(e),t},ccsZvalidateEoIQuestions=e=>{e.preventDefault(),0===(errorStore=emptyObjectiveFieldCheckForSave()).length?document.forms.ccs_eoi_questions_form.submit():ccsZPresentErrorSummary(errorStore)};$(".add").addClass("ccs-dynaform-hidden");const eoi_totalElementSelectors=Array.from(Array(6).keys()).slice(1);for(const e of eoi_totalElementSelectors){let t=$("#eoi_clarification_date_expanded_"+e);0===t.length&&(t=$("#eoi_clarification_date_expanded_"+e)),t.fadeOut()}for(const e of eoi_totalElementSelectors){let t="#cancel_change_clarification_date_"+e,r=$("#change_clarification_date_"+e),n=$(t);r.fadeIn(),n.fadeIn(),r.on("click",t=>{localStorage.removeItem("dateItem"),localStorage.setItem("dateItem",r.selector);let n=$("#eoi_clarification_date_expanded_"+e);0===n.length&&(n=$("#eoi_clarification_date_expanded_"+e)),$(".eoi_hideFirst:visible").length&&($(".eoi_hideFirst").hide(),$(".change").show()),n.fadeIn(),r.hide(),saveButtonHideDateEoi()});var errorSelectorId="";$("#click-error").on("click",()=>{let t=localStorage.getItem("dateItem");if(null!=t){let n,o=t.slice(1),a=$(t);r.selector===a.selector?((a=$("#eoi_clarification_date_expanded_"+e)).fadeIn(),r.hide()):(a.hide(),r.fadeIn()),document.getElementById("agreementID")&&(n=document.getElementById("agreementID").value),"RM1043.8"!=n&&"RM1557.13"!=n&&ccsZaddErrorMessage(document.getElementById(o),"You can not set a date and time that is earlier than the previous milestone in the timeline")}})}for(const e of eoi_totalElementSelectors){$("#cancel_change_clarification_date_"+e).on("click",()=>{$(`#clarification_date-day_${e}`).val(""),$(`#clarification_date-month_${e}`).val(""),$(`#clarification_date-year_${e}`).val(""),$(`#clarification_date-hour_${e}`).val(""),$(`#clarification_date-minute_${e}`).val("");let t="#eoi_clarification_date_expanded_"+e,r=$(t);if(0===r.length&&(t="#eoi_clarification_date_expanded_"+e,r=$(t)),r.fadeOut(),ccsZremoveErrorMessage(document.getElementById(t.slice(1))),errorSelectorId===t)for(let e of totalElementSelectors){$("#change_clarification_date_"+e).show()}else{$("#change_clarification_date_"+e).show()}saveButtonUnHideDateEoi()})}const saveButtonHideDateEoi=()=>{document.getElementById("hideMeWhileDateChange").disabled=!0},saveButtonUnHideDateEoi=()=>{document.getElementById("hideMeWhileDateChange").disabled=!1};$("#eoi_splterm").length>0&&($(".eoi_form").attr("id","ccs_eoi_splterms_form"),$(".eoi_form").attr("name","ccs_eoi_splterms_form")),document.addEventListener("DOMContentLoaded",()=>{if(null!==document.getElementById("ccs_eoi_splterms_form")){let n=10,o=0,a=0,i=document.querySelectorAll("a.del"),s=document.querySelectorAll("a.clear-fields");for(var e=10;e>1;e--){let t=document.querySelector(".splterm_"+e);""!==document.getElementById("eoi_splterm_"+e).value?(t.classList.remove("ccs-dynaform-hidden"),10===e&&document.getElementById("ccs_eoisplTerm_add").classList.add("ccs-dynaform-hidden")):(t.classList.add("ccs-dynaform-hidden"),n=e,a++)}if(document.getElementById("ccs_eoisplTerm_add").classList.remove("ccs-dynaform-hidden"),0===a&&document.getElementById("ccs_eoisplTerm_add").classList.add("ccs-dynaform-hidden"),document.getElementById("ccs_eoisplTerm_add").addEventListener("click",e=>{$(".govuk-form-group textarea").removeClass("govuk-textarea--error"),checkFieldsEoiTerms(),e.preventDefault(),0==(errorStore=emptyFieldCheckEoiTerms("add_more")).length?(removeErrorFieldsEoiTerms(),document.querySelector(".splterm_"+n).classList.remove("ccs-dynaform-hidden"),n>2&&(o=n-1),11===++n&&document.getElementById("ccs_eoisplTerm_add").classList.add("ccs-dynaform-hidden")):ccsZPresentErrorSummary(errorStore)}),i.forEach(e=>{e.classList.remove("ccs-dynaform-hidden"),e.addEventListener("click",t=>{t.preventDefault();let r=e.href.replace(/^(.+\/)(\d{1,2})$/,"$2"),o=Number(r)-1,a=e.closest("fieldset"),i=a.nextElementSibling;if(console.log(`target: ${r}`),20!=r){let e=1,t=Number(r),n=Number(r),l=[];for(;i;){let r=i.classList;if(void 0!==Object.keys(r).find(e=>"closeCCS"===r[e])&&void 0===Object.keys(r).find(e=>"ccs-dynaform-hidden"===r[e])){let r=n;if(n+=1,l.push(n),1==e){console.log(`First: ${e} - ${t}`);var s=i.querySelector("[name='term']");document.getElementById("eoi_splterm_"+r).value=s.value}else{t+=1,console.log(`Usual: ${e} - ${t}`);s=i.querySelector("[name='term']");document.getElementById("eoi_splterm_"+t).value=s.value}console.log(i.classList),i=i.nextElementSibling}else i=!1;e++}if(l.length>0){console.log(l);let e=l.at(-1);console.log(`removeLogic: ${e}`),document.getElementById("eoi_splterm_"+e).value="",document.getElementById("eoi_splterm_"+e).dispatchEvent(new Event("keyup")),document.getElementById("eoi_splterm_"+e).closest("fieldset").classList.add("ccs-dynaform-hidden")}else a.classList.add("ccs-dynaform-hidden"),document.getElementById("eoi_splterm_"+r).value="",document.getElementById("eoi_splterm_"+r).dispatchEvent(new Event("keyup")),o>1&&document.querySelector(".splterm_"+o+" a.del").classList.remove("ccs-dynaform-hidden"),document.getElementById("ccs_eoisplTerm_add").classList.remove("ccs-dynaform-hidden")}else a.classList.add("ccs-dynaform-hidden"),document.getElementById("eoi_splterm_"+r).value="",document.getElementById("eoi_splterm_"+r).dispatchEvent(new Event("keyup")),o>1&&document.querySelector(".splterm_"+o+" a.del").classList.remove("ccs-dynaform-hidden"),document.getElementById("ccs_eoisplTerm_add").classList.remove("ccs-dynaform-hidden");21!=--n&&document.getElementById("ccs_eoisplTerm_add").classList.remove("ccs-dynaform-hidden")})}),s.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();let r=e.href.replace(/^(.+\/)(\d{1,2})$/,"$2");e.closest("fieldset").classList.add("ccs-dynaform"),document.getElementById("eoi_splterm_"+r).value="",document.getElementById("eoi_splterm_definition_"+r).value="",removeErrorFieldsEoiTerms()})}),document.getElementsByClassName("term_fieldset").length>0){let e=document.getElementsByClassName("term_fieldset"),n=e.length;for(;n--;){let o=n+1,a=e[n].querySelector("#eoi_splterm_"+o);a.addEventListener("focusout",e=>{let r=e.target,n="eoi_splterm_definition_"+o,a=document.getElementById(n);t(r,a)});let i=e[n].querySelector("#eoi_splterm_definition_"+o);null!=i?i.addEventListener("focusout",e=>{let t=e.target,n="eoi_splterm_"+o,a=document.getElementById(n);r(a,t)}):a.addEventListener("focusout",e=>{let r="eoi_splterm_"+o,n=document.getElementById(r);t(n)});var t=function(e){if(""!==e.value){let e=document.getElementById("ccs_eoi_splterms_form").getAttribute("action");e+="&stop_page_navigate=true",$.ajax({type:"POST",url:e,data:$("#ccs_eoi_splterms_form").serialize(),success:function(){}})}},r=function(e,t){if(""!==e.value&&""!==t.value){let e=document.getElementById("ccs_eoi_splterms_form").getAttribute("action");e+="&stop_page_navigate=true",$.ajax({type:"POST",url:e,data:$("#ccs_eoi_splterms_form").serialize(),success:function(){}})}}}}}});const checkFieldsEoiTerms=()=>{for(var e=1;e<=10;e++){let t=$(`#eoi_splterm_${e}`),r=$(`#eoi_splterm_definition_${e}`);""!==t.val()&&($(`#eoi_splterm_${e}-error`).remove(),$(`.splterm_${e} div`).removeClass("govuk-form-group--error"),$(`.splterm_${e} input`).removeClass("govuk-input--error")),""!==r.val()&&($(`#eoi_splterm_definition_${e}-error`).remove(),$(`.splterm_${e} div`).removeClass("govuk-form-group--error"),$(`.splterm_${e} textarea`).removeClass("govuk-input--error"),$(`.splterm_${e} textarea`).removeClass("govuk-textarea--error"))}},removeErrorFieldsEoiTerms=()=>{$(".govuk-error-message").remove(),$(".govuk-form-group--error").removeClass("govuk-form-group--error"),$(".govuk-error-summary").remove(),$(".govuk-input").removeClass("govuk-input--error"),$(".govuk-form-group textarea").removeClass("govuk-textarea--error")},emptyFieldCheckEoiTerms=(e="")=>{let t="",r=[];checkFieldsEoiTerms();let n=!1;for(var o=1;o<11;o++){let a=document.getElementById("eoi_splterm_"+o);document.getElementById("eoi_splterm_definition_"+o);if(-1===a.closest("fieldset").classList.value.indexOf("ccs-dynaform-hidden")){const o=document.getElementById("page-heading").innerHTML;""!==a.value.trim()&&o.includes("Optional"),o.includes("Optional")&&"add_more"!=e||(""===a.value.trim()&&(ccsZaddErrorMessage(a,"You must add special term or condition."),t=[a.id,"You must add special term or condition."],r.push(t)),null!=a.value&&null!=a.value&&a.value.length>1e4&&(ccsZaddErrorMessage(a,"Term and condition title must be 100 characters or fewer"),n=!0))}}return n&&(t=["#","Term and condition title must be 500 characters or fewer"],r.push(t)),r},ccsZvalidateEoiSpecialTerms=e=>{e.preventDefault(),0===(errorStore=emptyFieldCheckEoiTerms()).length?document.forms.ccs_eoi_splterms_form.submit():ccsZPresentErrorSummary(errorStore)};document.addEventListener("DOMContentLoaded",()=>{if(null!==document.getElementById("ccs_eoi_docs_form")){let t=4,r=0,n=document.querySelectorAll("a.del");for(var e=4;e>1;e--){let r=document.getElementById("eoi_file_upload_"+e);if(""!==r.value)r.classList.remove("ccs-dynaform-hidden"),4===e&&document.getElementById("ccs_eoi_file_add").classList.add("ccs-dynaform-hidden");else{document.querySelector("label[for='eoi_file_upload_"+e+"']").classList.add("ccs-dynaform-hidden"),t=e}}document.getElementById("ccs_eoi_file_add").addEventListener("click",e=>{e.preventDefault(),document.getElementById("eoi_file_upload_"+t).classList.remove("ccs-dynaform-hidden"),document.querySelector("label[for='eoi_file_upload_"+t+"']").classList.remove("ccs-dynaform-hidden"),t>2&&(r=t-1,document.querySelector("label[for='eoi_file_upload_"+r+"'] a.del").classList.add("ccs-dynaform-hidden")),5===++t&&document.getElementById("ccs_eoi_file_add").classList.add("ccs-dynaform-hidden")}),n.forEach(e=>{e.addEventListener("click",r=>{r.preventDefault();let n=e.href.replace(/^(.+\/)(\d{1,2})$/,"$2"),o=Number(n)-1;document.getElementById("eoi_file_upload_"+n).value="",document.getElementById("eoi_file_upload_"+n).classList.add("ccs-dynaform-hidden"),document.getElementById("eoi_file_upload_"+n+"-error").parentNode.removeChild(document.getElementById("eoi_file_upload_"+n+"-error")),document.querySelector("label[for='eoi_file_upload_"+n+"']").classList.add("ccs-dynaform-hidden"),o>1&&document.querySelector("label[for='eoi_file_upload_"+o+"'] a.del").classList.remove("ccs-dynaform-hidden"),document.getElementById("ccs_eoi_file_add").classList.remove("ccs-dynaform-hidden"),t--})})}});const ccsZvalidateEoiDocs=e=>{e.preventDefault();let t="",r=[];document.getElementById("eoi_file_upload_1").value.length>0&&!0!==(t=ccsZvalidateWithRegex("eoi_file_upload_1","Document 1 must be a Word or Acrobat file",/^(\w|\W)+\.(docx?|pdf)$/))&&r.push(t);for(var n=2;n<5;n++)document.getElementById("eoi_file_upload_"+n).classList.contains("ccs-dynaform-hidden")||!0!==(t=ccsZvalidateWithRegex("eoi_file_upload_"+n,"Document "+n+" must be a Word or Acrobat file",/^(\w|\W)+\.(docx?|pdf)$/))&&r.push(t);0===r.length?document.forms.ccs_eoi_docs_form.submit():ccsZPresentErrorSummary(r)};$("#ccs_collab_view").hide();let fcaFormURL="/fca/get-collaborator-detail/js-enabled";$("#fca_collaborators").on("change",function(){let e=this.value;if(""!==e){let t={fca_collaborators:e};$.post(fcaFormURL,t,function(e){let{userName:t,firstName:r,lastName:n,tel:o}=e,a=r+" "+n,i=t;$("#show_collab_name").html(a),$("#show_collab_email").html(i),$("#show_collab-phone").html(o),$("#fca_collaborator_append").val(i)}).fail(function(){console.log("failed")}).always(function(){console.log("finsihed")})}else $("#show_collab_name").html(""),$("#show_collab_email").html(""),$("#show_collab-phone").html("")}),document.addEventListener("DOMContentLoaded",()=>{if(null!==document.getElementById("ccs_fca_procurement_lead")){document.getElementById("ccs_fca_procurement_lead").addEventListener("change",function(t){t.preventDefault(),$.ajax({url:"/fca/users-procurement-lead?id="+t.target.value,type:"GET",contentType:"application/json"}).done(function(t){e(t)}).fail(e=>{document.getElementById("lead-email").innerText="",document.getElementById("lead-telephone").innerText=""})});const e=e=>{document.getElementById("lead-email").innerText=e.userName,document.getElementById("lead-telephone").innerText="1",document.getElementById("fca_procurement_lead_input").value=e.userName}}}),$(".add").addClass("ccs-dynaform-hidden");const ccsFcaSelectedServices=e=>{e.preventDefault();let t="",r=[],n=document.getElementById("fca_select_services_form"),o=n.querySelectorAll('input[type="checkbox"]'),a=!0;o.forEach(e=>{e.checked&&(a=!1)}),a?(t=[n.id,"Select at least one service"],r.push(t),ccsZPresentErrorSummary(r)):document.forms.fca_select_services_form.submit()};function initializeErrorStoreForFieldCheck(e){e.preventDefault();return{fieldCheck:"",errorStore:[]}}function getGroup(e){return decodeURI(e.currentTarget.action.match(/(\?|&)group_id\=([^&]*)/)[2])}$(document).ready(function(){document.getElementById("rfi_offline_document");const e=["rfi","eoi","rfp","ca","da"];let t,r,n=!1;for(;!n&&e.length>0;)t=e.splice(0,1),n=!!(r=document.getElementById(`${t}_offline_document`));const o={csv:"text/csv",doc:"application/msword",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",jpg:"image/jpeg",kml:"application/vnd.google-earth.kml+xml",ods:"application/vnd.oasis.opendocument.spreadsheet",odt:"application/vnd.oasis.opendocument.text",pdf:"application/pdf",png:"image/png",ppt:"application/vnd.ms-powerpoint",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",rdf:"application/rdf+xml",rtf:["application/rtf","text/rtf"],txt:"text/plain",xls:"application/vnd.ms-excel",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xml:"text/xml",zip:["application/x-zip-compressed","application/zip","application/octet-stream","multipart/x-zip","application/zip-compressed"]};null!=r&&null!=r&&(r.onchange=function(){const e=this.files,r=e.length;let n=0;for(var a=0;a<r;a++){n+=e[a].size}const i=Object.values(o).flat(1),s=[];for(const t of e){console.log("*********************************filetype"),console.log(t.type);const e=i.filter(e=>e===t.type).length>0;let r=3e8;if(t.size>=r)s.push({type:"size"});else if(e)s.push({type:"none"});else{let e=t.name.split(".").pop();"kml"==(e=e||void 0)?s.push({type:"none"}):s.push({type:"type"})}}const l=s.every(e=>"none"===e.type),c=s.some(e=>"size"===e.type),u=s.some(e=>"type"===e.type);let d=[],m="";l?($(".govuk-form-group--error").removeClass("govuk-form-group--error"),$(".govuk-error-summary").remove(),$(".govuk-input").removeClass("govuk-input--error"),$(".govuk-form-group textarea").removeClass("govuk-textarea--error"),$(`#${t}_offline_document`).removeClass("govuk-input--error"),$("#upload_doc_form").removeClass("govuk-form-group--error"),$(`#${t}_offline_document`).val(),$(`#${t}_upload_error_summary`).text(""),$(".doc_upload_button").show(),$("#rfp_offline_document-error").hide(),$("#rfi_offline_document-error").hide()):c?($(`#${t}_offline_document`).addClass("govuk-input--error"),$("#upload_doc_form").addClass("govuk-form-group--error"),$(`#${t}_offline_document`).val(),$(`#${t}_upload_error_summary`).text("Upload size exceeds 300 MB"),$(".doc_upload_button").hide(),$("#rfp_offline_document-error").hide(),$("#rfi_offline_document-error").hide()):u?(console.log("inside mime type"),$(`#${t}_offline_document`).addClass("govuk-input--error"),$("#upload_doc_form").addClass("govuk-form-group--error"),$(`#${t}_offline_document`).val(),$(`#${t}_upload_error_summary`).text("The selected file must be csv, doc, docx, jpg, jpeg, kml, ods, odt, pdf, png, ppt, pptx, rdf, rtf, txt, xls, xlsx, xml, zip"),m=["upload_doc_form","The selected file must be csv, doc, docx, jpg, jpeg, kml, ods, odt, pdf, png, ppt, pptx, rdf, rtf, txt, xls, xlsx, xml, zip"],d.push(m),ccsZPresentErrorSummary(d),$(".doc_upload_button").hide(),$("#rfp_offline_document-error").hide(),$("#rfi_offline_document-error").hide()):($(`#${t}_offline_document`).removeClass("govuk-input--error"),$("#upload_doc_form").removeClass("govuk-form-group--error"),$(`#${t}_offline_document`).val(),$(`#${t}_upload_error_summary`).text(""),$(".doc_upload_button").show(),$("#rfp_offline_document-error").hide(),$("#rfi_offline_document-error").hide()),Number(n)>1e9&&($(`#${t}_offline_document`).addClass("govuk-input--error"),$("#upload_doc_form").addClass("govuk-form-group--error"),$(`#${t}_offline_document`).val(),$(`#${t}_upload_error_summary`).text("Total Files Size cannot exceed 1 GB"),$(".doc_upload_button").hide())})});const ccsZvalidateIR35acknowledgement=e=>{let{fieldCheck:t,errorStore:r}=initializeErrorStoreForFieldCheck(e);!0!==(t=ccsZisOptionChecked("IR35_acknowledgement","Please select an option"))&&r.push(t),0===r.length?document.forms.ccs_ir35_acknowledgement_form.submit():ccsZPresentErrorSummary(r)},ccsZvalidateCompetitionRoute=e=>{let{fieldCheck:t,errorStore:r}=initializeErrorStoreForFieldCheck(e);!0!==(t=ccsZisOptionChecked("ccs_route_to_market","Please select an option"))&&r.push(t),0===r.length?document.forms.ccs_route_to_market_form.submit():ccsZPresentErrorSummary(r)},ccsZvalidateBuildType=e=>{let{fieldCheck:t,errorStore:r}=initializeErrorStoreForFieldCheck(e);!0!==(t=ccsZisOptionChecked("ccs_fc_type","Please select an option"))&&r.push(t),0===r.length?document.forms.ccs_rfp_type_form.submit():ccsZPresentErrorSummary(r)},ccsZvalidateProjectPhase=e=>{let{fieldCheck:t,errorStore:r}=initializeErrorStoreForFieldCheck(e);!0!==(t=ccsZisOptionChecked("ccs_rfp_project_phase","Please select an option"))&&r.push(t),0===r.length?document.forms.ccs_rfp_project_phase_form.submit():ccsZPresentErrorSummary(r)},ccsZvalidateRfiSecurity=e=>{let{fieldCheck:t,errorStore:r}=initializeErrorStoreForFieldCheck(e);!0!==(t=ccsZisOptionCheckedForVetting("ccs_vetting_type","You must provide a security clearance level before proceeding"))&&r.push(t),0===r.length?document.forms.ccs_rfi_vetting_form.submit():ccsZPresentErrorSummary(r)},ccsZvalidateEoiSecurity=e=>{let{fieldCheck:t,errorStore:r}=initializeErrorStoreForFieldCheck(e),n="Group 6"===getGroup(e)?"Select whether this is a new or replacement product or service, or âNot sureâ":"Select a security clearance level";"RM6187"==urlParams.get("agreement_id")&&"Group 7"===getGroup(e)&&(n="Select whether there is an existing supplier"),!0!==(t=ccsZisOptionChecked("ccs_vetting_type",n))&&r.push(t),0===r.length?document.forms.ccs_eoi_vetting_form.submit():ccsZPresentErrorSummary(r)},ccsZvalidateRfpSecurity=e=>{let{fieldCheck:t,errorStore:r}=initializeErrorStoreForFieldCheck(e);!0!==(t=ccsZisOptionChecked("ccs_rfp_vetting_type","You must provide a security clearance level before proceeding"))&&r.push(t),0===r.length?document.forms.ccs_rfp_vetting_form.submit():ccsZPresentErrorSummary(r)},ccsZvalidateCaaAssFCSecurity=e=>{let{fieldCheck:t,errorStore:r}=initializeErrorStoreForFieldCheck(e);!0!==(t=ccsZisOptionChecked("ccs_vetting_type","Enter your team scale"))&&r.push(t),0===r.length?document.forms.ccs_ca_type_form.submit():ccsZPresentErrorSummary(r)},ccsZvalidateRfiType=e=>{let{fieldCheck:t,errorStore:r}=initializeErrorStoreForFieldCheck(e);!0!==(t=ccsZisOptionChecked("ccs_rfi_type","Select how you will build your RfI"))&&r.push(t),0===r.length?document.forms.ccs_rfi_type_form.submit():ccsZPresentErrorSummary(r)},ccsZvalidateRfiMcfType=e=>{let{fieldCheck:t,errorStore:r}=initializeErrorStoreForFieldCheck(e);!0!==(t=ccsZisOptionChecked("results-per-page-1","Select how you will build your RfI"))&&r.push(t),0===r.length?document.forms.choose_build_rfi.submit():ccsZPresentErrorSummary(r)},ccsZvalidateEoiType=e=>{let{fieldCheck:t,errorStore:r}=initializeErrorStoreForFieldCheck(e);!0!==(t=ccsZisOptionChecked("ccs_eoi_type","Select an option"))&&r.push(t),0===r.length?document.forms.ccs_eoi_type_form.submit():ccsZPresentErrorSummary(r)},ccsZvalidateEoiServiceType=e=>{let{fieldCheck:t,errorStore:r}=initializeErrorStoreForFieldCheck(e);!0!==(t=ccsZisOptionChecked("eoi_service_type","Please select an option"))&&r.push(t),0===r.length?document.forms.ccs_eoi_new_form.submit():ccsZPresentErrorSummary(r)},ccsZvalidatePreMarketRoute=e=>{let{fieldCheck:t,errorStore:r}=initializeErrorStoreForFieldCheck(e);!0!==(t=ccsZisOptionChecked("choose_pre_engage","Please select an option"))&&r.push(t),0===r.length?document.forms.ccs_choose_pre_engage.submit():ccsZPresentErrorSummary(r)},ccsZvalidateWithRegex=(e,t,r,n=!0)=>{const o=document.getElementById(e);if(null!=o&&null!=o)return null!=o.value&&null!=o.value&&o.value.trim().match(r)&&n?(ccsZremoveErrorMessage(o),!0):(ccsZremoveErrorMessage(o),ccsZaddErrorMessage(o,t),[o.id,t])},ccsZvalidateTextArea=(e,t,r=!0)=>{const n=document.getElementById("page-heading").innerHTML;if(!n.includes("(Optional)")||n.includes("(optional)")){const n=document.getElementById(e);if(null!=n&&null!=n&&n.value&&n.value.trim().length>0&&r)return ccsZremoveErrorMessage(n),!0;if(null!=n&&null!=n)return ccsZaddErrorMessage(n,t),[n.id,t];console.log("FINAL ERROR")}else console.log("VADA FINAL ERROR")},ccsZisOptionCheckedForVetting=(e,t)=>{const r=document.getElementById(e);let n=!1,o=".govuk-checkboxes";if(n=!!$(".ccs_vetting").is(":checked"),null!=r&&null!=r)return"radio"===r.type&&(o=".govuk-radios"),n?ccsZremoveErrorMessage(r):ccsZaddErrorMessage(r,t),!!n||[r.id,t]},ccsZisOptionChecked=(e,t)=>{const r=document.getElementById(e);let n=!1,o=".govuk-checkboxes";if(null!=r&&null!=r){return"radio"===r.type&&(o=".govuk-radios"),r.closest(o).querySelectorAll("input").forEach(e=>{e.checked&&(n=!0)}),n?ccsZremoveErrorMessage(r):ccsZaddErrorMessage(r,t),!!n||[r.id,t]}},ccsZvalidateThisDate=(e,t,r,n)=>{const o=document.getElementById(e);let a=parseInt(document.getElementById(o.id+"-day").value.trim()),i=parseInt(document.getElementById(o.id+"-month").value.trim()),s=document.getElementById(o.id+"-year").value.trim(),l=document.getElementById(e+"_time"),c="",u="",d="",m=!1;a<10&&(u="0"),i<10&&(d="0"),c=null!==l?l.value:"00:01";let g=new Date(s+"-"+d+i+"-"+u+a+"T"+c+":00");if((m=!isNaN(g.getTime()))&&0===r)ccsZremoveErrorMessage(o);else if(m){let e=new Date,a=e.getMonth()+1,i=e.getDate(),s=e.getHours(),l=e.getMinutes();a<10&&(a="0"+a),i<10&&(i="0"+i),s<10&&(s="0"+s),l<10&&(l="0"+l);let c=new Date(e.getFullYear()+"-"+a+"-"+i+"T"+s+":"+l+":00"),u=0;if(r>0&&n>0){let e=864e5*n;u=c.getTime()+e}else u=c.getTime();if(!(r<0&&g.getTime()<u||r>0&&g.getTime()>u))return ccsZaddErrorMessage(o,t),[o.id,t];ccsZremoveErrorMessage(o)}else ccsZaddErrorMessage(o,t);return!!m||[o.id,t]},ccsZremoveErrorMessage=e=>{if(null!=e&&null!==document.getElementById(e.id+"-error")){if(e.closest(".govuk-form-group").classList.remove("govuk-form-group--error"),"TEXTAREA"===e.tagName&&e.closest(".govuk-textarea").classList.remove("govuk-textarea--error"),"INPUT"===e.tagName)e.classList.remove("govuk-input--error");else{e.querySelectorAll("input").forEach(e=>{e.classList.remove("govuk-input--error")})}document.getElementById(e.id+"-error").remove()}},ccsZremoveErrorMessageRFIDate=()=>{$(".govuk-error-message").remove(),$(".govuk-form-group--error").removeClass("govuk-form-group--error"),$(".govuk-error-summary").remove(),$(".govuk-input").removeClass("govuk-input--error"),$(".govuk-form-group textarea").removeClass("govuk-textarea--error")},ccsZaddErrorMessage=(e,t)=>{if(null!=e&&null!=e&&null===document.getElementById(e.id+"-error")){if(e.closest(".govuk-form-group").classList.add("govuk-form-group--error"),"INPUT"!==e.tagName||"radio"===e.type&&"checkbox"===e.type){e.querySelectorAll("input").forEach(e=>{e.classList.add("govuk-input--error")})}else e.classList.add("govuk-input--error");if("TEXTAREA"!==e.tagName||"radio"===e.type&&"checkbox"===e.type){e.querySelectorAll("textarea").forEach(e=>{e.classList.add("govuk-textarea--error")})}else e.classList.add("govuk-textarea--error");errorEl=ccsZcreateCcsErrorMsg(e.id,t),"radio"===e.type?e.closest(".govuk-radios").insertBefore(errorEl,e.parentNode):"checkbox"===e.type?e.closest(".govuk-checkboxes").insertBefore(errorEl,e.parentNode):e.parentNode.classList.contains("govuk-input__wrapper")?e.closest(".govuk-form-group").insertBefore(errorEl,e.parentNode):e.parentNode.insertBefore(errorEl,e)}},ccsZcreateCcsErrorMsg=(e,t)=>{let r=document.createElement("span");r.id=e+"-error",r.className="govuk-error-message",r.innerHTML='<span class="govuk-visually-hidden">Error:</span>';let n=document.createTextNode(" "+t);return r.appendChild(n),r},ccsZPresentErrorSummary=e=>{const t=document.querySelector(".govuk-error-summary");if(null!==t&&t.parentNode.removeChild(t),e){let t=document.createElement("div"),r=document.createElement("div"),n=document.createElement("ul");t.className="govuk-error-summary",r.className="govuk-error-summary__body",n.classList.add("govuk-list","govuk-error-summary__list"),t.innerHTML='<h2 class="govuk-error-summary__title" id="error-summary-title">There is a problem </h2>',t.setAttribute("aria-labelledby","error-summary-title"),t.setAttribute("role","alert"),t.setAttribute("tabindex","-1"),t.setAttribute("data-module","govuk-error-summary"),e.forEach(e=>{if(null!=e&&""!=e&&1!=e){let t=document.createElement("li"),r=document.createElement("a"),o=document.createTextNode(e[1]);r.setAttribute("href","#"+e[0]),r.appendChild(o),t.appendChild(r),n.appendChild(t)}}),r.appendChild(n),t.appendChild(r),document.querySelector(".govuk-heading-xl").parentNode.insertBefore(t,document.querySelector(".govuk-heading-xl")),window.scrollTo(0,0)}},ccsZvalidateWeihtageValue=(e,t,r,n,o=!0)=>{const a=document.getElementById(e);if(null!=a&&null!=a)return null!=a.value&&null!=a.value&&100==r&&o?(ccsZremoveErrorMessage(a),!0):(ccsZremoveErrorMessage(a),ccsZaddErrorMessage(a,t),[a.id,t])},ccsZvalidateDateWithRegex=(e,t,r,n,o=!0)=>{const a=document.getElementById(e),i=document.getElementById(t);if(null!=a&&null!=a)return null!=a.value&&null!=a.value&&a.value.trim().match(n)&&o?(ccsZremoveErrorMessage(a),!0):(ccsZremoveErrorMessage(a),ccsZaddDateErrorMessage(a,i,r),[a.id,r])},ccsZaddDateErrorMessage=(e,t,r)=>{if(null!=e&&null!=e&&null===document.getElementById(e.id+"-error")){if(e.closest(".govuk-form-group").classList.add("govuk-form-group--error"),"INPUT"!==e.tagName||"radio"===e.type&&"checkbox"===e.type){e.querySelectorAll("input").forEach(e=>{e.classList.add("govuk-input--error")})}else e.classList.add("govuk-input--error");if("TEXTAREA"!==e.tagName||"radio"===e.type&&"checkbox"===e.type){e.querySelectorAll("textarea").forEach(e=>{e.classList.add("govuk-textarea--error")})}else e.classList.add("govuk-textarea--error");errorEl=ccsZcreateCcsErrorMsg(t.id,r),"radio"===e.type?e.closest(".govuk-radios").insertBefore(errorEl,e.parentNode):"checkbox"===e.type?e.closest(".govuk-checkboxes").insertBefore(errorEl,e.parentNode):e.parentNode.classList.contains("govuk-input__wrapper")?e.closest(".govuk-form-group").insertBefore(errorEl,e.parentNode):t.parentNode.insertBefore(errorEl,t)}};$("input[type=radio]").click(function(){let e=this;$("input:radio").each(function(){"new"==e.value?($(this).is(":checked")&&"new"!=this.value?$("input[type='radio']").prop("checked",!1):$("input[type='radio']").prop("checked",!0),e.checked=!0):$(this).is(":checked")&&"new"==this.value&&($("input[type='radio']").prop("checked",!1),e.checked=!0)}),"new"==e.value&&1==e.checked?$("#g_cloud_new_search_name").removeClass("govuk-!-display-none"):$("#g_cloud_new_search_name").addClass("govuk-!-display-none")}),1==document.querySelectorAll("#save-search").length&&$(document).ready(function(){setTimeout(function(){$("#remove_radio").trigger("click"),$("#search_name").val("")},1e3),$("#remove_radio").on("click",function(){$("input[type='radio']").prop("checked",!1)})}),document.addEventListener("DOMContentLoaded",()=>{if(null!==document.getElementById("g_cloud_new_search_name")){document.getElementById("g_cloud_new_search_name").checked?$("#g_cloud_new_search_name").removeClass("govuk-!-display-none"):$("#g_cloud_new_search_name").addClass("govuk-!-display-none")}});const weight_staff=["weight_staff_1SoftwareDeveloper","weight_staff_2DevOps","weight_staff_3SecurityArchitect","weight_staff_4InfrastructureEngineer","weight_staff_5NetworkArchitect","weight_staff_6TechnicalArchitect","weight_staff_7DataArchitect","weight_staff_1PerformanceAnalyst","weight_staff_4DataScientist","weight_staff_2DataEngineer","weight_staff_3DataAnalyst","weight_staff_1Delivery","weight_staff_2BusinessAnalysis","weight_staff_7ApplicationsOperations","weight_staff_2BusinessRelationshipManager","weight_staff_3ITServiceManager","weight_staff_1ChangeandReleaseManager","weight_staff_5EngineerInfrastructure","weight_staff_8ServiceTransitionManager","weight_staff_4TechnicalWriter","weight_staff_3ProductManager","weight_staff_5ContentDesigner","weight_staff_9ServiceDeskManager","weight_staff_2Delivery","weight_staff_1BusinessAnalysis","weight_staff_10ProblemManager","weight_staff_11IncidentManager","weight_staff_1GraphicInteractionDesigner","weight_staff_2ServiceDesigner","weight_staff_3UserResearcher","weight_staff_4EngineerEndUser","weight_staff_3ProductManager","weight_staff_6CommandandControl","weight_staff_1UserResearcher","weight_staff_3TechnicalWriter","weight_staff_4ServiceDesigner","weight_staff_5GraphicInteractionDesigner","weight_staff_1TestEngineer","weight_staff_2TestManager","weight_staff_3QATAnalyst","weight_staff_1CommandandControl","weight_staff_2ApplicationsOperations","weight_staff_3IncidentManager","weight_staff_4EngineerInfrastructure","weight_staff_5ServiceDeskManager","weight_staff_6BusinessRelationshipManager","weight_staff_7ProblemManager","weight_staff_8ITServiceManager","weight_staff_9EngineerEndUser","weight_staff_10ServiceTransitionManager","weight_staff_11ChangeandReleaseManager","weight_staff_1TechnicalArchitect","weight_staff_2DataArchitect","weight_staff_3NetworkArchitect","weight_staff_4SoftwareDeveloper","weight_staff_5DevOps","weight_staff_6SecurityArchitect","weight_staff_7InfrastructureEngineer","weight_staff_1DataScientist","weight_staff_2PerformanceAnalyst","weight_staff_2PerformanceAnalyst","weight_staff_3DataEngineer","weight_staff_4DataAnalyst"],weight_vetting=["weight_vetting_1SoftwareDeveloper","weight_vetting_2DevOps","weight_vetting_3SecurityArchitect","weight_vetting_4InfrastructureEngineer","weight_vetting_5NetworkArchitect","weight_vetting_6TechnicalArchitect","weight_vetting_7DataArchitect","weight_vetting_1TestEngineer","weight_vetting_2TestManager","weight_vetting_3QATAnalyst","weight_vetting_1PerformanceAnalyst","weight_vetting_2DataEngineer","weight_vetting_3DataAnalyst","weight_vetting_4DataScientist","weight_vetting_1ChangeandReleaseManager","weight_vetting_2BusinessRelationshipManager","weight_vetting_3ITServiceManager","weight_vetting_4EngineerEndUser","weight_vetting_5EngineerInfrastructure","weight_vetting_6CommandandControl","weight_vetting_7ApplicationsOperations","weight_vetting_8ServiceTransitionManager","weight_vetting_9ServiceDeskManager","weight_vetting_10ProblemManager","weight_vetting_11IncidentManager"],ccsTabMenuNaviation=()=>{var e=document.querySelectorAll(".ons-list__item"),t=document.getElementById("vertical_tab_nav");if(null!=e&&null!=e&&e.length>0){e[0].getElementsByTagName("a")[0].classList.add("selected");const n=t.getElementsByTagName("article");for(var r=0;r<n.length;r++)n[r].style.display=0===r?"block":"none";Array.from(e).forEach(e=>{e.addEventListener("click",function(e){let t=e.currentTarget,r=$(this).index();return $("#vertical_tab_nav > div > aside > nav > ol > li > a").removeClass("selected"),t.getElementsByTagName("a")[0].classList.add("selected"),$("#vertical_tab_nav > div > article").css("display","none"),$("#vertical_tab_nav > div > article").eq(r).fadeIn(),$(this).blur(),!1})})}};let staffs=[],vettings=[],staffIDs=[],vettingIDs=[];$("#redirect-button-vetting").on("click",function(){staffIDs.length=0}),document.addEventListener("DOMContentLoaded",()=>{if(null!==document.getElementById("ccs_ca_menu_tabs_form_later")){let e,t,r="",n="",o=!1;const a=document.getElementById("total-staff");document.getElementById("total-vetting");e=(t=document.getElementById("ccs_ca_menu_tabs_form_later")).getElementsByTagName("input");let i=[];for(let t=0;t<e.length;++t)"hidden"!=e[t].type&&(e[t].addEventListener("focus",function(e){r=e.currentTarget.id,n=e.currentTarget.value},!0),e[t].addEventListener("change",function(e){e.preventDefault();let t=0;if(weight_staff.includes(e.currentTarget.id))if(o=!1,0!==staffIDs.length&&(i=Object.keys(staffIDs[0]),o=i.find(t=>{if(t===e.currentTarget.id)return t})),void 0===o&&(o=!1),0===staffIDs.length||o!==e.currentTarget.id&&!o){const r=e.currentTarget.id;staffIDs.push({[r]:e.currentTarget.value}),a.innerHTML=staffIDs.reduce((e,r,n)=>{1===staffIDs.length&&(t=n+1),console.log("the indx ",Object.values(staffIDs.slice(-1)[0])[0]);let o=Object.values(staffIDs.slice(-1)[0])[0];return parseInt(e)+parseInt(o)},0)}else{const t=e.currentTarget.id;staffIDs.splice(-1,1,{[t]:e.currentTarget.value}),a.innerHTML=staffIDs.reduce((e,t,r)=>{let o=Object.values(staffIDs.slice(-1)[0])[0];return r>1&&(n=0),parseInt(e)-Number(n)+parseInt(o)},0)}}));if(null!==document.getElementById("ccs_da_menu_tabs_form_later")){let e,t,r="",n="",o=!1;const a=document.getElementById("total-staff");document.getElementById("total-vetting");e=(t=document.getElementById("ccs_da_menu_tabs_form_later")).getElementsByTagName("input");let i=[];for(let t=0;t<e.length;++t)"hidden"!=e[t].type&&(e[t].addEventListener("focus",function(e){r=e.currentTarget.id,n=e.currentTarget.value},!0),e[t].addEventListener("change",function(e){e.preventDefault();let t=0;if(weight_staff.includes(e.currentTarget.id))if(o=!1,0!==staffIDs.length&&(i=Object.keys(staffIDs[0]),o=i.find(t=>{if(t===e.currentTarget.id)return t})),void 0===o&&(o=!1),0===staffIDs.length||o!==e.currentTarget.id&&!o){const r=e.currentTarget.id;staffIDs.push({[r]:e.currentTarget.value}),a.innerHTML=staffIDs.reduce((e,r,n)=>{1===staffIDs.length&&(t=n+1),console.log("the indx ",Object.values(staffIDs.slice(-1)[0])[0]);let o=Object.values(staffIDs.slice(-1)[0])[0];return parseInt(e)+parseInt(o)},0)}else{const t=e.currentTarget.id;staffIDs.splice(-1,1,{[t]:e.currentTarget.value}),a.innerHTML=staffIDs.reduce((e,t,r)=>{let o=Object.values(staffIDs.slice(-1)[0])[0];return r>1&&(n=0),parseInt(e)-Number(n)+parseInt(o)},0)}}))}}}),$("#ccs_collab_view").hide();let rfiFormURL="/rfi/get-collaborator-detail/js-enabled",gcloudFormURL="/g-cloud/get-collaborator-detail/js-enabled";$("#potential-collaborator").hide(),$("#rfi_collaborators").on("change",function(){let e=this.value;if(""!==e){let t={rfi_collaborators:e};$.post(rfiFormURL,t,function(e){let{userName:t,firstName:r,lastName:n,tel:o}=e,a=r+" "+n,i=t;$("#potential-collaborator").show(),$("#show_collab_name").html(a),$("#show_collab_email").html(i),$("#show_collab-phone").html(o),$("#rfi_collaborator_append").val(i),$("#ccs_collab_add").prop("disabled",!1)}).fail(function(){console.log("failed")}).always(function(){console.log("finsihed")})}else $("#show_collab_name").html(""),$("#show_collab_email").html(""),$("#show_collab-phone").html(""),$("#ccs_collab_add").prop("disabled",!0)}),$("#gcloud_collaborators").on("change",function(){let e=this.value;if(""!==e){let t={gcloud_collaborators:e};$.post(gcloudFormURL,t,function(e){let{userName:t,firstName:r,lastName:n,tel:o}=e,a=r+" "+n,i=t;$("#potential-collaborator").show(),$("#show_collab_name").html(a),$("#show_collab_email").html(i),$("#show_collab-phone").html(o),$("#rfi_collaborator_append").val(i),$("#ccs_collab_add").prop("disabled",!1)}).fail(function(){console.log("failed")}).always(function(){console.log("finsihed")})}else $("#show_collab_name").html(""),$("#show_collab_email").html(""),$("#show_collab-phone").html(""),$("#ccs_collab_add").prop("disabled",!0)}),$(".add").addClass("ccs-dynaform-hidden"),$("#rfi_keyterm").length>0&&($(".rfi_form").attr("id","ccs_rfi_acronyms_form"),$(".rfi_form").attr("name","ccs_rfi_acronyms_form"));const buttonTermsHidden=()=>{for(var e=document.querySelectorAll(".term_acronym_fieldset"),t=0,r=0,n=e.length;r<n;r++){e[r].getAttribute("class").split(" ").filter(e=>"ccs-dynaform-hidden"===e).length>0&&(t=+t+1)}0==t&&null!==document.getElementById("ccs_rfiTerm_add")&&document.getElementById("ccs_rfiTerm_add").classList.add("ccs-dynaform-hidden")};let rfi_term_def=document.querySelectorAll(".rfitermdef");rfi_term_def.forEach(e=>{e.addEventListener("keyup",e=>{checkFields()})});let rfitermtext=document.querySelectorAll(".rfitermtext");rfitermtext.forEach(e=>{e.addEventListener("keyup",e=>{checkFields()})});const urlParams=new URLSearchParams(window.location.search),agrement_id=urlParams.get("agreement_id");let with_value_count,total_count,total_count_index,prev_input,deleteButtons;document.addEventListener("DOMContentLoaded",()=>{if(null!==document.getElementById("ccs_rfi_acronyms_form")){let r,n,o,a,i;"RM1557.13"==agrement_id||"RM6187"==agrement_id?(r=20,n=20,o=21,a=0,i=document.querySelectorAll("a.del")):(r=10,n=10,o=11,a=0,i=document.querySelectorAll("a.del"));let s=document.querySelectorAll("a.clear-fields");document.getElementById("rfi_term_definition_1").addEventListener("input",ccsZCountRfiAcronyms);for(var e=n;e>=1;e--){let t=document.querySelector(".acronym_"+e),o=document.getElementById("rfi_term_"+e);o.addEventListener("input",ccsZCountRfiTerms),acronym_box=document.getElementById("rfi_term_definition_"+e),acronym_box.addEventListener("input",ccsZCountRfiAcronyms),1===e?t.classList.remove("ccs-dynaform-hidden"):""!==o.value?(t.classList.remove("ccs-dynaform-hidden"),e===n&&document.getElementById("ccs_rfiTerm_add").classList.add("ccs-dynaform-hidden")):(t.classList.add("ccs-dynaform-hidden"),r=e)}if(document.getElementById("ccs_rfiTerm_add").classList.remove("ccs-dynaform-hidden"),0==$("fieldset.ccs-dynaform-hidden").length&&20==r&&"RM1557.13"==urlParams.get("agreement_id")&&"Criterion 1"==urlParams.get("id")&&"Group 2"==urlParams.get("group_id")&&r++,document.getElementById("ccs_rfiTerm_add").addEventListener("click",e=>{$(".govuk-form-group textarea").removeClass("govuk-textarea--error"),checkFields(),e.preventDefault(),0==(errorStore=emptyFieldCheck("add_more")).length?(removeErrorFields(),document.querySelector(".acronym_"+r).classList.remove("ccs-dynaform-hidden"),r>2&&(a=r-1),++r===o&&document.getElementById("ccs_rfiTerm_add").classList.add("ccs-dynaform-hidden")):ccsZPresentErrorSummary(errorStore)}),i.forEach(e=>{e.classList.remove("ccs-dynaform-hidden"),e.addEventListener("click",t=>{t.preventDefault();let a=e.href.replace(/^(.+\/)(\d{1,2})$/,"$2");Number(a),e.closest("fieldset");for(var i=1;i<=n;i++);for(var s=a;s<o;s++){var l=Number(s)+1;let e=document.getElementsByClassName("term_acronym_fieldset acronym_"+l);if(!(e.length>0)){a=s;break}if(e[0].classList.contains("ccs-dynaform-hidden")){a=s;break}document.getElementById("rfi_term_"+s).value=document.getElementById("rfi_term_"+l).value,document.getElementById("rfi_term_definition_"+s).value=document.getElementById("rfi_term_definition_"+l).value}document.getElementsByClassName("term_acronym_fieldset acronym_"+a)[0].classList.add("ccs-dynaform-hidden"),document.getElementById("rfi_term_"+a).value="",document.getElementById("rfi_term_"+a).dispatchEvent(new Event("keyup")),document.getElementById("rfi_term_definition_"+a).value="",document.getElementById("rfi_term_definition_"+a).dispatchEvent(new Event("keyup")),document.getElementById("ccs_rfiTerm_add").classList.remove("ccs-dynaform-hidden"),r--})}),s.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();let r=e.href.replace(/^(.+\/)(\d{1,2})$/,"$2");e.closest("fieldset").classList.add("ccs-dynaform"),document.getElementById("rfi_term_"+r).value="",document.getElementById("rfi_term_definition_"+r).value="",removeErrorFields()})}),document.getElementsByClassName("term_acronym_fieldset").length>0){let e=document.getElementsByClassName("term_acronym_fieldset"),r=e.length;for(;r--;){let n=r+1;e[r].querySelector("#rfi_term_"+n).addEventListener("focusout",e=>{let r=e.target,o="rfi_term_definition_"+n,a=document.getElementById(o);t(r,a)}),e[r].querySelector("#rfi_term_definition_"+n).addEventListener("focusout",e=>{let r=e.target,o="rfi_term_"+n,a=document.getElementById(o);t(a,r)});var t=function(e,t){if(""!==e.value&&""!==t.value){let e=document.getElementById("ccs_rfi_acronyms_form").getAttribute("action");e+="&stop_page_navigate=true",$.ajax({type:"POST",url:e,data:$("#ccs_rfi_acronyms_form").serialize(),success:function(){}})}}}}}buttonTermsHidden()}),"RM1557.13"==agrement_id||"RM6187"==agrement_id?(with_value_count=20,total_count=20,total_count_index=21,prev_input=0,deleteButtons=document.querySelectorAll("a.del")):(with_value_count=10,total_count=10,total_count_index=11,prev_input=0,deleteButtons=document.querySelectorAll("a.del"));const checkFields=()=>{const e=total_count;for(var t=1;t<=e;t++){let e=$(`#rfi_term_${t}`),r=$(`#rfi_term_definition_${t}`);""!==e.val()&&($(`#rfi_term_${t}-error`).remove(),$(`.acronym_${t} div`).removeClass("govuk-form-group--error"),$(`.acronym_${t} input`).removeClass("govuk-input--error")),""!==r.val()&&($(`#rfi_term_definition_${t}-error`).remove(),$(`.acronym_${t} div`).removeClass("govuk-form-group--error"),$(`.acronym_${t} textarea`).removeClass("govuk-input--error"),$(`.acronym_${t} textarea`).removeClass("govuk-textarea--error"))}},removeErrorFields=()=>{$(".govuk-error-message").remove(),$(".govuk-form-group--error").removeClass("govuk-form-group--error"),$(".govuk-error-summary").remove(),$(".govuk-input").removeClass("govuk-input--error"),$(".govuk-form-group textarea").removeClass("govuk-textarea--error")};$(".rfi_term_definition").keyup(function(e){var t=$(this).val().length;$(this).val($(this).val().substring(0,maxchars));t=$(this).val().length;remain=maxchars-parseInt(t),$(this).text(remain)}),$(".rfi_term_definition").keypress(function(e){var t=$(this).val().length,r=e.which;if(t>=1e4&&8!=r&&(r<48||r>57))return!1});const emptyFieldCheck=(e="")=>{let t="",r=[];for(var n=1;n<total_count_index;n++){let o=document.getElementById("rfi_term_"+n),a=document.getElementById("rfi_term_definition_"+n);-1===o.closest("fieldset").classList.value.indexOf("ccs-dynaform-hidden")&&(checkFields(),""==o.value.trim()&&""==a.value.trim()&&"add_more"==e&&"RM1557.13"!=agrement_id&&(ccsZaddErrorMessage(o,"Enter a term or acronym"),ccsZaddErrorMessage(a,"Enter a definition for the term or acronym"),t=[o.id,"Enter a term or acronym"],r.push(t),t=[a.id,"Enter a definition for the term or acronym"],r.push(t)),""==o.value.trim()&&""==a.value.trim()&&"add_more"==e&&"RM1557.13"==agrement_id&&(ccsZaddErrorMessage(o,"Enter a term or acronym"),ccsZaddErrorMessage(a,"Enter a definition for the term or acronym"),t=[o.id,"Enter a term or acronym"],r.push(t),t=[a.id,"Enter a definition for the term or acronym"],r.push(t)),""!=o.value.trim()&&""==a.value.trim()&&"RM1557.13"==agrement_id&&(ccsZaddErrorMessage(a,"Enter a definition for the term or acronym"),t=[a.id,"Enter a definition for the term or acronym"],r.push(t)),""==o.value.trim()&&""!=a.value.trim()&&"RM1557.13"==agrement_id&&(ccsZaddErrorMessage(o,"Enter a term or acronym"),t=[o.id,"Enter a term or acronym"],r.push(t)),""!=o.value.trim()&&""==a.value.trim()&&"RM1557.13"!=agrement_id&&(ccsZaddErrorMessage(a,"Enter a definition for the term or acronym"),t=[a.id,"Enter a definition for the term or acronym"],r.push(t)),""==o.value.trim()&&""!=a.value.trim()&&"RM1557.13"!=agrement_id&&(ccsZaddErrorMessage(o,"Enter a term or acronym"),t=[o.id,"Enter a term or acronym"],r.push(t)))}return r},ccsZCountRfiTerms=e=>{e.preventDefault();const t=e.srcElement.id,r=document.getElementById(t),n=t.split("rfi_term_");for(var o=1;o<=total_count;o++);let a=document.getElementById("rfi_label_term_"+n[1]),i=500-r.value.length;a.innerText="You have "+i+" characters remaining"},ccsZCountRfiAcronyms=e=>{e.preventDefault();const t=e.srcElement.id,r=document.getElementById(t),n=t.split("rfi_term_definition_");for(var o=1;o<=total_count;o++);let a=document.getElementById("rfi_label_acronym_"+n[1]),i=r.getAttribute("maxlength")-r.value.length;a.innerText="You have "+i+" characters remaining"},ccsZvalidateRfiAcronyms=e=>{e.preventDefault(),0===(errorStore=emptyFieldCheck()).length?document.forms.ccs_rfi_acronyms_form.submit():ccsZPresentErrorSummary(errorStore)},ccsZFindAddress=e=>{e.preventDefault();let t="";if(!0!==(t=ccsZvalidateWithRegex("rfi_proj_address-postcode","Enter a valid postcode",/A([Gg][Ii][Rr] 0[Aa]{2})|((([A-Za-z][0-9]{1,2})|(([A-Za-z][A-Ha-hJ-Yj-y][0-9]{1,2})|(([A-Za-z][0-9][A-Za-z])|([A-Za-z][A-Ha-hJ-Yj-y][0-9][A-Za-z]?))))\s?[0-9][A-Za-z]{2})$/)))ccsZPresentErrorSummary([["rfi_proj_address-postcode","Enter a valid postcode"]]);else{ccsZremoveErrorMessage(document.getElementById("rfi_proj_address-postcode"));const e=document.querySelector(".govuk-error-summary");null!==e&&e.parentNode.removeChild(e);let t=document.getElementById("rfi_proj_address-postcode").value.trim();fetch(`https://api.getAddress.io/find/${t}?api-key=`).then(e=>{if(!e.ok){let t="Unknown error";throw 500===e.status?t="Internal server error":429===e.status?t="API request limit exeeded":404===e.status?t="No address found":400===e.status?t="Invalid postcode":401===e.status?t="API key is not valid":403===e.status&&(t="You do not have permission to access to the resource"),new Error(`HTTP request error: ${e.status} - ${t}`)}return e.json()}).then(e=>{let r=document.getElementById("rfi_proj_address-address");document.getElementById("display_postcode").innerText=t,document.getElementById("ccs_postcode_holder").classList.remove("ccs-dynaform-hidden"),document.getElementById("rfi_proj_address-postcode").classList.add("ccs-dynaform-hidden"),document.getElementById("rfi_find_address_btn").classList.add("ccs-dynaform-hidden"),r.options.length=0;var n=document.createElement("option");n.value="",n.innerHTML=`${e.addresses.length} addresses found`,r.appendChild(n),e.addresses.forEach(e=>{var t=document.createElement("option");t.value=e,t.innerHTML=e,r.appendChild(t)}),r.parentNode.classList.remove("ccs-dynaform-hidden")}).catch(e=>{console.error("There was a problem with address lookup:",e)})}},ccsZFoundAddress=e=>{let t=document.getElementById("rfi_save_address_btn");t.disabled=!1,t.setAttribute("aria-disabled",!1),t.classList.remove("govuk-button--disabled")},ccsZInitAddressFinder=e=>{document.getElementById(e).parentNode.classList.add("ccs-dynaform-hidden")},ccsZResetAddress=e=>{e.preventDefault(),document.getElementById("ccs_postcode_holder").classList.add("ccs-dynaform-hidden"),document.getElementById("rfi_proj_address-postcode").classList.remove("ccs-dynaform-hidden"),document.getElementById("rfi_find_address_btn").classList.remove("ccs-dynaform-hidden"),document.getElementById("rfi_proj_address-address").parentNode.classList.add("ccs-dynaform-hidden"),document.getElementById("rfi_proj_address-postcode").value="",document.getElementById("rfi_proj_address-postcode").focus();let t=document.getElementById("rfi_save_address_btn");t.disabled=!0,t.setAttribute("aria-disabled",!0),t.classList.add("govuk-button--disabled")};document.addEventListener("DOMContentLoaded",()=>{let e=[1,2,3,4,5,6,7,8,9,10,11,12,13];for(let n of e){let o=$(`#clarification_date-day_${n}`),a=$(`#clarification_date-month_${n}`),i=$(`#clarification_date-year_${n}`),s=$(`#clarification_date-hour_${n}`),l=$(`#clarification_date-minute_${n}`);function t(e){let t="";return null!==document.getElementById(`rfi_clarification_date_expanded_${e}`)?t=`rfi_clarification_date_expanded_${e}`:null!==document.getElementById(`rfp_clarification_date_expanded_${e}`)?t=`rfp_clarification_date_expanded_${e}`:null!==document.getElementById(`eoi_clarification_date_expanded_${e}`)&&(t=`eoi_clarification_date_expanded_${e}`),t}function r(e,t,r){t-=1;var n=new Date(e,t,r);return n.getFullYear()==e&&n.getMonth()==t&&n.getDate()==r}$(`#ccs_rfp_response_date_form_${n}`).on("submit",c=>{c.preventDefault(),o.removeClass("govuk-input--error"),a.removeClass("govuk-input--error"),i.removeClass("govuk-input--error");let u=t(n);if(ccsZremoveErrorMessage(document.getElementById(u)),ccsZremoveErrorMessageRFIDate(),(null!=i.val()&&""==i.val()||null!=a.val()&&""==a.val()||null!=o.val()&&""==o.val())&&(null!=s.val()&&""==s.val()||null!=l.val()&&""==l.val())){o.addClass("govuk-input--error"),a.addClass("govuk-input--error"),i.addClass("govuk-input--error"),ccsZaddErrorMessage(document.getElementById(u),"Enter a date and time"),ccsZPresentErrorSummary([[u,"Enter a date and time"]])}else if(null!=i.val()&&""==i.val()||null!=a.val()&&""==a.val()||null!=o.val()&&""==o.val()){o.addClass("govuk-input--error"),a.addClass("govuk-input--error"),i.addClass("govuk-input--error"),ccsZaddErrorMessage(document.getElementById(u),"Enter a complete date"),ccsZPresentErrorSummary([[u,"Enter a complete date"]])}else if(null!=o.val()&&""==o.val()){o.addClass("govuk-input--error"),ccsZaddErrorMessage(document.getElementById(u),"Day should not be empty"),ccsZPresentErrorSummary([[u,"Day should not be empty"]])}else if(null!=a.val()&&""==a.val()){a.addClass("govuk-input--error"),ccsZaddErrorMessage(document.getElementById(u),"Month should not be empty"),ccsZPresentErrorSummary([[u,"Month should not be empty"]])}else if(null!=i.val()&&""==i.val()){i.addClass("govuk-input--error"),ccsZaddErrorMessage(document.getElementById(u),"Year should not be empty"),ccsZPresentErrorSummary([[u,"Year should not be empty"]])}else if(null!=s.val()&&""==s.val()){s.addClass("govuk-input--error"),ccsZaddErrorMessage(document.getElementById(u),"Enter a complete time"),ccsZPresentErrorSummary([[u,"Enter a complete time"]])}else if(null!=l.val()&&""==l.val()){l.addClass("govuk-input--error"),ccsZaddErrorMessage(document.getElementById(u),"Enter a complete time"),ccsZPresentErrorSummary([[u,"Enter a complete time"]])}else if(r(i.val(),a.val(),o.val())){let t=new Date(document.getElementsByClassName(`dynamicid_${n-1}`)[0].innerText),r=new Date(i.val(),a.val()-1,o.val(),s.val(),l.val()),c=new Date,d=!1;if(e.length+1>n&&document.getElementsByClassName(`dynamicid_${n+1}`).length>0&&(c=new Date(document.getElementsByClassName(`dynamicid_${n+1}`)[0].innerText),d=!0),r<t){o.addClass("govuk-input--error"),a.addClass("govuk-input--error"),i.addClass("govuk-input--error"),ccsZaddErrorMessage(document.getElementById(u),"You cannot set a date and time that is earlier than the next milestone in the timeline"),ccsZPresentErrorSummary([[u,"You cannot set a date and time that is earlier than the next milestone in the timeline"]])}else if(d&&r>c){o.addClass("govuk-input--error"),a.addClass("govuk-input--error"),i.addClass("govuk-input--error"),ccsZaddErrorMessage(document.getElementById(u),"You cannot set a date and time that is greater than the next milestone in the timeline"),ccsZPresentErrorSummary([[u,"You cannot set a date and time that is greater than the next milestone in the timeline"]])}else document.getElementById(`ccs_rfp_response_date_form_${n}`).submit()}else{o.addClass("govuk-input--error"),ccsZaddErrorMessage(document.getElementById(u),"Enter a complete date"),ccsZPresentErrorSummary([[u,"Enter a complete date"]])}})}}),$(".save-button").on("click",e=>{if(null!=document.getElementsByClassName("clarification_1")[0]){let t=new Date(document.getElementsByClassName("clarification_1")[0].innerText),r=new Date(document.getElementsByClassName("clarification_2")[0].innerText),n=new Date(document.getElementsByClassName("clarification_3")[0].innerText),o=new Date(document.getElementsByClassName("clarification_4")[0].innerText),a=new Date(document.getElementsByClassName("clarification_5")[0].innerText),i=!1,s=[1,2,3,4,5];for(let l of s){let s=$(`#clarification_date-day_${l}`),c=$(`#clarification_date-month_${l}`),u=$(`#clarification_date-year_${l}`),d=$(`#clarification_date-hour_${l}`),m=$(`#clarification_date-minute_${l}`);if(null!=u.val()&&""!=u.val()&&null!=c.val()&&""!=c.val()&&null!=s.val()&&""!=s.val()){let g=new Date(u.val(),c.val()-1,s.val(),d.val(),m.val());switch(l){case 1:g<t&&(i=!0);break;case 2:g<r&&(e.preventDefault(),i=!0);break;case 3:g<n&&(e.preventDefault(),i=!0);break;case 4:g<o&&(e.preventDefault(),i=!0);break;case 5:g<a&&(e.preventDefault(),i=!0);break;default:i=!1}}}if(i){$("#event-name-error-date").html("You can not set a date and time that is earlier than the previous milestone in the timeline"),DaySelector.addClass("govuk-form-group--error"),MonthSelector.addClass("govuk-form-group--error"),YearSelector.addClass("govuk-form-group--error"),$(".durations").addClass("govuk-form-group--error"),ccsZPresentErrorSummary([["eoi_clarification_date","You can not set a date and time that is earlier than the previous milestone in the timeline"]])}else document.forms.ccs_eoi_response_date_form.submit()}}),document.addEventListener("DOMContentLoaded",()=>{if(null!==document.getElementById("ccs_rfi_procurement_lead")){document.getElementById("ccs_rfi_procurement_lead").addEventListener("change",function(t){t.preventDefault(),$.ajax({url:"/rfi/users-procurement-lead?id="+t.target.value,type:"GET",contentType:"application/json"}).done(function(t){e(t)}).fail(e=>{document.getElementById("lead-email").innerText="",document.getElementById("lead-telephone").innerText=""})});const e=e=>{document.getElementById("lead-email").innerText=e.userName,document.getElementById("lead-telephone").innerText="1",document.getElementById("rfi_procurement_lead_input").value=e.userName}}}),$(".add").addClass("ccs-dynaform-hidden");let totalCount=20,totalCountindex=21;document.addEventListener("DOMContentLoaded",()=>{const e=window.location.search,t=new URLSearchParams(e);if("RM6187"==urlParamsDefault.get("agreement_id")&&(totalCount=10,totalCountindex=11),null!==document.getElementById("ccs_rfi_questions_form")){$(".add").length;let e=totalCount,n=0,o=document.querySelectorAll("a.del");document.getElementById("ccs_criteria_add").classList.remove("ccs-dynaform-hidden");for(var r=totalCount;r>=1;r--){let t=document.getElementById("rfi_question_"+r);if(t.addEventListener("input",ccsZCountRfiQuestions),1===r){document.getElementById("rfi_question_"+r).classList.remove("ccs-dynaform-hidden"),document.querySelector("label[for=rfi_question_"+r+"]").classList.remove("ccs-dynaform-hidden")}else""!==t.value?(t.classList.remove("ccs-dynaform-hidden"),r===totalCount&&document.getElementById("ccs_criteria_add").classList.add("ccs-dynaform-hidden")):(document.querySelector("#fc_question_"+r).classList.add("ccs-dynaform-hidden"),e=r)}0==$("div.ccs-dynaform-hidden").length&&20==e&&"RM1557.13"==t.get("agreement_id")&&"Criterion 1"==t.get("id")&&"Group 3"==t.get("group_id")&&e++,document.getElementById("ccs_criteria_add").addEventListener("click",t=>{1==$("div.ccs-dynaform-hidden").length&&19==e&&(e=totalCount),t.preventDefault(),$(".govuk-error-summary").remove(),0==(errorStore=emptyQuestionFieldCheck()).length?(document.getElementById("rfi_question_"+e).classList.remove("ccs-dynaform-hidden"),document.querySelector("#fc_question_"+e).classList.remove("ccs-dynaform-hidden"),document.querySelector("label[for=rfi_question_"+e+"]").classList.remove("ccs-dynaform-hidden"),e>2&&(n=e-1),++e===totalCountindex&&document.getElementById("ccs_criteria_add").classList.add("ccs-dynaform-hidden")):ccsZPresentErrorSummary(errorStore)}),o.forEach(t=>{t.classList.remove("ccs-dynaform-hidden"),t.addEventListener("click",r=>{$(".govuk-error-message").html(""),r.preventDefault();let n=r.target.href.replace(/^(.+\/)(\d{1,2})$/,"$2"),o=Number(n)-1,a=t.closest("div"),i=a.nextElementSibling;if(n!=totalCountindex){let e=1,t=Number(n),r=Number(n),l=[];for(;i;){let n=i.classList;if(void 0!==Object.keys(n).find(e=>"closeCCS"===n[e])&&void 0===Object.keys(n).find(e=>"ccs-dynaform-hidden"===n[e])){let n=r;if(r+=1,l.push(r),1==e){let e;(s=document.getElementById("rfi_question_"+r))&&(e=document.getElementById("rfi_question_"+r).value,document.getElementById("rfi_question_"+n).value=e)}else{let e;t+=1,(s=document.getElementById("rfi_question_"+r))&&(e=document.getElementById("rfi_question_"+r).value,document.getElementById("rfi_question_"+n).value=e)}i=i.nextElementSibling}else i=!1;e++}if(l.length>0){let e=l.at(-1);(s=document.getElementById("rfi_question_"+e))&&(document.getElementById("rfi_question_"+e).value="",s.dispatchEvent(new Event("keyup"))),document.querySelector("#fc_question_"+e).classList.add("ccs-dynaform-hidden")}else{a.classList.add("ccs-dynaform-hidden"),(s=document.getElementById("rfi_question_"+r))&&(document.getElementById("rfi_question_"+r).value="",s.dispatchEvent(new Event("keyup"))),o>1&&document.querySelector("#fc_question_"+o+" a.del").classList.remove("ccs-dynaform-hidden"),document.getElementById("ccs_criteria_add").classList.remove("ccs-dynaform-hidden")}}else{var s;a.classList.add("ccs-dynaform-hidden"),(s=document.getElementById("rfi_question_"+nextLevel_coll))&&(document.getElementById("rfi_question_"+nextLevel_coll).value="",s.dispatchEvent(new Event("keyup"))),o>1&&document.querySelector("#fc_question_"+o+" a.del").classList.remove("ccs-dynaform-hidden"),document.getElementById("ccs_criteria_add").classList.remove("ccs-dynaform-hidden")}11!=--e&&document.getElementById("ccs_criteria_add").classList.remove("ccs-dynaform-hidden")})});let a=totalCountindex;for(;--a;){document.querySelector("#rfi_question_"+a).addEventListener("focusout",e=>{if(""!==e.target.value){let e=document.getElementById("ccs_rfi_questions_form").getAttribute("action");e+="&stop_page_navigate=true",$.ajax({type:"POST",url:e,data:$("#ccs_rfi_questions_form").serialize(),success:function(){}})}})}}});const emptyQuestionFieldCheck=()=>{let e=!0,t=[];!0!==e&&t.push(e);for(var r=1;r<totalCountindex;r++)document.getElementById("fc_question_"+r).classList.contains("ccs-dynaform-hidden")||(1==r?("RM6187"==urlParams.get("agreement_id")?errText="Enter at least one question before attempting to add another":"RM1557.13"==urlParams.get("agreement_id")?errText="Enter at least one question before attempting to add another":errText="You must add at least one question",e=ccsZvalidateWithRegex("rfi_question_1",errText,/\w+/)):e="RM1557.13"==urlParams.get("agreement_id")||"RM6187"==urlParams.get("agreement_id")?ccsZvalidateWithRegex("rfi_question_"+r,"Enter a question before you proceed",/\w+/):ccsZvalidateWithRegex("rfi_question_"+r,"You must type a question before you can add another question",/\w+/),!0!==e&&t.push(e));return t},emptyQuestionFieldCheckForSave=()=>{let e="",t=[];for(var r=1;r<totalCountindex;r++)document.getElementById("fc_question_"+r).classList.contains("ccs-dynaform-hidden")||(1==r?(urlParams.get("agreement_id"),errText="Enter at least one question",e=ccsZvalidateWithRegex("rfi_question_1",errText,/\w+/)):e="RM1557.13"==urlParams.get("agreement_id")||"RM6187"==urlParams.get("agreement_id")?ccsZvalidateWithRegex("rfi_question_"+r,"Enter a question before you proceed",/\w+/):ccsZvalidateWithRegex("rfi_question_"+r,"You must type a question before you can add another question",/\w+/));return!0!==e&&t.push(e),t},ccsZvalidateRfIQuestions=e=>{e.preventDefault(),0===(errorStore=emptyQuestionFieldCheckForSave()).length?document.forms.ccs_rfi_questions_form.submit():ccsZPresentErrorSummary(errorStore)},ccsZCountRfiQuestions=e=>{e.preventDefault();const t=e.srcElement.id,r=document.getElementById(t),n=t.split("rfi_question_");for(var o=1;o<=totalCount;o++);document.getElementById("rfi_label_question_"+n[1]),r.getAttribute("maxlength"),r.value.length};$(".add").addClass("ccs-dynaform-hidden");const totalElementSelectors=Array.from(Array(6).keys()).slice(1);for(const e of totalElementSelectors){let t=$("#rfi_clarification_date_expanded_"+e);0===t.length&&(t=$("#rfi_clarification_date_expanded_"+e)),t.fadeOut()}for(const e of totalElementSelectors){let t="#cancel_change_clarification_date_"+e,r=$("#change_clarification_date_"+e),n=$(t);r.fadeIn(),n.fadeIn(),r.on("click",()=>{localStorage.removeItem("dateItem"),localStorage.setItem("dateItem",r.selector);let t=$("#rfi_clarification_date_expanded_"+e);0===t.length&&(t=$("#rfi_clarification_date_expanded_"+e)),$(".rfi_hideFirst:visible").length&&($(".rfi_hideFirst").hide(),$(".change").show()),t.fadeIn(),r.hide(),saveButtonHideDateRfi()})}errorSelectorId="";let errorSelector=$("#click-error");errorSelector.on("click",()=>{let e=$("#click-error").attr("href"),t=$("#click-error").text();errorSelectorId=e,$(e).fadeIn(),ccsZaddErrorMessage(document.getElementById(e.slice(1)),t)});for(const e of totalElementSelectors){$("#cancel_change_clarification_date_"+e).on("click",()=>{let t="#rfi_clarification_date_expanded_"+e,r=$(t);if(0===r.length&&(t="#rfi_clarification_date_expanded_"+e,r=$(t)),r.fadeOut(),r.find("input[type=text]").val(""),ccsZremoveErrorMessageRFIDate(document.getElementById(t.slice(1))),errorSelectorId===t)for(let e of totalElementSelectors){$("#change_clarification_date_"+e).show()}else{$("#change_clarification_date_"+e).show()}saveButtonUnHideDateRfi()})}const saveButtonHideDateRfi=()=>{document.getElementById("hideMeWhileDateChange").disabled=!0},saveButtonUnHideDateRfi=()=>{document.getElementById("hideMeWhileDateChange").disabled=!1};document.addEventListener("DOMContentLoaded",()=>{if(null!==document.getElementById("ccs-rfi-suppliers-form")){let e=document.getElementById("supplier-page1"),t=document.getElementById("supplier-page2"),r=document.getElementById("supplier-page3");t.classList.add("ccs-dynaform-hidden"),r.classList.add("ccs-dynaform-hidden"),document.getElementById("rfi_page-1-next-link").addEventListener("click",r=>{r.preventDefault(),e.classList.add("ccs-dynaform-hidden"),t.classList.remove("ccs-dynaform-hidden")}),document.getElementById("rfi_page-2-previous-link").addEventListener("click",r=>{r.preventDefault(),e.classList.remove("ccs-dynaform-hidden"),t.classList.add("ccs-dynaform-hidden")}),document.getElementById("rfi_page-2-next-link").addEventListener("click",e=>{e.preventDefault(),t.classList.add("ccs-dynaform-hidden"),r.classList.remove("ccs-dynaform-hidden")}),document.getElementById("rfi_page-3-previous-link").addEventListener("click",e=>{e.preventDefault(),r.classList.add("ccs-dynaform-hidden"),t.classList.remove("ccs-dynaform-hidden")})}}),$("#ccs_collab_view").hide();let rfpFormURL="/rfp/get-collaborator-detail/js-enabled";$("#potential-collaborator").hide(),$("#rfp_collaborators").on("change",function(){let e=this.value;if(""!==e){let t={rfp_collaborators:e};$.post(rfpFormURL,t,function(e){let{userName:t,firstName:r,lastName:n,tel:o}=e,a=r+" "+n,i=t;$("#potential-collaborator").show(),$("#show_collab_name").html(a),$("#show_collab_email").html(i),$("#show_collab-phone").html(o),$("#rfp_collaborator_append").val(i),$("#ccs_collab_add").prop("disabled",!1),$(".addcolleaguedetailsdos").show()}).fail(function(){console.log("failed")}).always(function(){console.log("finsihed")})}else $("#show_collab_name").html(""),$("#show_collab_email").html(""),$("#show_collab-phone").html(""),$("#ccs_collab_add").prop("disabled",!0),$(".addcolleaguedetailsdos").hide()}),$(".add").addClass("ccs-dynaform-hidden");const rfp_totalElementSelectors=Array.from(Array(14).keys()).slice(1);for(const e of rfp_totalElementSelectors){let t=$("#rfp_clarification_date_expanded_"+e);0===t.length&&(t=$("#rfp_clarification_date_expanded_"+e)),t.fadeOut()}for(const e of rfp_totalElementSelectors){let t="#change_clarification_date_"+e,r="#rfp_cancel_change_clarification_date_"+e,n=$(t),o=$(r);n.fadeIn(),o.fadeIn(),n.on("click",()=>{document.getElementById(`ccs_rfp_response_date_form_${e}`).reset(),localStorage.removeItem("dateItem"),localStorage.setItem("dateItem",t);let r=$("#rfp_clarification_date_expanded_"+e);0===r.length&&(r=$("#rfp_clarification_date_expanded_"+e)),$(".hideFirst:visible").length&&($(".hideFirst").hide(),$(".change").show()),r.fadeIn(),n.hide(),saveButtonHideDateRFP()});let a=$("#click-error");$("#rfp_cancel_change_clarification_date_"+e).click(function(){$(".govuk-error-message").hide(),$(".govuk-error-summary").hide(),elementClicked=$("#showDateDiv"+e),elementClicked.removeClass("govuk-form-group--error")}),a.on("click",()=>{let t=localStorage.getItem("dateItem");if(null!=t){let r,o=t.slice(1),a=$(t),i=$("#showDateDiv"+e).hasClass("govuk-form-group--error");n.selector===a.selector&&i?((a=$("#rfp_clarification_date_expanded_"+e)).fadeIn(),n.hide()):(a.hide(),n.fadeIn()),document.getElementById("agreementID")&&(r=document.getElementById("agreementID").value),"RM1043.8"!=r&&"RM1557.13"!=r&&ccsZaddErrorMessage(document.getElementById(o),"You can not set a date and time that is earlier than the previous milestone in the timeline")}})}for(const e of rfp_totalElementSelectors){$("#rfp_cancel_change_clarification_date_"+e).on("click",()=>{$(`#clarification_date-day_${e}`).val(""),$(`#clarification_date-month_${e}`).val(""),$(`#clarification_date-year_${e}`).val(""),$(`#clarification_date-hour_${e}`).val(""),$(`#clarification_date-minute_${e}`).val("");let t="#rfp_clarification_date_expanded_"+e,r=$(t);0===r.length&&(t="#rfp_clarification_date_expanded_"+e,r=$(t)),r.fadeOut(),ccsZremoveErrorMessage(document.getElementById(t.slice(1))),$("#change_clarification_date_"+e).show(),saveButtonUnHideDateRFP()})}const saveButtonHideDateRFP=()=>{document.getElementById("hideMeWhileDateChange").disabled=!0},saveButtonUnHideDateRFP=()=>{document.getElementById("hideMeWhileDateChange").disabled=!1};document.addEventListener("DOMContentLoaded",()=>{var e=document.querySelectorAll(".rfp-service-capabilities"),t=document.getElementsByClassName("rfp_cap"),r=[],n="",o="";function a(e){s(),i();for(var t=1;t<r.length+1;t++){$(`#${e+"_"+t}`).on("click",()=>{s(),i()})}}function i(){let e=0;for(var r=0;r<t.length;r++)t[r].checked&&(e+=1);$("#total_added").text(e)}function s(){let e=0;for(var t=0;t<r.length;t++)r[t].checked&&(e+=1);n.innerHTML="["+e+" Selected ]"}function l(){for(var r=0;r<t.length;r++)t[r].checked=!1;!function(){for(var t=0;t<e.length;t++)document.getElementsByClassName("table-item-subtext")[t].innerHTML="[ 0 Selected ]";i()}()}function c(e){$(".pop").slideFadeToggle(function(){e.removeClass("selected")})}null!==e&&(ccsTabMenuNaviation(),e.length>0&&(n=document.getElementsByClassName("table-item-subtext")[0],null!=(o=e[0].getElementsByTagName("a")[0].childNodes[0].data)&&""!=o&&(o=o.replaceAll(" ","_"),r=document.getElementsByClassName(o),a(o)),Array.from(e).forEach(t=>{t.addEventListener("click",function(t){let i=t.currentTarget,s=$(this).index();return n=i.getElementsByClassName("table-item-subtext")[0],o=(o=e[s].getElementsByTagName("a")[0].childNodes[0].data).replaceAll(" ","_"),r=document.getElementsByClassName(o),a(o),!1})}))),$(".select_all").on("click",()=>{for(var e=0;e<r.length;e++)r[e].checked||(r[e].checked=!0);s(),i()}),$(".ca_da_service_cap").on("click",function(){return $(this).hasClass("selected")&&(c($(this)),$(".backdrop-vetting").fadeOut(200),$(".pop").slideFadeToggle()),!1}),$("#redirect-button-vetting").on("click",function(){if(c($(".dialog-close-vetting")),$(".backdrop-vetting").fadeOut(200),"Clear form"!=this.name)return!1;l()}),$(".dialog-close-vetting").on("click",function(){return $(".backdrop-vetting").fadeOut(200),c($(".dialog-close-vetting")),!1})});const countWords1=e=>!!e&&e.trim().split(/\s+/).length;document.addEventListener("DOMContentLoaded",()=>{if(null!==document.getElementById("ccs_rfp_acronyms_form")){let r,n;document.getElementById("q_mandatory")&&(r=document.getElementById("q_mandatory").value),document.getElementById("agreementID")&&(n=document.getElementById("agreementID").value);let o=20,a=document.querySelectorAll("a.del"),i=document.querySelectorAll("a.clear-fields"),s=[];for(var e=20;e>1;e--){let t=document.querySelector(".acronym_"+e),r=document.getElementById("rfp_term_"+e);document.getElementById("deleteButton_acronym_"+e).classList.remove("ccs-dynaform-hidden"),""!==r.value?(t.classList.remove("ccs-dynaform-hidden"),s.push(e),20===e&&document.getElementById("ccs_rfpTerm_add").classList.add("ccs-dynaform-hidden")):(t.classList.add("ccs-dynaform-hidden"),o=e),2===e&&s.length>0&&$("#deleteButton_acronym_"+s[s.sort((e,t)=>e-t).length-1]).removeClass("ccs-dynaform-hidden")}if(19!=s.length&&document.getElementById("ccs_rfpTerm_add").classList.remove("ccs-dynaform-hidden"),document.getElementById("ccs_rfpTerm_add").addEventListener("click",e=>{if($(".govuk-form-group textarea").removeClass("govuk-textarea--error"),checkFieldsRfp1(),e.preventDefault(),errorStoreforOptional=emptyFieldCheckdos("addmore"),0==errorStoreforOptional.length)if(0==(errorStore=emptyFieldCheckRfp1()).length){removeErrorFieldsRfp1();let e=document.getElementById("rfp_term_"+o).value,t=document.getElementById("rfp_term_"+o).value;""!=e&&""!=t?20==o?document.getElementById("ccs_rfpTerm_add").classList.add("ccs-dynaform-hidden"):(o++,document.querySelector(".acronym_"+o).classList.remove("ccs-dynaform-hidden"),$("#deleteButton_acronym_"+o).removeClass("ccs-dynaform-hidden"),20===o&&document.getElementById("ccs_rfpTerm_add").classList.add("ccs-dynaform-hidden")):(document.querySelector(".acronym_"+o).classList.remove("ccs-dynaform-hidden"),$("#deleteButton_acronym_"+o).removeClass("ccs-dynaform-hidden"),o++),21===o&&document.getElementById("ccs_rfpTerm_add").classList.add("ccs-dynaform-hidden")}else ccsZPresentErrorSummary(errorStore);else ccsZPresentErrorSummary(errorStoreforOptional)}),a.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();let r=e.href.replace(/^(.+\/)(\d{1,2})$/,"$2"),n=Number(r)-1,a=e.closest("fieldset"),i=a.nextElementSibling;if(console.log(`target: ${r}`),20!=r){let e=1,t=Number(r),o=Number(r),c=[];for(;i;){let r=i.classList;if(void 0!==Object.keys(r).find(e=>"closeCCS"===r[e])&&void 0===Object.keys(r).find(e=>"ccs-dynaform-hidden"===r[e])){let r=o;if(o+=1,c.push(o),1==e){console.log(`First: ${e} - ${t}`);var s=i.querySelector("[name='term']"),l=i.querySelector("[name='value']");console.log(s.value),console.log(l.value),document.getElementById("rfp_term_"+r).value=s.value,document.getElementById("rfp_term_definition_"+r).value=l.value}else{t+=1,console.log(`Usual: ${e} - ${t}`);s=i.querySelector("[name='term']"),l=i.querySelector("[name='value']");console.log(s.value),console.log(l.value),document.getElementById("rfp_term_"+t).value=s.value,document.getElementById("rfp_term_definition_"+t).value=l.value}console.log(i.classList),i=i.nextElementSibling}else i=!1;e++}if(c.length>0){console.log(c);let e=c.at(-1);console.log(`removeLogic: ${e}`),document.getElementById("rfp_term_"+e).value="",document.getElementById("rfp_term_"+e).dispatchEvent(new Event("keyup")),document.getElementById("rfp_term_definition_"+e).value="",document.getElementById("rfp_term_definition_"+e).dispatchEvent(new Event("keyup")),document.getElementById("rfp_term_"+e).closest("fieldset").classList.add("ccs-dynaform-hidden")}else a.classList.add("ccs-dynaform-hidden"),document.getElementById("rfp_term_"+r).value="",document.getElementById("rfp_term_"+r).dispatchEvent(new Event("keyup")),document.getElementById("rfp_term_definition_"+r).value="",document.getElementById("rfp_term_definition_"+r).dispatchEvent(new Event("keyup")),n>1&&document.querySelector(".acronym_"+n+" a.del").classList.remove("ccs-dynaform-hidden"),document.getElementById("ccs_rfpTerm_add").classList.remove("ccs-dynaform-hidden")}else a.classList.add("ccs-dynaform-hidden"),document.getElementById("rfp_term_"+r).value="",document.getElementById("rfp_term_"+r).dispatchEvent(new Event("keyup")),document.getElementById("rfp_term_definition_"+r).value="",document.getElementById("rfp_term_definition_"+r).dispatchEvent(new Event("keyup")),n>1&&document.querySelector(".acronym_"+n+" a.del").classList.remove("ccs-dynaform-hidden"),document.getElementById("ccs_rfpTerm_add").classList.remove("ccs-dynaform-hidden");21!=--o&&document.getElementById("ccs_rfpTerm_add").classList.remove("ccs-dynaform-hidden")})}),i.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();let r=e.href.replace(/^(.+\/)(\d{1,2})$/,"$2"),n=e.closest("fieldset");console.log("inside clear field target",r),n.classList.add("ccs-dynaform"),removeErrorFieldsRfp1()})}),document.getElementsByClassName("term_acronym_fieldset").length>0){let e=document.getElementsByClassName("term_acronym_fieldset"),r=e.length;for(;r--;){let n=r+1,o=e[r].querySelector("#rfp_term_"+n);null!=o&&null!=o&&(console.log("eleTerm",o,n),o.addEventListener("focusout",e=>{let r=e.target,o="rfp_term_definition_"+n,a=document.getElementById(o);t(r,a)})),e[r].querySelector("#rfp_term_definition_"+n).addEventListener("focusout",e=>{let r=e.target,o="rfp_term_"+n,a=document.getElementById(o);t(a,r)});var t=function(e,t){if(console.log("inside submit"),""!==e.value&&""!==t.value){let e=document.getElementById("ccs_rfp_acronyms_form").getAttribute("action");e+="&stop_page_navigate=true"}}}}}});const checkFieldsRfp1=()=>{const e=document.getElementById("page-heading").innerHTML;for(var t=1;t<=20;t++){let r=$(`#rfp_term_${t}`),n=$(`#rfp_term_definition_${t}`);if(!e.includes("(Optional)")){const e=countWords1(r.val())<50,o=countWords1(n.val())<150;(""!==r.val()||e)&&($(`#rfp_term_${t}-error`).remove(),$(`.acronym_${t} div`).removeClass("govuk-form-group--error"),$(`.acronym_${t} input`).removeClass("govuk-input--error")),(""!==n.val()||o)&&($(`#rfp_term_definition_${t}-error`).remove(),$(`.acronym_${t} div`).removeClass("govuk-form-group--error"),$(`.acronym_${t} textarea`).removeClass("govuk-input--error"),$(`.acronym_${t} textarea`).removeClass("govuk-textarea--error"))}}},removeErrorFieldsRfp1=()=>{$(".govuk-error-message").remove(),$(".govuk-form-group--error").removeClass("govuk-form-group--error"),$(".govuk-error-summary").remove(),$(".govuk-input").removeClass("govuk-input--error"),$(".govuk-select").removeClass("govuk-select--error"),$(".govuk-form-group textarea").removeClass("govuk-textarea--error"),$(".govuk-form-group textarea").removeClass("govuk-textarea--error1")};let rfp_term_text=document.querySelectorAll(".rfpterm"),rfp_term_definition=document.querySelectorAll(".rfp_term_definition"),messagesendcountEle=document.querySelectorAll(".messagesendcount"),subjecterror=document.querySelectorAll("#create_subject_input"),classification_input=document.querySelectorAll("#create_message"),supplier_error=document.querySelectorAll("#create_supplier_message"),removeErr=document.querySelectorAll(".removeErr"),removeErrCheckbox=document.querySelectorAll(".removeErrCheckbox");removeErr.forEach(e=>{e.addEventListener("keydown",e=>{removeErrorFieldsRfp1()})}),removeErrCheckbox.forEach(e=>{e.addEventListener("change",e=>{removeErrorFieldsRfp1()})}),classification_input.forEach(e=>{e.addEventListener("change",e=>{removeErrorFieldsRfp1()})}),supplier_error.forEach(e=>{e.addEventListener("change",e=>{removeErrorFieldsRfp1()})}),subjecterror.forEach(e=>{e.addEventListener("keydown",e=>{removeErrorFieldsRfp1()})}),rfp_term_text.forEach(e=>{e.addEventListener("keydown",e=>{removeErrorFieldsRfp1()})}),rfp_term_definition.forEach(e=>{e.addEventListener("keydown",e=>{removeErrorFieldsRfp1()})}),messagesendcountEle.forEach(e=>{e.addEventListener("keydown",e=>{removeErrorFieldsRfp1()})});const emptyFieldCheckdos=e=>{let t="",r=[];const n=window.location.search;new URLSearchParams(n);removeErrorFieldsRfp1();const o=document.getElementById("page-heading").innerHTML;"Terms and acronyms (Optional)"==o.trim()||"Terms and acronyms (optional)"==o.trim()?(fieldMsg="Enter a term or acronym",descMsg="Enter a definition for the term or acronym"):(fieldMsg="You must add information in all fields.",descMsg="You must add information in all fields.");for(var a=1;a<21;a++){let n=document.getElementById("rfp_term_"+a),o=document.getElementById("rfp_term_definition_"+a);if(null!=n&&void 0!==n.value&&void 0!==o)if("addmore"==e){countWords1(n.value),countWords1(o.value);-1===n.closest("fieldset").classList.value.indexOf("ccs-dynaform-hidden")&&(checkFieldsRfp1(),""===n.value.trim()&&(t=[n.id,fieldMsg],ccsZaddErrorMessage(n,fieldMsg),r.push(t)),""===o.value.trim()&&(t=[o.id,descMsg],ccsZaddErrorMessage(o,descMsg),r.push(t)))}else if(!(""==n.value&&""==o.value||""!=n.value&&""!=o.value)){countWords1(n.value),countWords1(o.value);-1===n.closest("fieldset").classList.value.indexOf("ccs-dynaform-hidden")&&(checkFieldsRfp1(),""===n.value.trim()?(t=[n.id,fieldMsg],ccsZaddErrorMessage(n,fieldMsg),r.push(t)):""===o.value.trim()&&(t=[o.id,descMsg],ccsZaddErrorMessage(o,descMsg),r.push(t)))}}return r},emptyFieldCheckRfp1=()=>{let e="",t=[];removeErrorFieldsRfp1();const r=document.getElementById("page-heading").innerHTML;for(var n=1;n<21;n++){let o=document.getElementById("rfp_term_"+n),a=document.getElementById("rfp_term_definition_"+n);if(null!=o&&void 0!==o.value&&void 0!==a){countWords1(o.value),countWords1(a.value);-1===o.closest("fieldset").classList.value.indexOf("ccs-dynaform-hidden")&&(checkFieldsRfp1(),r.includes("Optional")||r.includes("optional")||(""===o.value.trim()?(e=[o.id,"You must add information in all fields."],ccsZaddErrorMessage(o,"You must add information in all fields."),t.push(e)):""===a.value.trim()&&(e=[a.id,"You must add information in all fields."],ccsZaddErrorMessage(a,"You must add information in all fields."),t.push(e))))}}return t},emptyFieldCheckOptionalRfp1=()=>{let e="",t=[];removeErrorFieldsRfp1();document.getElementById("page-heading").innerHTML;const r=window.location.search,n=new URLSearchParams(r);let o;if(null!==document.getElementById("lID")&&(o=document.getElementById("lID").value),"RM1043.8"==n.get("agreement_id")&&"Criterion 3"==n.get("id")&&(1==o&&"Group 19"==n.get("group_id")||3==o&&"Group 17"==n.get("group_id"))){let r=document.getElementById("rfp_term_1"),n=document.getElementById("rfp_term_definition_1");null!=r&&void 0!==r.value&&""!==r.value.trim()&&-1===r.closest("fieldset").classList.value.indexOf("ccs-dynaform-hidden")&&(checkFieldsRfp1(),""===n.value.trim()&&(e=[n.id,"You must add information in all fields."],ccsZaddErrorMessage(n,"You must add information in all fields."),t.push(e)))}return t},ccsZvalidateRfpAcronymsRFP=e=>{if(e.preventDefault(),errorStoreforOptional=emptyFieldCheckdos("submit"),0==errorStoreforOptional.length){errorStore=null==(errorStore=emptyFieldCheckRfp1())||errorStore.length<=0?emptyFieldCheckRfp1():errorStore,console.log("Inside optional check errorStore after",errorStore);let e=document.getElementById("rfp_term_1"),t=document.getElementById("rfp_term_definition_1");if(null!=e&&void 0!==e.value&&""!==e.value.trim()&&null!=t&&null!=t.value&&""==t.value.trim()&&(errorStore=emptyFieldCheckOptionalRfp1()),0===errorStore.length){if(0!=document.getElementsByClassName("govuk-hint-error-message").length)return!1;document.forms.ccs_rfp_acronyms_form.submit()}else ccsZPresentErrorSummary(errorStore)}else ccsZPresentErrorSummary(errorStoreforOptional)};var maxchars=1e4;$(".rfp_term_definition").keyup(function(e){var t=$(this).val().length;$(this).val($(this).val().substring(0,maxchars));t=$(this).val().length;remain=maxchars-parseInt(t),$(this).text(remain)});let maxscount=6;$(".rfp_term_maxsupplycount").keyup(function(e){if(null!==document.getElementById("CurrentLotSupplierCount")){let e=document.getElementById("CurrentLotSupplierCount").value;""!=e&&(maxscount=(maxscount=parseInt(e)).toString().length)}var t=$(this).val().length;$(this).val($(this).val().substring(0,maxscount));t=$(this).val().length;remain=maxscount-parseInt(t),$(this).text(remain)});let maxscountscore=3;function hasDecimalPlace(e,t){var r=e.indexOf(".");return r>=0&&r<e.length-t}$(".percentage_limit").keyup(function(e){var t=$(this).val().length;$(this).val($(this).val().substring(0,maxscountscore));t=$(this).val().length;remain=maxscountscore-parseInt(t),$(this).text(remain)}),$(".percentage_limit_dos6").keypress(function(e){var t=String.fromCharCode(e.keyCode);if(4==this.value.length&&"."!==t&&"."!==this.value[2]&&void 0!==t)return e.preventDefault(),!1;var r=this.value+t;return isNaN(r)||hasDecimalPlace(r,3)?(e.preventDefault(),!1):void 0});var maxless=1e4;$(".rfpterm").keyup(function(e){var t=$(this).val().length;$(this).val($(this).val().substring(0,maxless));t=$(this).val().length;remain=maxless-parseInt(t),$(this).text(remain)});var nameproject=250;$(".nameproject").keyup(function(e){var t=$(this).val().length;$(this).val($(this).val().substring(0,nameproject));t=$(this).val().length;remain=nameproject-parseInt(t),$(this).text(remain)}),$(".nameproject").keypress(function(e){var t=$(this).val().length,r=e.which;if(t>=250&&8!=r&&(r<48||r>57))return!1});var nameprojectdos=500;$(".nameprojectdos").keyup(function(e){var t=$(this).val().length;$(this).val($(this).val().substring(0,nameprojectdos));t=$(this).val().length;remain=nameprojectdos-parseInt(t),$(this).text(remain)}),$(".nameprojectdos").keypress(function(e){var t=$(this).val().length,r=e.which;if(t>=500&&8!=r&&(r<48||r>57))return!1}),$(".rfpterm").keypress(function(e){var t=$(this).val().length,r=e.which;if(t>=500&&8!=r&&(r<48||r>57))return!1}),$(".rfp_term_definition").keypress(function(e){var t=$(this).val().length,r=e.which;if(t>=1e4&&8!=r&&(r<48||r>57))return!1});var messagesendcount=5e3;$(".messagesendcount").keyup(function(e){var t=$(this).val().length;$(this).val($(this).val().substring(0,messagesendcount));t=$(this).val().length;remain=messagesendcount-parseInt(t),$(this).text(remain)}),$(".messagesendcount").keypress(function(e){var t=$(this).val().length,r=e.which;if(t>=5e3&&8!=r&&(r<48||r>57))return!1});var messagesendcountDaSocial=2e3;$(".messagesendcountDaSocial").keyup(function(e){var t=$(this).val().length;$(this).val($(this).val().substring(0,messagesendcountDaSocial));t=$(this).val().length;remain=messagesendcountDaSocial-parseInt(t),$(this).text(remain)}),$(".messagesendcountDaSocial").keypress(function(e){var t=$(this).val().length,r=e.which;if(t>=2e3&&8!=r&&(r<48||r>57))return!1}),$(".rfp_term_definition_new").on("keypress",function(e){$(this).val();var t=(e=e||window.event).which?e.which:e.keyCode;return!(t>31&&(t<48||t>57))}),document.addEventListener("DOMContentLoaded",()=>{if(null!==document.getElementById("rfp_budget_for")){let e=document.querySelectorAll(".govuk-input");new RegExp(/^\d+$/);e.forEach(e=>{e.addEventListener("keydown",e=>{"."!==e.key&&69!==e.keyCode&&187!==e.keyCode&&189!==e.keyCode||e.preventDefault()})})}});const emptyQuestionFieldCheckBudget=()=>{let e="",t=[];const r=document.getElementById("page-heading").innerHTML.toLowerCase();new RegExp("^[0-9]$");if(null!=$("#rfp_maximum_estimated_contract_value").val()&&null!=$("#rfp_maximum_estimated_contract_value").val()){const n=$("#rfp_maximum_estimated_contract_value").val(),o=$("#rfp_minimum_estimated_contract_value").val();if("0"==n)return t.push(["rfp_maximum_estimated_contract_value","Value must be greater then or equal to 1"]),void ccsZPresentErrorSummary(t);if(""!=o&&""==n)return t.push(["rfp_maximum_estimated_contract_value","Please enter the Maximum"]),void ccsZPresentErrorSummary(t);if(n.includes("-"))return t.push(["rfp_maximum_estimated_contract_value","You must enter a positive value"]),void ccsZPresentErrorSummary(t);if(o.includes("-"))return t.push(["rfp_maximum_estimated_contract_value","You must enter a positive value"]),void ccsZPresentErrorSummary(t);if(r.includes("(optional)")){let r="";if(Number(n)<0&&(r="You must enter a positive value"),Number(n)>0&&Number(o)>0&&Number(n)<Number(o)){r="Entry should be greater than minimum estimated contract value";let n=document.getElementById("rfp_maximum_estimated_contract_value");ccsZaddErrorMessage(n,r),e=ccsZvalidateWithRegex("rfp_maximum_estimated_contract_value",r,/\d+/),t.push([n.id,r])}}}if(null!=$("#rfp_minimum_estimated_contract_value").val()&&null!=$("#rfp_minimum_estimated_contract_value").val()){const n=$("#rfp_maximum_estimated_contract_value").val(),o=$("#rfp_minimum_estimated_contract_value").val();if(n.includes("-"))return t.push(["rfp_maximum_estimated_contract_value","You must enter a positive value"]),void ccsZPresentErrorSummary(t);if(o.includes("-"))return t.push(["rfp_maximum_estimated_contract_value","You must enter a positive value"]),void ccsZPresentErrorSummary(t);let a="";if(r.includes("(optional)")&&(Number(o)<0&&(a="You must enter a positive value"),Number(o)>0&&Number(n)>0&&Number(o)>Number(n))){a="Entry should be lesser than maximum estimated contract value";let r=document.getElementById("rfp_minimum_estimated_contract_value");ccsZaddErrorMessage(r,a,!1),e=ccsZvalidateWithRegex("rfp_minimum_estimated_contract_value",a,/\d+/),t.push([r.id,a,!1])}}if($("#rfp_contracting_auth")&&!r.includes("(optional)")){let r="";$("#rfp_contracting_auth").val()||(r="You must enter information here"),!0!==(e=ccsZvalidateTextArea("rfp_contracting_auth",r))&&t.push(e)}if($("#rfp_prob_statement_n")&&!r.includes("(optional)")){let r="";$("#rfp_prob_statement_n").val()||(r="You must enter information here"),condLength($("#rfp_prob_statement_n").val())&&(r=char?"Entry must be <= 5000 characters":"Entry must be <= 500 words"),!0!==(e=ccsZvalidateTextArea("rfp_prob_statement_n",r,!condLength($("#rfp_prob_statement_n").val())))&&t.push(e)}if($("#rfp_prob_statement_e")&&!r.includes("(optional)")){let r="";$("#rfp_prob_statement_e").val()||(r="You must enter information here"),condLength($("#rfp_prob_statement_e").val())&&(r=char?"Entry must be <= 5000 characters":"Entry must be <= 500 words"),!0!==(e=ccsZvalidateTextArea("rfp_prob_statement_e",r,!condLength($("#rfp_prob_statement_e").val())))&&t.push(e)}return t},ccsZvalidateBudgetQuestions=e=>{e.preventDefault();const t=emptyQuestionFieldCheckBudget();0===t.filter(Boolean).length?document.forms.rfp_budget_for.submit():ccsZPresentErrorSummary(t)},removeErrorFieldsRfpBudget=()=>{$(".govuk-error-message").remove(),$(".govuk-form-group--error").removeClass("govuk-form-group--error"),$(".govuk-error-summary").remove(),$(".govuk-input").removeClass("govuk-input--error"),$(".govuk-form-group textarea").removeClass("govuk-textarea--error")};$("#rfp_budget_for").on("submit",e=>{$(".govuk-error-message").remove(),$(".govuk-form-group--error").removeClass("govuk-form-group--error"),$(".govuk-error-summary").remove(),$(".govuk-input").removeClass("govuk-input--error"),$(".govuk-form-group textarea").removeClass("govuk-textarea--error"),e.preventDefault();const t=emptyQuestionFieldCheckBudget();0===t.filter(Boolean).length?document.forms.rfp_budget_for.submit():ccsZPresentErrorSummary(t)});let evaluateSupplierForm=$("#suppliers_to_evaluate"),initmax=document.getElementById("CurrentLotSupplierCount");function daysInYear(e){return e%4==0&&e%100>0||e%400==0?366:365}function isValidDate(e,t,r){t-=1;var n=new Date(e,t,r);return n.getFullYear()==e&&n.getMonth()==t&&n.getDate()==r}function checkResourceStartDate(){let e=!0,t="",r=[],n=$(".rfp_resource_start_day"),o=$(".rfp_resource_start_month"),a=$(".rfp_resource_start_year");if(document.getElementById("agreementID").value,""==n.val()&&""==o.val()&&""==a.val()){if("RM1043.8"!==document.getElementById("agreementID").value&&"RM1557.13"!==document.getElementById("agreementID").value){e=!1,n.addClass("govuk-form-group--error"),o.addClass("govuk-form-group--error"),a.addClass("govuk-form-group--error"),$(".durations").addClass("govuk-form-group--error");let i="Enter a latest start date";!0!==(t=ccsZvalidateDateWithRegex("rfp_resource_start_date_day_Question11","rfp_resource_start_date",i,/^\d{1,}$/))?r.push(t):t=ccsZvalidateWithRegex("rfp_resource_start_day",i,/^\d{1,}$/)}}else if(""==n.val()){let s="Enter a valid date";if("RM1043.8"===document.getElementById("agreementID").value||"RM1557.13"===document.getElementById("agreementID").value)if(removeErrorFieldsdates(),""==n.val()&&""==o.val()&&""!=a.val())s=a.val().length<4?"Enter a day and month with valid Year(YYYY Format)":"Enter a day and month",o.addClass("govuk-form-group--error");else if(""==n.val()&&""==a.val()&&""!=o.val())s="Enter a day and year",a.addClass("govuk-form-group--error");else if(""==n.val()&&""!=a.val()&&a.val().length<4&&""!=o.val())s="Enter a day with valid Year(YYYY Format)",a.addClass("govuk-form-group--error");else if(""==n.val()){s="Enter a day";var i=new URLSearchParams(window.location.search);null!==document.getElementById("lID")&&(lotId=document.getElementById("lID").value),o.removeClass("govuk-form-group--error"),a.removeClass("govuk-form-group--error")}e=!1,n.addClass("govuk-form-group--error"),o.addClass("govuk-form-group--error"),a.addClass("govuk-form-group--error"),$(".durations").addClass("govuk-form-group--error"),$("#event-name-error-date").html("Enter a valid date"),!0!==(t=ccsZvalidateDateWithRegex("rfp_resource_start_date_day_Question11","rfp_resource_start_date",s,/^\d{1,}$/))&&r.push(t)}else if(n.val()<1)e=!1,n.addClass("govuk-form-group--error"),o.addClass("govuk-form-group--error"),a.addClass("govuk-form-group--error"),$(".durations").addClass("govuk-form-group--error"),$("#event-name-error-date").html("Enter a valid date"),!0!==(t=ccsZvalidateWithRegex("rfp_resource_start_date","Enter a valid date",/^\d{1,}$/))?r.push(t):t=ccsZvalidateWithRegex("rfp_resource_start_date","Enter a valid date",/^\d{1,}$/);else if(""==o.val()){if(error_msg="Enter a valid month","RM1043.8"===document.getElementById("agreementID").value||"RM1557.13"===document.getElementById("agreementID").value)if(removeErrorFieldsdates(),""!=n.val()&&""==o.val()&&""==a.val())error_msg="Enter a month and year",a.addClass("govuk-form-group--error");else if(""==o.val()&&""!=a.val()&&a.val().length<4&&""!=n.val())error_msg="Enter a month with valid Year(YYYY Format)",a.addClass("govuk-form-group--error");else if(""==o.val()){error_msg="Enter a month";i=new URLSearchParams(window.location.search);null!==document.getElementById("lID")&&(lotId=document.getElementById("lID").value),a.removeClass("govuk-form-group--error")}e=!1,a.addClass("govuk-form-group--error"),o.addClass("govuk-form-group--error"),n.addClass("govuk-form-group--error"),$(".durations").addClass("govuk-form-group--error"),$("#event-name-error-date").html("Enter a valid month"),!0!==(t=ccsZvalidateDateWithRegex("rfp_resource_start_date_month_Question 11","rfp_resource_start_date",error_msg,/^\d{1,}$/))&&r.push(t)}else if(o.val()<1)e=!1,o.addClass("govuk-form-group--error"),n.addClass("govuk-form-group--error"),a.addClass("govuk-form-group--error"),$(".durations").addClass("govuk-form-group--error"),$("#event-name-error-date").html("Enter a valid month"),!0!==(t=ccsZvalidateWithRegex("rfp_resource_start_month",error_msg,/^\d{1,}$/))?r.push(t):t=ccsZvalidateWithRegex("rfp_resource_start_month",error_msg,/^\d{1,}$/);else if(""==a.val()){if(error_msg="Enter a year",removeErrorFieldsdates(),"RM1043.8"===document.getElementById("agreementID").value){error_msg="Enter a year";i=new URLSearchParams(window.location.search);null!==document.getElementById("lID")&&(lotId=document.getElementById("lID").value,"1"==lotId&&"Group 17"==i.get("group_id")&&(error_msg="Enter a year using the YYYY format"))}e=!1,a.addClass("govuk-form-group--error"),n.addClass("govuk-form-group--error"),o.addClass("govuk-form-group--error"),$(".durations").addClass("govuk-form-group--error"),$("#event-name-error-date").html("Enter a year"),!0!==(t=ccsZvalidateDateWithRegex("rfp_resource_start_date_year_Question 11","rfp_resource_start_date",error_msg,/^\d{1,}$/))&&r.push(t)}else""!=a.val()&&a.val().length<4?(removeErrorFieldsdates(),e=!1,a.addClass("govuk-form-group--error"),n.addClass("govuk-form-group--error"),o.addClass("govuk-form-group--error"),$(".durations").addClass("govuk-form-group--error"),$("#event-name-error-date").html("Enter a year"),!0!==(t=ccsZvalidateDateWithRegex("rfp_resource_start_date_year_Question 11","rfp_resource_start_date","Enter a year using the YYYY format",/^\d{4,}$/))&&r.push(t)):Number(a.val())<=1?(error_msg="Enter a year using the YYYY format",e=!1,a.addClass("govuk-form-group--error"),n.addClass("govuk-form-group--error"),o.addClass("govuk-form-group--error"),$(".durations").addClass("govuk-form-group--error"),$("#event-name-error-date").html("Enter a year"),!0!==(t=ccsZvalidateDateWithRegex("rfp_resource_start_date_year_Question 11","rfp_resource_start_date","Enter a year using the YYYY format",/^\d$/))&&r.push(t)):(e=!0,a.removeClass("govuk-form-group--error"),o.removeClass("govuk-form-group--error"),n.removeClass("govuk-form-group--error"),$(".durations").removeClass("govuk-form-group--error"),$("#event-name-error-date").html(""),isValidDate(a.val(),o.val(),n.val())?(e=!0,$(".durations").removeClass("govuk-form-group--error"),$("#event-name-error-date").html("")):(e=!1,$(".durations").addClass("govuk-form-group--error"),$("#event-name-error-date").html("Enter a valid date"),!0!==t?(t=ccsZvalidateWithRegex("rfp_resource_start_date_day_Question11","Enter a valid date",/^\d{1,}$/,!1),r.push(t)):(t=ccsZvalidateWithRegex("rfp_resource_start_date_day_Question11","Enter a valid date",/^\d{1,}$/),r.push(t))));return r.length>0?(ccsZPresentErrorSummary(r),!1):e}function isProjectExtensionValid(){let e=!1;$(".p_durations").removeClass("govuk-form-group--error"),removeErrorFieldsdates();let t=$(".p_durations")[0].classList[1],r=$(".p_durations")[1].classList[1];const n=document.getElementsByClassName("rfp_duration_year_25"),o=document.getElementsByClassName("rfp_duration_month_25"),a=document.getElementsByClassName("rfp_duration_day_25"),i=document.getElementsByClassName("p_durations_pday_25"),s=n[0].value,l=o[0].value,c=a[0].value;var u=0;let d="",m=[];if(null!=document.getElementById("rfp_duration-years_Question12")&&null!=document.getElementById("rfp_duration-years_Question12")&&0===document.getElementById("rfp_duration-years_Question12").value.trim().length?"RM1043.8"===document.getElementById("agreementID").value&&"Group 18"===document.getElementById("gID").value&&"1"===document.getElementById("lID").value?null!=document.getElementById("rfp_duration_months_Question12")&&null!=document.getElementById("rfp_duration_months_Question12")&&0===document.getElementById("rfp_duration_months_Question12").value.trim().length&&null!=document.getElementById("rfp_duration_days_Question12")&&null!=document.getElementById("rfp_duration_days_Question12")&&0===document.getElementById("rfp_duration_days_Question12").value.trim().length&&!0!==(d=ccsZvalidateWithRegex("rfp_duration_Question12","Enter the expected contract length",/^\d{1,}$/))&&m.push(d):"RM1557.13"===document.getElementById("agreementID").value&&"Group 10"===document.getElementById("gID").value&&"4"===document.getElementById("lID").value?null!=document.getElementById("rfp_duration_months_Question12")&&null!=document.getElementById("rfp_duration_months_Question12")&&0===document.getElementById("rfp_duration_months_Question12").value.trim().length&&null!=document.getElementById("rfp_duration_days_Question12")&&null!=document.getElementById("rfp_duration_days_Question12")&&0===document.getElementById("rfp_duration_days_Question12").value.trim().length&&!0!==(d=ccsZvalidateWithRegex("rfp_duration_Question12","Enter the expected contract length",/^\d{1,}$/))&&m.push(d):!0!==(d=ccsZvalidateWithRegex("rfp_duration_Question12","Enter the expected contract length",/^\d{1,}$/))&&m.push(d):("RM1043.8"===document.getElementById("agreementID").value&&"Group 18"===document.getElementById("gID").value&&"1"===document.getElementById("lID").value||!0!==(d=ccsZvalidateWithRegex("rfp_duration-years_Question12","Enter a year",/^\d{1,}$/))&&m.push(d),"RM1557.13"===document.getElementById("agreementID").value&&"Group 10"===document.getElementById("gID").value&&"4"===document.getElementById("lID").value||!0!==(d=ccsZvalidateWithRegex("rfp_duration-years_Question12","Enter a year",/^\d{1,}$/))&&m.push(d)),null!=document.getElementById("rfp_duration_months_Question12")&&null!=document.getElementById("rfp_duration_months_Question12")&&0===document.getElementById("rfp_duration_months_Question12").value.trim().length){let e=document.getElementById("rfp_duration-years_Question12").value.trim(),t=document.getElementById("rfp_duration_months_Question12").value.trim();"RM1043.8"===document.getElementById("agreementID").value&&"Group 18"===document.getElementById("gID").value&&"1"===document.getElementById("lID").value?Number(e)<2&&Number(t)>0&&!0!==(d=ccsZvalidateWithRegex("rfp_duration_months_Question12","Enter a month",/^\d{1,}$/))&&m.push(d):"RM1557.13"===document.getElementById("agreementID").value&&"Group 10"===document.getElementById("gID").value&&"4"===document.getElementById("lID").value?Number(e)<2&&Number(t)>0&&!0!==(d=ccsZvalidateWithRegex("rfp_duration_months_Question12","Enter a month",/^\d{1,}$/))&&m.push(d):("RM1043.8"===document.getElementById("agreementID").value&&"Group 18"===document.getElementById("gID").value&&"1"===document.getElementById("lID").value||!0!==(d=ccsZvalidateWithRegex("rfp_duration_months_Question12","Enter a month",/^\d{1,}$/))&&m.push(d),"RM1557.13"===document.getElementById("agreementID").value&&"Group 10"===document.getElementById("gID").value&&"4"===document.getElementById("lID").value||!0!==(d=ccsZvalidateWithRegex("rfp_duration_months_Question12","Enter a month",/^\d{1,}$/))&&m.push(d))}else"RM1043.8"===document.getElementById("agreementID").value&&"Group 18"===document.getElementById("gID").value&&"1"===document.getElementById("lID").value||(d=ccsZvalidateWithRegex("rfp_duration_months_Question12","Enter a month",/^\d{1,}$/)),"RM1557.13"===document.getElementById("agreementID").value&&"Group 10"===document.getElementById("gID").value&&"4"===document.getElementById("lID").value||(d=ccsZvalidateWithRegex("rfp_duration_months_Question12","Enter a month",/^\d{1,}$/));if(null!=document.getElementById("rfp_duration_days_Question12")&&null!=document.getElementById("rfp_duration_days_Question12")&&0===document.getElementById("rfp_duration_days_Question12").value.trim().length){let e=document.getElementById("rfp_duration-years_Question12").value.trim(),t=document.getElementById("rfp_duration_days_Question12").value.trim();"RM1043.8"===document.getElementById("agreementID").value&&"Group 18"===document.getElementById("gID").value&&"1"===document.getElementById("lID").value?Number(e)<2&&Number(t)>0&&!0!==(d=ccsZvalidateWithRegex("rfp_duration_days_Question12","Enter a day",/^\d{1,}$/))&&m.push(d):"RM1557.13"===document.getElementById("agreementID").value&&"Group 10"===document.getElementById("gID").value&&"4"===document.getElementById("lID").value?Number(e)<2&&Number(t)>0&&!0!==(d=ccsZvalidateWithRegex("rfp_duration_days_Question12","Enter a day",/^\d{1,}$/))&&m.push(d):("RM1043.8"===document.getElementById("agreementID").value&&"Group 18"===document.getElementById("gID").value&&"1"===document.getElementById("lID").value||!0!==(d=ccsZvalidateWithRegex("rfp_duration_days_Question12","Enter a day",/^\d{1,}$/))&&m.push(d),"RM1557.13"===document.getElementById("agreementID").value&&"Group 10"===document.getElementById("gID").value&&"4"===document.getElementById("lID").value||!0!==(d=ccsZvalidateWithRegex("rfp_duration_days_Question12","Enter a day",/^\d{1,}$/))&&m.push(d))}else"RM1043.8"===document.getElementById("agreementID").value&&"Group 18"===document.getElementById("gID").value&&"1"===document.getElementById("lID").value||(d=ccsZvalidateWithRegex("rfp_duration_days_Question12","Enter a day",/^\d{1,}$/)),"RM1557.13"===document.getElementById("agreementID").value&&"Group 10"===document.getElementById("gID").value&&"4"===document.getElementById("lID").value||(d=ccsZvalidateWithRegex("rfp_duration_days_Question12","Enter a day",/^\d{1,}$/));let g="2",p="Expected contract length must be 2 years or less";"RM1557.13"===document.getElementById("agreementID").value&&"Group 10"===document.getElementById("gID").value&&"4"===document.getElementById("lID").value&&(g="3",p="Expected contract length must be 36 months or less"),null!=s&&""!=s&&(Number(s)<0?(e=!1,$(`.${t}`).addClass("govuk-form-group--error"),$(`.${i[0].classList[2]}`).html("Enter a year"),!0!==(d=ccsZvalidateWithRegex("rfp_duration-years","Enter a year",/^\d{1,}$/))&&m.push(d)):Number(s)>g?(e=!1,$(`.${t}`).addClass("govuk-form-group--error"),!0!==(d=ccsZvalidateWithRegex("rfp_duration_Question12",p,/^\d{1,}$/))&&m.push(d)):Number(s)>=g&&(Number(l)>0||Number(c)>0)&&(e=!1,$(`.${t}`).addClass("govuk-form-group--error"),!0!==(d=ccsZvalidateWithRegex("rfp_duration_Question12",p,/^\d{1,}$/))&&m.push(d)),u=365*Number(s)),null!=l&&""!=l&&(Number(l)<0?(e=!1,$(`.${t}`).addClass("govuk-form-group--error"),$(`.${i[0].classList[2]}`).html("Enter a valid month"),!0!==(d=ccsZvalidateWithRegex("rfp_duration-years","Enter a valid month",/^\d{1,}$/))&&m.push(d)):Number(l)>11&&(e=!1,$(`.${t}`).addClass("govuk-form-group--error"),$(`.${i[0].classList[2]}`).html("Project extension duration month value should not be more than 11"),!0!==(d=ccsZvalidateWithRegex("rfp_duration-years","Project extension duration month value should not be more than 11",/^\d{1,}$/))&&m.push(d)),u+=30*Number(l)),null!=c&&""!=c&&(Number(c)<0?(e=!1,$(`.${t}`).addClass("govuk-form-group--error"),$(`.${i[0].classList[2]}`).html("Enter a valid day"),!0!==(d=ccsZvalidateWithRegex("rfp_duration-years","Enter a valid day",/^\d{1,}$/))&&m.push(d)):Number(c)>31&&(e=!1,$(`.${t}`).addClass("govuk-form-group--error"),$(`.${i[0].classList[2]}`).html("Enter a valid day"),!0!==(d=ccsZvalidateWithRegex("rfp_duration-years","Enter a valid day",/^\d{1,}$/))&&m.push(d)),u+=Number(c)),(null!=s&&""!=s&&0==Number(s)||null!=l&&""!=l&&0==Number(l)||null!=c&&""!=c&&0==Number(c))&&0==Number(u)&&(e=!1,$(`.${t}`).addClass("govuk-form-group--error"),!0!==(d=ccsZvalidateWithRegex("rfp_duration_Question12","Enter a valid Expected contract length period",/^\d{1,}$/))&&m.push(d));const f=n[1].value,_=o[1].value,h=a[1].value;var v=0;if(null!=f&&""!=f&&(v=365*Number(f)),null!=_&&""!=_&&(v+=30*Number(_)),null!=h&&""!=h&&(v+=Number(h)),null!=u&&u>0&&null!=v&&v>0){let t=Number(u),n=Number(v);if(t>=n)if("RM1557.13"===document.getElementById("agreementID").value&&"Group 10"===document.getElementById("gID").value&&"4"===document.getElementById("lID").value)if(n>365)e=!1,$(`.${r}`).addClass("govuk-form-group--error"),!0!==(d=ccsZvalidateWithRegex("rfp_duration_Question13","Extension period must be 12 months or less",/^\d{1,}$/))&&m.push(d);else{e=!0,i&&i[1]&&$(`.${i[1].classList[2]}`).html("")}else{n/t*100>50?(e=!1,$(`.${r}`).addClass("govuk-form-group--error"),!0!==(d=ccsZvalidateWithRegex("rfp_duration_Question13","Extension period must be 50% of the contract period or less",/^\d{1,}$/))&&m.push(d)):(e=!0,i&&i[1]&&$(`.${i[1].classList[2]}`).html(""))}else t==n&&"RM1557.13"===document.getElementById("agreementID").value?e=!0:(e=!1,$(`.${r}`).addClass("govuk-form-group--error"),!0!==(d="RM1557.13"===document.getElementById("agreementID").value&&n>365?ccsZvalidateWithRegex("rfp_duration_Question13","Extension period must be 12 months or less",/^\d{1,}$/):ccsZvalidateWithRegex("rfp_duration_Question13","Extension period must be 50% of the contract period or less",/^\d{1,}$/))&&m.push(d))}else e=!0;return m.length>0?(ccsZPresentErrorSummary(m),!1):e}function isProjectStartDateValid(){let e="",t=[];const r=$(".rfp_resource_start_day"),n=$(".rfp_resource_start_month"),o=$(".rfp_resource_start_year");if(null!==r.val()&&""!==r.val()&&null!==n.val()&&""!==n.val()&&null!==o.val()&&""!==o.val()){let i;if(r.removeClass("govuk-form-group--error"),n.removeClass("govuk-form-group--error"),o.removeClass("govuk-form-group--error"),$(".durations").removeClass("govuk-form-group--error"),$("#rpf_section_3_aggrimentEndDate").attr("agreementEndDate")&&(i=$("#rpf_section_3_aggrimentEndDate").attr("agreementEndDate").split("-")),null!=i&&i.length>0){const s=null!=i&&null!=i?Number(i[0]):null,l=(null!=i&&null!=i?Number(i[1]):null)-1,c=null!=i&&null!=i?Number(i[2]):null,u=null!=s&&null!=l&&null!=c?new Date(s,l,c):null,d=null!=u?u.getTime():null,m=new Date(o.val(),n.val()-1,r.val()),g=m.getTime(),p=new Date;if(g>d&&"RM1557.13"!=document.getElementById("agreementID").value&&"RM6187"!=document.getElementById("agreementID").value)return r.addClass("govuk-form-group--error"),n.addClass("govuk-form-group--error"),o.addClass("govuk-form-group--error"),$(".durations").addClass("govuk-form-group--error"),!0!==(e=ccsZvalidateWithRegex("rfp_resource_start_date","It is recommended that your project does not start after lot expiry date",/^\d{1,}$/))?t.push(e):e=ccsZvalidateWithRegex("rfp_resource_start_date","It is recommended that your project does not start after lot expiry date",/^\d{1,}$/),t.length>0&&(ccsZPresentErrorSummary(t),!1);if($("#rfp_resource_start_date-hint-error").removeClass("govuk-error-message"),$(".rfp_resource_start_day").removeClass("govuk-input--error"),$(".rfp_resource_start_month").removeClass("govuk-input--error"),$(".rfp_resource_start_year").removeClass("govuk-input--error"),ccsZPresentErrorSummary(),"RM6187"!=document.getElementById("agreementID").value){if(m.setHours(0,0,0,0)!=p.setHours(0,0,0,0)&&g<p.getTime()){removeErrorFieldsdates();var a="Enter a date in the future";return"RM1043.8"===document.getElementById("agreementID").value&&(a=" Enter a date in the future"),r.addClass("govuk-form-group--error"),n.addClass("govuk-form-group--error"),o.addClass("govuk-form-group--error"),$(".durations").addClass("govuk-form-group--error"),!0!==(e=ccsZvalidateWithRegex("rfp_resource_start_date",a,/^\d{1,}$/))?t.push(e):e=ccsZvalidateWithRegex("rfp_resource_start_date",a,/^\d{1,}$/),t.length>0&&(ccsZPresentErrorSummary(t),!1)}$("#rfp_resource_start_date-hint-error").removeClass("govuk-error-message"),$(".rfp_resource_start_day").removeClass("govuk-input--error"),$(".rfp_resource_start_month").removeClass("govuk-input--error"),$(".rfp_resource_start_year").removeClass("govuk-input--error"),$("#rfp_resource_start_date-error").removeClass("govuk-error-message"),$("#rfp_resource_start_date-error").html(""),ccsZPresentErrorSummary()}}const s=new Date(Number(o.val()),Number(n.val()),Number(r.val()));return isValidDate(Number(o.val()),Number(n.val()),Number(r.val()))?s>new Date(2025,5,28)&&"RM1557.13"==document.getElementById("agreementID").value?($(".durations").addClass("govuk-form-group--error"),e=ccsZvalidateWithRegex("rfp_resource_start_date","Project cannot start after: 28 May 2025"),$(".resource_start_date").html("Project cannot start after: 28 May 2025"),!1):s>new Date(2025,8,23)&&"RM6187"!=document.getElementById("agreementID").value?($(".durations").addClass("govuk-form-group--error"),e=ccsZvalidateWithRegex("rfp_resource_start_date","Project cannot start after: 23 August 2025"),$(".resource_start_date").html("Project cannot start after: 23 August 2025"),!1):($(".durations").removeClass("govuk-form-group--error"),$(".resource_start_date").html(""),!0):($(".durations").addClass("govuk-form-group--error"),$(".resource_start_date").html("Enter a project start date"),!1)}if(null!==document.getElementById("agreementID")){if("RM1043.8"===document.getElementById("agreementID").value){let t=[];r.addClass("govuk-form-group--error"),n.addClass("govuk-form-group--error"),o.addClass("govuk-form-group--error"),$(".durations").addClass("govuk-form-group--error"),$("#event-name-error-date").html("Enter a project start date"),!0!==(e=ccsZvalidateWithRegex("rfp_resource_start_date-hint","Enter the latest start date",/^\d{1,}$/))&&t.push(e),t.length>0&&ccsZPresentErrorSummary(t)}if("RM1557.13"===document.getElementById("agreementID").value){let t=[];r.addClass("govuk-form-group--error"),n.addClass("govuk-form-group--error"),o.addClass("govuk-form-group--error"),$(".durations").addClass("govuk-form-group--error"),!0!==(e=ccsZvalidateWithRegex("rfp_resource_start_date-hint","Enter a latest start date",/^\d{1,}$/))&&t.push(e),t.length>0&&ccsZPresentErrorSummary(t)}}return!1}function isValidDate(e,t,r){t-=1;var n=new Date(e,t,r);return n.getFullYear()==e&&n.getMonth()==t&&n.getDate()==r}evaluateSupplierForm.on("submit",e=>{e.preventDefault(),errorStore=[];let t=document.getElementById("rfp_contracting_auth");if(ccsZremoveErrorMessage(t),t.value<3){var r=new URLSearchParams(window.location.search),n=r.get("agreement_id"),o=r.get("id"),a=r.get("group_id");"RM1043.8"==n&&"Criterion 2"==o&&"Group 2"==a?(ccsZaddErrorMessage(t,"Enter the quantity, minimum 3"),errorStore.push(["suppliers_to_evaluate","Enter the quantity, minimum 3"])):(ccsZaddErrorMessage(t,"Supplier must be minimum 3"),errorStore.push(["suppliers_to_evaluate","Supplier must be minimum 3"])),ccsZPresentErrorSummary(errorStore)}parseInt(t.value)>parseInt(initmax.value)&&(ccsZaddErrorMessage(t,`Value should not exceed current lot's suppliers (${initmax.value})`),errorStore.push(["suppliers_to_evaluate",`Value should not exceed current lot's suppliers (${initmax.value})`]),ccsZPresentErrorSummary(errorStore)),0==errorStore.length&&document.forms.suppliers_to_evaluate.submit()}),document.addEventListener("DOMContentLoaded",()=>{if(null!==document.getElementById("rfp_date")){let t=$(".rfp_resource_start_day"),r=$(".rfp_resource_start_month"),n=$(".rfp_resource_start_year");t.on("keydown",e=>{"."!==e.key&&69!==e.keyCode&&189!==e.keyCode&&109!==e.keyCode||e.preventDefault()}),r.on("keydown",e=>{"."!==e.key&&69!==e.keyCode&&189!==e.keyCode&&109!==e.keyCode||e.preventDefault()}),n.on("keydown",e=>{"."!==e.key&&69!==e.keyCode&&189!==e.keyCode&&109!==e.keyCode||e.preventDefault()}),t.on("keyup",()=>{a()}),r.on("keyup",()=>{i()}),n.on("keyup",()=>{s()});var e="";let o=$(".rfp_duration");o.on("keydown",e=>{"."!==e.key&&69!==e.keyCode&&189!==e.keyCode&&109!==e.keyCode||e.preventDefault()}),o.on("blur",t=>{let r=t.currentTarget.id,n=$(`#${r}`);e=r,r.includes("day")?l(n):r.includes("month")?c(n):r.includes("year")&&u(n)});const a=()=>{let e=t,r=!e.val().match(/^\d\d?$/),n=Number(e.val())>31,o=Number(e.val())<1;"RM1043.8"!==document.getElementById("agreementID").value&&(t.removeClass("govuk-form-group--error"),$(".durations").removeClass("govuk-form-group--error"),$("#event-name-error-date").html(""),null!=e&&""!=e.val()&&(r||n||o?(t.addClass("govuk-form-group--error"),$(".durations").addClass("govuk-form-group--error"),$("#event-name-error-date").html("Enter a valid date")):(t.removeClass("govuk-form-group--error"),$(".durations").removeClass("govuk-form-group--error"),$("#event-name-error-date").html(""))))},i=()=>{const e=r;let t=!e.val().match(/^\d\d?$/),n=Number(e.val())>12,o=Number(e.val())<=0;"RM1043.8"!==document.getElementById("agreementID").value&&(r.removeClass("govuk-form-group--error"),$(".durations").removeClass("govuk-form-group--error"),$("#event-name-error-month").html(""),null!=e&&""!=e.val()&&(t||n||o?(r.addClass("govuk-form-group--error"),$(".durations").addClass("govuk-form-group--error"),$("#event-name-error-month").html("Enter a valid month")):(r.removeClass("govuk-form-group--error"),$(".durations").removeClass("govuk-form-group--error"),$("#event-name-error-month").html(""))))},s=()=>{let e=n,t=!e.val().match(/^\d{4}$/),r=Number(e.val())>2121,o=(new Date).getFullYear();Number(e.val());"RM1043.8"!==document.getElementById("agreementID").value&&(n.removeClass("govuk-form-group--error"),null!=e&&""!=e.val()&&(t||r?n.addClass("govuk-form-group--error"):n.removeClass("govuk-form-group--error")))},l=t=>{let r=t,n=!r.val().match(/^\d\d?$/),o=Number(r.val())>31,a=Number(r.val())<0;if("RM1043.8"===document.getElementById("agreementID").value&&"Group 18"===document.getElementById("gID").value&&"1"===document.getElementById("lID").value&&removeErrorFieldsdates(),"RM1557.13"===document.getElementById("agreementID").value&&"Group 10"===document.getElementById("gID").value&&"4"===document.getElementById("lID").value&&removeErrorFieldsdates(),"RM1043.8"===document.getElementById("agreementID").value&&"Group 18"===document.getElementById("gID").value&&"1"===document.getElementById("lID").value){(n||o||a)&&""!=r.val()||($(`#${e}`).removeClass("govuk-form-group--error"),$(`.${e}`).removeClass("govuk-form-group--error"),$(`.p_durations_${e}`).html(""))}else if("RM1557.13"===document.getElementById("agreementID").value&&"Group 10"===document.getElementById("gID").value&&"4"===document.getElementById("lID").value){(n||o||a)&&""!=r.val()||($(`#${e}`).removeClass("govuk-form-group--error"),$(`.${e}`).removeClass("govuk-form-group--error"),$(`.p_durations_${e}`).html(""))}else(n||o||a)&&""!=r.val()?($(`#${e}`).addClass("govuk-form-group--error"),$(`.${e}`).addClass("govuk-form-group--error"),$(`.p_durations_${e}`).html("Enter a valid day")):($(`#${e}`).removeClass("govuk-form-group--error"),$(`.${e}`).removeClass("govuk-form-group--error"),$(`.p_durations_${e}`).html(""))},c=t=>{const r=t;let n=!r.val().match(/^\d\d?$/),o=Number(r.val())>12,a=Number(r.val())<0;if("RM1043.8"===document.getElementById("agreementID").value&&"Group 18"===document.getElementById("gID").value&&"1"===document.getElementById("lID").value&&removeErrorFieldsdates(),"RM1557.13"===document.getElementById("agreementID").value&&"Group 10"===document.getElementById("gID").value&&"4"===document.getElementById("lID").value&&removeErrorFieldsdates(),"RM1043.8"===document.getElementById("agreementID").value&&"Group 18"===document.getElementById("gID").value&&"1"===document.getElementById("lID").value){o=Number(r.val())>11;(n||o||a)&&""!=r.val()||$(`.p_durations_${e}`).html("")}else if("RM1557.13"===document.getElementById("agreementID").value&&"Group 10"===document.getElementById("gID").value&&"4"===document.getElementById("lID").value){o=Number(r.val())>11;(n||o||a)&&""!=r.val()||$(`.p_durations_${e}`).html("")}else(n||o||a)&&""!=r.val()?$(`.p_durations_${e}`).html("Enter a valid month"):$(`.p_durations_${e}`).html("")},u=t=>{let r=t,n=!r.val().match(/^\d\d?$/),o=Number(r.val())<0;if("RM1043.8"===document.getElementById("agreementID").value&&"Group 18"===document.getElementById("gID").value&&"1"===document.getElementById("lID").value&&removeErrorFieldsdates(),"RM1557.13"===document.getElementById("agreementID").value&&"Group 10"===document.getElementById("gID").value&&"4"===document.getElementById("lID").value&&removeErrorFieldsdates(),"RM6187"===document.getElementById("agreementID").value)(n||o)&&""!=r.val()?$(`.p_durations_${e}`).html("Enter a year"):$(`.p_durations_${e}`).html("");else if("RM1043.8"===document.getElementById("agreementID").value&&"Group 18"===document.getElementById("gID").value&&"1"===document.getElementById("lID").value){endyearCheck=Number(r.val())>2;(n||endyearCheck||o)&&""!=r.val()||($(`#${e}`).removeClass("govuk-form-group--error"),$(`.${e}`).removeClass("govuk-form-group--error"),$(`.p_durations_${e}`).html(""))}else if("RM1557.13"===document.getElementById("agreementID").value&&"Group 10"===document.getElementById("gID").value&&"4"===document.getElementById("lID").value){endyearCheck=Number(r.val())>2;(n||endyearCheck||o)&&""!=r.val()||($(`#${e}`).removeClass("govuk-form-group--error"),$(`.${e}`).removeClass("govuk-form-group--error"),$(`.p_durations_${e}`).html(""))}else(n||o)&&""!=r.val()?($(`#${e}`).addClass("govuk-form-group--error"),$(`.${e}`).addClass("govuk-form-group--error"),$(`.p_durations_${e}`).html("Enter a year between 1 to 4")):($(`#${e}`).removeClass("govuk-form-group--error"),$(`.${e}`).removeClass("govuk-form-group--error"),$(`.p_durations_${e}`).html(""))}}}),$(".btn-sendmsg").on("click",e=>{e.preventDefault(),document.getElementsByClassName("btn-sendmsg")[0].disabled=!0,document.forms.ccs_message_create_form.submit()}),$(".rfp_date").on("submit",e=>{e.preventDefault(),removeErrorFieldsdates(),$(".durations").removeClass("govuk-form-group--error"),$(".resource_start_date").html("");let t=!1,r="",n=[],o=$(".rfp_resource_start_day").val(),a=$(".rfp_resource_start_month").val(),i=$(".rfp_resource_start_year").val(),s=$(".rfp_resource_start_day"),l=$(".rfp_resource_start_month"),c=$(".rfp_resource_start_year"),u="",d="";""!=c.val()&&null!=c.val()&&(u=c.val(),d=!c.val().match(/^\d{4}$/));const m=new Date(i,a-1,o).getTime(),g=new Date;if("RM6187"==document.getElementById("agreementID").value)if(""==o&&""==a&&""==i){t=!0,s.addClass("govuk-form-group--error"),$(".durations").addClass("govuk-form-group--error");let e="Enter a project start date";!0!==(r=ccsZvalidateDateWithRegex("rfp_resource_start_date_day_Question11","rfp_resource_start_date",e,/^\d{1,}$/))?n.push(r):r=ccsZvalidateWithRegex("rfp_resource_start_day",e,/^\d{1,}$/),ccsZPresentErrorSummary(n)}else if(""==o&&""!=a&&""!=i){t=!0;let e="Enter a project start day";s.addClass("govuk-form-group--error"),$("#event-name-error-date").html("Enter a project start day"),$(".durations").addClass("govuk-form-group--error"),r=ccsZvalidateDateWithRegex("rfp_resource_start_date_day_Question11","rfp_resource_start_date",e,/^\d{1,}$/),n.push(r),ccsZPresentErrorSummary(n)}else if(""!=o&&""==a&&""!=i){t=!0;let e="Enter a project start month";l.addClass("govuk-form-group--error"),$("#event-name-error-date").html("Enter a project start year"),$(".durations").addClass("govuk-form-group--error"),r=ccsZvalidateDateWithRegex("rfp_resource_start_date_month_Question11","rfp_resource_start_date",e,/^\d{1,}$/),n.push(r),ccsZPresentErrorSummary(n)}else if(""!=o&&""!=a&&""==i){t=!0;let e="Enter a project start year";c.addClass("govuk-form-group--error"),$("#event-name-error-date").html("Enter a project start year"),$(".durations").addClass("govuk-form-group--error"),r=ccsZvalidateDateWithRegex("rfp_resource_start_date_year_Question11","rfp_resource_start_date",e,/^\d{1,}$/),n.push(r),ccsZPresentErrorSummary(n)}else if(""!=o&&""==a&&""==i){t=!0;let e="Enter a project start month and year";l.addClass("govuk-form-group--error"),$("#event-name-error-date").html("Enter a project start month and year"),$(".durations").addClass("govuk-form-group--error"),r=ccsZvalidateDateWithRegex("rfp_resource_start_date_month_Question11","rfp_resource_start_date",e,/^\d{1,}$/),n.push(r),ccsZPresentErrorSummary(n)}else if(""==o&&""!=a&&""==i){t=!0;let e="Enter a project start day and year";s.addClass("govuk-form-group--error"),$("#event-name-error-date").html("Enter a project start day and year"),$(".durations").addClass("govuk-form-group--error"),r=ccsZvalidateDateWithRegex("rfp_resource_start_date_day_Question11","rfp_resource_start_date",e,/^\d{1,}$/),n.push(r),ccsZPresentErrorSummary(n)}else if(""==o&&""==a&&""!=i){t=!0;let e="Enter a project start day and month";s.addClass("govuk-form-group--error"),$("#event-name-error-date").html("Enter a project start day and month"),$(".durations").addClass("govuk-form-group--error"),r=ccsZvalidateDateWithRegex("rfp_resource_start_date_day_Question11","rfp_resource_start_date",e,/^\d{1,}$/),n.push(r),ccsZPresentErrorSummary(n)}else if(u<1||d){t=!0;let e="Enter a year using the YYYY format";if(t=!0,s.addClass("govuk-form-group--error"),l.addClass("govuk-form-group--error"),c.addClass("govuk-form-group--error"),$(".durations").addClass("govuk-form-group--error"),!0!==(r=ccsZvalidateWithRegex("rfp_resource_start_date",e,/^\d{1,}$/))?n.push(r):r=ccsZvalidateWithRegex("rfp_resource_start_date",e,/^\d{1,}$/),n.length>0)return ccsZPresentErrorSummary(n),!1}else if(m<g.getTime()&&(t=!0,s.addClass("govuk-form-group--error"),l.addClass("govuk-form-group--error"),c.addClass("govuk-form-group--error"),$(".durations").addClass("govuk-form-group--error"),!0!==(r=ccsZvalidateWithRegex("rfp_resource_start_date","Enter a project start date in the future",/^\d{1,}$/))?n.push(r):r=ccsZvalidateWithRegex("rfp_resource_start_date","Enter a project start date in the future",/^\d{1,}$/),n.length>0))return ccsZPresentErrorSummary(n),!1;if(0==t)if("RM1043.8"!==document.getElementById("agreementID").value&&"RM1557.13"!==document.getElementById("agreementID").value){let e="",t=[];if(ccsZPresentErrorSummary(),removeErrorFieldsdates(),checkResourceStartDate()){let r=isProjectStartDateValid();if(r){let r=!1;const n=document.getElementsByClassName("rfp_duration_year_25"),o=document.getElementsByClassName("rfp_duration_month_25"),a=document.getElementsByClassName("rfp_duration_day_25");if(""!=n[0].value||""!=o[0].value||""!=a[0].value){Number(n[0].value);const i=Number(o[0].value),s=Number(a[0].value);if((i<0||i>12)&&(r=!0),(s<0||s>31)&&(r=!0),r&&(!0!==(e=ccsZvalidateWithRegex("rfp_duration_Question12","Enter the valid project date",/^\d{1,}$/))&&t.push(e),t.length>0))return void ccsZPresentErrorSummary(t)}if((""!=n[1].value||""!=o[1].value||""!=a[1].value)&&(yrValidation2=validateExtPeriod(),yrValidation2&&(!0!==(e=ccsZvalidateWithRegex("rfp_duration_Question13","Extension period must be 50% of the contract period or less",/^\d{1,}$/))&&t.push(e),t.length>0)))return void ccsZPresentErrorSummary(t)}r&&document.forms.rfp_date.submit()}}else if(null!==document.getElementById("agreementID"))if("RM1043.8"===document.getElementById("agreementID").value&&"Group 18"===document.getElementById("gID").value&&"1"===document.getElementById("lID").value)isValid=isProjectExtensionValid(),isValid&&document.forms.rfp_date.submit();else if("RM1043.8"===document.getElementById("agreementID").value&&"Group 17"===document.getElementById("gID").value&&"1"===document.getElementById("lID").value){let e;removeErrorFieldsdates(),checkResourceStartDate()&&(e=isProjectStartDateValid()),e&&document.forms.rfp_date.submit()}else if("RM1557.13"===document.getElementById("agreementID").value&&"Group 10"===document.getElementById("gID").value&&"4"===document.getElementById("lID").value)isValid=isProjectExtensionValid(),isValid&&document.forms.rfp_date.submit();else if("RM1557.13"===document.getElementById("agreementID").value&&"Group 9"===document.getElementById("gID").value&&"4"===document.getElementById("lID").value){let e;checkResourceStartDate()&&(e=isProjectStartDateValid()),e&&document.forms.rfp_date.submit()}else isValid=isProjectStartDateValid(),isValid&&document.forms.rfp_date.submit()}),$(".textlimit").keyup(function(e){var t=$(this).val().length;$(this).val();e.which;if(t>=1)return removeErrorFieldsdates(),!1}),$(".textlimit").keypress(function(e){var t=$(this).val().length;$(this).val();e.which;if(t>=1)return removeErrorFieldsdates(),!1}),$(".daylimit").keyup(function(e){var t=$(this).val().length;let r=$(this).val();e.which;if(t>=2&&(Number(r)>0||Number(r)<31))return removeErrorFieldsdates(),!1}),$(".daylimit").keypress(function(e){var t=$(this).val().length;let r=$(this).val();e.which;if(t>=2&&(Number(r)>0||Number(r)<31))return removeErrorFieldsdates(),!1}),$(".daymonthlimit").keyup(function(e){var t=$(this).val().length;$(this).val();e.which;if(t>=2)return removeErrorFieldsdates(),!1}),$(".daymonthlimit").keypress(function(e){var t=$(this).val().length;$(this).val();e.which;if(t>=2)return removeErrorFieldsdates(),!1}),$(".startdateyearlimit").keyup(function(e){var t=$(this).val().length;$(this).val();e.which;if(t>=4)return removeErrorFieldsdates(),!1}),$(".startdateyearlimit").keypress(function(e){var t=$(this).val().length;$(this).val();e.which;if(t>=4)return removeErrorFieldsdates(),!1}),$(".yearlimit").keyup(function(e){var t=$(this).val().length;$(this).val();e.which;if(t>=1)return removeErrorFieldsdates(),!1}),$(".yearlimit").keypress(function(e){var t=$(this).val().length;$(this).val();e.which;if(t>=1)return removeErrorFieldsdates(),!1});const removeErrorFieldsdates=()=>{$(".govuk-error-message").remove(),$(".govuk-form-group--error").removeClass("govuk-form-group--error"),$(".govuk-error-summary").remove(),$(".govuk-input").removeClass("govuk-input--error"),$(".govuk-form-group textarea").removeClass("govuk-textarea--error")};function validateExtPeriod(){let e=0;const t=document.getElementsByClassName("rfp_duration_year_25"),r=document.getElementsByClassName("rfp_duration_month_25"),n=document.getElementsByClassName("rfp_duration_day_25"),o=Number(t[0].value),a=Number(r[0].value),i=Number(n[0].value),s=Number(t[1].value),l=Number(r[1].value),c=Number(n[1].value);let u=0;o>0&&(u=365*o),a>0&&(u+=30*a),i>0&&(u+=i);let d=0;if(s>0&&(d=365*s),l>0&&(d+=30*l),c>0&&(d+=c),u>d){d/u*100>50&&(e=1)}else e=2;return e}function validateStartDate(){let e="";const t=$(".rfp_resource_start_day"),r=$(".rfp_resource_start_month"),n=$(".rfp_resource_start_year");if(null!==t.val()&&""!==t.val()&&null!==r.val()&&""!==r.val()&&null!==n.val()&&""!==n.val()){let o;if($("#rpf_section_3_aggrimentEndDate").attr("agreementEndDate")&&(o=$("#rpf_section_3_aggrimentEndDate").attr("agreementEndDate").split("-")),null!=o&&o.length>0){const a=null!=o&&null!=o?Number(o[0]):null,i=(null!=o&&null!=o?Number(o[1]):null)-1,s=null!=o&&null!=o?Number(o[2]):null,l=null!=a&&null!=i&&null!=s?new Date(a,i,s):null,c=null!=l?l.getTime():null,u=new Date(n.val(),r.val()-1,t.val()),d=u.getTime(),m=new Date;d>c&&(e="It is recommended that your project does not start after lot expiry date"),u.setHours(0,0,0,0)!=m.setHours(0,0,0,0)&&d<m.getTime()&&(e="Enter a date in the future")}}return e}var allWords="",wordCount=0;const MaxWordLimits=500;$("#completed_work").on("keypress focus mouseleave",()=>{allWords=$("#completed_work").val(),(wordCount=allWords.split(" ").length)>500?($(".govuk-error-summary__title").text("There is a problem"),$("#work_location_word_error").text("Total Words: "+wordCount+" out of 500"),$("#summary_list").html('<li><a href="#">Words limit exceeded</a></li> '),$([document.documentElement,document.body]).animate({scrollTop:$("#summary_list").offset().top},1e3),$("#service_capability_error_summary").removeClass("hide-block"),document.getElementById("completed_work").classList.add("govuk-input--error")):($(".govuk-error-summary__title").text(""),$("#work_location_word_error").text(""),$("#service_capability_error_summary").addClass("hide-block"),document.getElementById("completed_work").classList.remove("govuk-input--error"))}),$("#rfp_work_completed").on("submit",e=>{wordCount>500?e.preventDefault():$("#rfp_work_completed").submit()}),$('input[type="radio"]').on("click change",function(e){"Yes"===e.currentTarget.value?$("#conditional-rfp_radio_security_confirmation").fadeIn():$("#conditional-rfp_radio_security_confirmation").hide()});const removeErrorFieldsRfpIR35=()=>{$(".govuk-error-message").remove(),$(".govuk-form-group--error").removeClass("govuk-form-group--error"),$(".govuk-error-summary").remove(),$(".govuk-input").removeClass("govuk-input--error"),$(".govuk-form-group textarea").removeClass("govuk-textarea--error")};$("#rfp_IR35_form").on("submit",e=>{e.preventDefault();const t=document.getElementById("ccs_vetting_type").checked,r=document.getElementById("ccs_vetting_type-2").checked;t||r?document.forms.rfp_IR35_form.submit():($(".govuk-error-message").remove(),$(".govuk-form-group--error").removeClass("govuk-form-group--error"),$(".govuk-error-summary").remove(),$(".govuk-input").removeClass("govuk-input--error"),$(".govuk-form-group textarea").removeClass("govuk-textarea--error"),ccsZPresentErrorSummary([errorStore=["There is a problem","You must confirm if you need a contracted out service or a supply of resource"]]))}),document.addEventListener("DOMContentLoaded",()=>{const e=$("#rfp_percentage_form");if(void 0!==e&&e.length>0){addEventListener("input",e=>{e.target.value=e.target.value.replace(/[^0-9\.]/g,"")});$("form input[type='number']");let e=document.querySelectorAll("[name='percentage']"),t=()=>{let t=0;e.forEach(e=>{t+=isNaN(e.value)?0:Number(e.value)}),$("#totalPercentage").text(t),$("#totalPercentageDown").text(t)};e.forEach(e=>{e.addEventListener("focusout",t),e.addEventListener("keydown",e=>{"."!==e.key&&69!==e.keyCode||e.preventDefault()})}),t()}});const checkPercentagesCond=()=>{removeErrorFieldsRfpPercentage();let e="",t=[];const r=new URLSearchParams(window.location.search).get("agreement_id");let n;null!==document.getElementById("lID")&&(n=document.getElementById("lID").value);let o=$("form input[type='number']"),a=0;console.log(Number($("#totalPercentage").text()));for(let n=0;n<o.length;n++){a+=Number(o[n].value);var i=$("#range_p"+o[n].id.replace(" ","")).attr("range"),s=$("#getSubTitle"+o[n].id.replace(" ","")).html();if(!s.includes("optional")&&""==o[n].value||o[n].value<0)!0!==(e="Social value"!=s?"RM6187"==r?ccsZvalidateWithRegex(o[n].id,"You must enter "+s.toLowerCase()+" range between ["+i.split("-")[0]+"-"+i.split("-")[1]+"%]",/\w+/,!1):"RM1043.8"==r&&s.includes("Essential skills and experience")?ccsZvalidateWithRegex(o[n].id,"Enter a weighting for essential skills and experience",!1):"RM1043.8"==r&&s.includes("Technical questions")?ccsZvalidateWithRegex(o[n].id,"Enter a weighting for technical questions",!1):ccsZvalidateWithRegex(o[n].id+"-hint","RM1043.8"==r?"Enter a weighting for "+s.toLowerCase()+" between "+i.split("-")[0]+" and "+i.split("-")[1]+"%":"Enter a weighting for "+s.toLowerCase()+" between "+i.split("-")[0]+" % and "+i.split("-")[1]+"%",/\w+/,!1):("RM1043.8"==r&&s.includes("Social value"),ccsZvalidateWithRegex(o[n].id,"Enter a weighting for "+s.toLowerCase()+" that is 0% or between "+i.split("-")[0]+" and "+i.split("-")[1]+"%",/\w+/,!1)))&&t.push(e);else if(Number(o[n].value)>=0&&"Social value"!=s){(l=checkRange(i.split("-")[0],i.split("-")[1],o[n].value)).start?!0!==(e=ccsZvalidateWithRegex(o[n].id,"RM1043.8"==r?"Range value between "+i.split("-")[0]+"%-"+i.split("-")[1]+"%":"Range value between ["+i.split("-")[0]+"%-"+i.split("-")[1]+"%]",/\w+/,!1))&&t.push(e):l.end&&!0!==(e=ccsZvalidateWithRegex(o[n].id,"RM1043.8"==r?"Range value between "+i.split("-")[0]+"%-"+i.split("-")[1]+"%":"Range value between ["+i.split("-")[0]+"%-"+i.split("-")[1]+"%]",/\w+/,!1))&&t.push(e)}else if(Number(o[n].value)>0&&"Social value"==s&&"RM1043.8"==r){var l;(l=checkRange(i.split("-")[0],i.split("-")[1],o[n].value)).start?!0!==(e=ccsZvalidateWithRegex(o[n].id,"Range value between 0%, or "+i.split("-")[0]+"-"+i.split("-")[1]+"%",/\w+/,!1))&&t.push(e):l.end&&(console.log(i),!0!==(e=ccsZvalidateWithRegex(o[n].id,"Range value between 0%, or "+i.split("-")[0]+"-"+i.split("-")[1]+"%",/\w+/,!1))&&t.push(e))}}return t},checkRange=(e,t,r)=>{let n=!1,o=!1;return Number(r)<Number(e)?{start:n=!0,end:o}:Number(r)>Number(t)?{start:n,end:o=!0}:{start:n,end:o}},ccsZvalidateRfpPercentages=e=>{e.preventDefault();const t=new URLSearchParams(window.location.search).get("agreement_id");let r;null!==document.getElementById("lID")&&(r=document.getElementById("lID").value);let n=[];const o=document.getElementById("page-heading").innerHTML;let a=document.querySelectorAll("[name='percentage']"),i=0;a.forEach(e=>{i+=isNaN(e.value)?0:Number(e.value)}),n=null==n||n.length<=0?checkPercentagesCond():n,checkPercentagesCond(),(o.includes("Set the overall weighting between quality and price")||o.includes("Set the quality weightings"))&&(i>100||i<100)&&(n.push(["#","Your total percentage must be 100%"]),ccsZPresentErrorSummary(n)),o.includes("Set the overall weighting")&&(i>100||i<100)&&"RM1043.8"==t&&(n.push(["#","The weightings must add up to 100% in total"]),ccsZPresentErrorSummary(n)),o.includes("Set the specific weighting of quality groups")&&(i>100||i<100)&&("RM6187"==t||"RM1557.13"==t)&&(n.push(["#","Your total percentage must be 100%"]),ccsZPresentErrorSummary(n)),o.includes("Set the overall weighting for quality")&&(i>100||i<100)&&(n.push(["#","The weightings must add up to 100% in total"]),ccsZPresentErrorSummary(n)),(o.includes("Technical Competence")||o.includes("Technical competence"))&&(i>100||i<100)&&(n.push(["#","The weightings must add up to 100% in total"]),ccsZPresentErrorSummary(n)),null==n||0===n.length?document.forms.rfp_percentage_form.submit():ccsZPresentErrorSummary(n)},removeErrorFieldsRfpPercentage=()=>{$(".govuk-error-message").remove(),$(".govuk-form-group--error").removeClass("govuk-form-group--error"),$(".govuk-error-summary").remove(),$(".govuk-input").removeClass("govuk-input--error"),$(".govuk-form-group textarea").removeClass("govuk-textarea--error")};$(".questionweightagelimit").on("keypress",function(e){removeErrorFieldsRfpPercentage();let t=$(this).val();var r=(e=e||window.event).which?e.which:e.keyCode;return!(r>31&&(r<48||r>57)||t.length>=3)}),document.addEventListener("DOMContentLoaded",()=>{if(null!==document.getElementById("ccs_rfp_procurement_lead")){document.getElementById("ccs_rfp_procurement_lead").addEventListener("change",function(t){t.preventDefault(),$.ajax({url:"/rfp/users-procurement-lead?id="+t.target.value,type:"GET",contentType:"application/json"}).done(function(t){e(t)}).fail(e=>{document.getElementById("rfp-lead-email").innerText="",document.getElementById("rfp-lead-telephone").innerText=""})});const e=e=>{document.getElementById("rfp-lead-email").innerText=e.userName,document.getElementById("rfp-lead-telephone").innerText="1",document.getElementById("rfp_procurement_lead_input").value=e.userName}}}),$(".add").addClass("ccs-dynaform-hidden");const Selector=$(".quality_group"),SelectorLen=Selector.length;function preventNumberInput(e){var t=e.keyCode?e.keyCode:e.which;(t>47&&t<58||t>95&&t<107)&&e.preventDefault()}$("#quality_group_form").on("submit",e=>{const t=[];for(var r=0,n=0;n<3;n++){const e=document.getElementsByClassName("quality_group")[n].value;""==e||isNaN(e)?(document.getElementsByClassName("quality_group")[n].classList.add("govuk-input--error"),document.getElementsByClassName("quality_group_t")[n].innerHTML="The format of the following input is invalid",t.push(!0)):r+=Number(e)}if(t.length>0&&e.preventDefault(),r>100){e.preventDefault(),$(".govuk-error-summary__title").text("There is a problem"),$("#summary_list").html('<li><a href="#">The total weighting is greater than 100%</a></li> '),$([document.documentElement,document.body]).animate({scrollTop:$("#summary_list").offset().top},1e3),$("#service_capability_error_summary").removeClass("hide-block");for(n=0;n<SelectorLen;n++){const e=document.getElementsByClassName("quality_group")[n].value;""==e||isNaN(e)?(document.getElementsByClassName("quality_group")[n].classList.add("govuk-input--error"),document.getElementsByClassName("quality_group_t")[n].innerHTML="The format of the following input is invalid"):(document.getElementsByClassName("quality_group")[n].classList.add("govuk-input--error"),document.getElementsByClassName("quality_group_t")[n].innerHTML="The total weighting is greater than 100%")}e.preventDefault()}else $("#quality_group_form").submit()}),document.addEventListener("DOMContentLoaded",()=>{const e=window.location.search,t=new URLSearchParams(e);$(".rpf_500").attr("maxlength","500"),$(".rpf_5000").attr("maxlength","5000"),$(".rpf_10000").attr("maxlength","10000"),"RM1043.8"==t.get("agreement_id")&&($("#rfp_prob_statement_d").attr("maxlength","500"),$("#rfp_prob_statement_e").attr("maxlength","5000"),$("#rfp_prob_statement_g").attr("maxlength","5000"),$("#rfp_prob_statement_t").attr("maxlength","5000"),$("#rfp_prob_statement_m").attr("maxlength","5000"),$("#rfp_prob_statement_n").attr("maxlength","5000"),$("#rfp_prob_statement_s").attr("maxlength","5000"),$(".min_supplier").attr("maxlength","8"));const r=()=>{$(".govuk-error-message").remove(),$(".govuk-form-group--error").removeClass("govuk-form-group--error"),$(".govuk-error-summary").remove(),$(".govuk-input").removeClass("govuk-input--error"),$(".govuk-form-group textarea").removeClass("govuk-textarea--error")},n=$("#rfp_multianswer_question_form");if(void 0!==n&&n.length>0){$(".additional").addClass("ccs-dynaform-hidden");let e=50,n=0,g=document.querySelectorAll("a.del"),p=[],_=document.querySelectorAll(".weightage"),h=document.querySelectorAll(".order_1"),v=document.querySelectorAll(".order_2"),y=new URLSearchParams(window.location.search);var o,a=new URLSearchParams(window.location.search),i=a.get("agreement_id"),s=(a.get("group_id"),!1);null!==document.getElementById("lID")&&(o=document.getElementById("lID").value);var l=10,c=11;if("RM1043.8"!=a.get("agreement_id")||"Criterion 2"!=a.get("id")||1!=o||"Group 8"!=a.get("group_id")&&"Group 5"!=a.get("group_id")&&"Group 7"!=a.get("group_id")&&"Group 9"!=a.get("group_id")||5!=a.get("section"))if("RM1043.8"==a.get("agreement_id")&&"Criterion 2"==a.get("id")&&"Group 9"==a.get("group_id")&&5==a.get("section")){l=20,c=21;e=20}else if("RM1043.8"==i){l=20,c=21;e=20}else if("RM1557.13"==a.get("agreement_id")&&"Criterion 2"==a.get("id")&&"Group 4"==a.get("group_id")){l=20,c=21;e=20}else if("RM1557.13"==a.get("agreement_id")&&"Criterion 2"==a.get("id")&&"Group 6"==a.get("group_id"))l=5,c=6;else if($(".question_count").hasClass("question_count"))l=50,c=51;else{l=10,c=11;e=10}else{var l=20,c=21;e=20}let E=()=>{let e=[],t=0;if(_.forEach(e=>{t+=isNaN(e.value)?0:Number(e.value)}),t>100){if(e=f(),"RM1043.8"!=y.get("agreement_id")||"Criterion 2"!=y.get("id")||"Group 9"!=y.get("group_id")&&"Group 5"!=y.get("group_id")&&"Group 6"!=y.get("group_id")&&"Group 7"!=y.get("group_id")&&"Group 8"!=y.get("group_id")||5!=y.get("section"))"RM1557.13"!=y.get("agreement_id")||"Criterion 2"!=y.get("id")||"Group 4"!=y.get("group_id")&&"Group 6"!=y.get("group_id")||5!=y.get("section")?e.push(["There is a problem","The total weighting exceeded more than 100%"]):e.push(["There is a problem","The weighting must add up to 100% in total"]);else{let n=$(".order_1").filter(function(){return""!==this.value}).length;var r;0==e.length&&(r=ccsZvalidateWeihtageValue("fc_question_precenate_"+n,"The total weighting is exceeded more than 100%",t),e.push(r))}ccsZPresentErrorSummary(e)}y.get("agreement_id"),$("#totalPercentage").html(t),$("#totalPercentageDown").html(t)};h.forEach(e=>{e.addEventListener("keydown",e=>{r()})}),v.forEach(e=>{e.addEventListener("keydown",e=>{r()})}),_.forEach(e=>{e.addEventListener("focusout",E),e.addEventListener("keydown",e=>{r(),"."!==e.key&&69!==e.keyCode||e.preventDefault()})});const b=()=>{let e=$(".order_1").filter(function(){return""!==this.value}).length;y.get("agreement_id"),$("#questionsCount").html(e)};b(),E(),g.forEach(t=>{t.classList.add("ccs-dynaform-hidden"),t.addEventListener("click",r=>{r.preventDefault();let n,o=new URLSearchParams(window.location.search);null!==document.getElementById("lID")&&(n=document.getElementById("lID").value);let a=r.target.href.replace(/^(.+\/)(\d{1,2})$/,"$2"),i=Number(a)-1,l=t.closest("div"),u=l.nextElementSibling,d=Number(a),m=Number(a);if(20!=a){let e=1,t=[];for(;u;){let r=u.classList;if(void 0!==Object.keys(r).find(e=>"closeCCS"===r[e])&&void 0===Object.keys(r).find(e=>"ccs-dynaform-hidden"===r[e])){let r=m;if(m+=1,t.push(m),1==e){let e,t,n;if((p=document.getElementsByClassName("class_question_remove_"+m)[0])&&(e=document.getElementsByClassName("class_question_remove_"+m)[0].value,document.getElementsByClassName("class_question_remove_"+r)[0].value=e),f=document.getElementsByClassName("class_question_remove_"+m)[1]){var g=document.getElementsByClassName("class_question_remove_"+m)[1].value;document.getElementsByClassName("class_question_remove_"+r)[1].value=g}(_=document.getElementsByClassName("class_question_remove_"+m)[2])&&(n=document.getElementsByClassName("class_question_remove_"+m)[2].value,document.getElementsByClassName("class_question_remove_"+r)[2].value=n),document.getElementById("fc_question_precenate_"+m)&&(t=document.getElementById("fc_question_precenate_"+m).value,document.getElementById("fc_question_precenate_"+r).value=t)}else{let e,t,n;if(d+=1,(p=document.getElementsByClassName("class_question_remove_"+m)[0])&&(e=document.getElementsByClassName("class_question_remove_"+m)[0].value,document.getElementsByClassName("class_question_remove_"+r)[0].value=e),f=document.getElementsByClassName("class_question_remove_"+m)[1]){g=document.getElementsByClassName("class_question_remove_"+m)[1].value;document.getElementsByClassName("class_question_remove_"+r)[1].value=g}(_=document.getElementsByClassName("class_question_remove_"+m)[2])&&(n=document.getElementsByClassName("class_question_remove_"+m)[2].value,document.getElementsByClassName("class_question_remove_"+r)[2].value=n),document.getElementById("fc_question_precenate_"+m)&&(t=document.getElementById("fc_question_precenate_"+m).value,document.getElementById("fc_question_precenate_"+r).value=t)}u=u.nextElementSibling}else u=!1;e++}if(t.length>0){let e=t.at(-1);(p=document.getElementsByClassName("class_question_remove_"+e)[0])&&(document.getElementsByClassName("class_question_remove_"+e)[0].value="",p.dispatchEvent(new Event("keyup"))),(f=document.getElementsByClassName("class_question_remove_"+e)[1])&&(document.getElementsByClassName("class_question_remove_"+e)[1].value="",f.dispatchEvent(new Event("keyup"))),(_=document.getElementsByClassName("class_question_remove_"+e)[2])&&(document.getElementsByClassName("class_question_remove_"+e)[2].value="",_.dispatchEvent(new Event("keyup"))),document.getElementById("fc_question_precenate_"+e)&&(document.getElementById("fc_question_precenate_"+e).value=""),document.querySelector("#fc_question_"+e).classList.add("ccs-dynaform-hidden")}else{l.classList.add("ccs-dynaform-hidden"),(p=document.getElementsByClassName("class_question_remove_"+m)[0])&&(document.getElementsByClassName("class_question_remove_"+m)[0].value="",p.dispatchEvent(new Event("keyup"))),(f=document.getElementsByClassName("class_question_remove_"+m)[1])&&(document.getElementsByClassName("class_question_remove_"+m)[1].value="",f.dispatchEvent(new Event("keyup"))),(_=document.getElementsByClassName("class_question_remove_"+m)[2])&&(document.getElementsByClassName("class_question_remove_"+m)[2].value="",_.dispatchEvent(new Event("keyup"))),document.getElementById("fc_question_precenate_"+m)&&(document.getElementById("fc_question_precenate_"+m).value=""),i>1&&document.querySelector("#fc_question_"+i+" a.del").classList.remove("ccs-dynaform-hidden"),$(".add-another-btn").removeClass("ccs-dynaform-hidden")}}else{var p,f,_;l.classList.add("ccs-dynaform-hidden"),(p=document.getElementsByClassName("class_question_remove_"+m)[0])&&(document.getElementsByClassName("class_question_remove_"+m)[0].value="",p.dispatchEvent(new Event("keyup"))),(f=document.getElementsByClassName("class_question_remove_"+m)[1])&&(document.getElementsByClassName("class_question_remove_"+m)[1].value="",f.dispatchEvent(new Event("keyup"))),(_=document.getElementsByClassName("class_question_remove_"+m)[2])&&(document.getElementsByClassName("class_question_remove_"+m)[2].value="",_.dispatchEvent(new Event("keyup"))),document.getElementById("fc_question_precenate_"+m)&&(document.getElementById("fc_question_precenate_"+m).value=""),i>1&&document.querySelector("#fc_question_"+i+" a.del").classList.remove("ccs-dynaform-hidden"),$(".add-another-btn").removeClass("ccs-dynaform-hidden")}e--,b(),E(),"RM1043.8"!=o.get("agreement_id")||"Criterion 2"!=o.get("id")||"Group 5"!=o.get("group_id")&&"Group 6"!=o.get("group_id")||5!=o.get("section")?"RM1043.8"==o.get("agreement_id")&&"Criterion 2"==o.get("id")&&"Group 7"==o.get("group_id")&&5==o.get("section")?s?$(".btncheck").text("").text("Add another technical question ("+(c-1-e)+" remaining)"):$(".btncheck").text("").text("Add another technical question ("+(c-e)+" remaining)"):"RM1043.8"!=o.get("agreement_id")||"Criterion 2"!=o.get("id")||1!=n&&3!=n||"Group 8"!=o.get("group_id")||5!=o.get("section")?"RM1043.8"==o.get("agreement_id")&&"Criterion 2"==o.get("id")&&1==n&&"Group 9"==o.get("group_id")&&5==o.get("section")?s?$(".btncheck").text("").text("Add another question ("+(c-1-e)+" remaining)"):$(".btncheck").text("").text("Add another question ("+(c-e)+" remaining)"):"RM1043.8"==o.get("agreement_id")&&"Criterion 3"==o.get("id")&&1==n&&"Group 19"==o.get("group_id")&&$(".btncheck").text("").text("Add another special term or condition "):s?$(".btncheck").text("").text("Add another question ("+(c-1-e)+" remaining)"):$(".btncheck").text("").text("Add another question ("+(c-e)+" remaining)"):s?$(".btncheck").text("").text("Add another skill or experience ("+(c-1-e)+" remaining)"):$(".btncheck").text("").text("Add another skill or experience ("+(c-e)+" remaining)"),21!=e&&$(".add-another-btn").removeClass("ccs-dynaform-hidden")})});let k=!1;for(var u=l;u>1;u--){let t=document.getElementById("fc_question_"+u);if(null!=t.querySelector(".order_1")&&""!==t.querySelector(".order_1").value){if(t.classList.remove("ccs-dynaform-hidden"),"RM1043.8"!=a.get("agreement_id")&&"RM1557.13"!=a.get("agreement_id")||document.getElementById("del_fc_question_"+u)&&document.getElementById("del_fc_question_"+u).classList.remove("ccs-dynaform-hidden"),a.get("agreement_id"),u===l)$(".add-another-btn").closest(".ccs-page-section").length&&$(".add-another-btn").closest(".ccs-page-section").css("border-bottom","0px");p.push(u)}else if(null!=t.querySelector(".order_2")&&""!==t.querySelector(".order_2").value){if(t.classList.remove("ccs-dynaform-hidden"),"RM1043.8"==a.get("agreement_id")?document.getElementById("del_dos_question_"+u).classList.remove("ccs-dynaform-hidden"):document.getElementById("del_fc_question_"+u).classList.remove("ccs-dynaform-hidden"),u===l)$(".add-another-btn").closest(".ccs-page-section").length&&$(".add-another-btn").closest(".ccs-page-section").css("border-bottom","0px");p.push(u)}else e=u;2===u&&p.length>0&&$("#del_fc_question_"+p[0]).removeClass("ccs-dynaform-hidden"),$("#del_fc_question_"+u).removeClass("ccs-dynaform-hidden")}e>1&&$("#del_fc_question_"+e).removeClass("ccs-dynaform-hidden"),$("#del_dos_question_"+e)&&$("#del_dos_question_"+e).removeClass("ccs-dynaform-hidden");var d=$("div.ccs-dynaform-hidden").length;if(30==d&&20==e&&"RM1557.13"==t.get("agreement_id")&&"Criterion 2"==t.get("id")&&"Group 4"==t.get("group_id")&&e++,0==d&&50==e&&"RM1557.13"==t.get("agreement_id")&&"Criterion 3"==t.get("id")&&"Group 18"==t.get("group_id")&&e++,20==e&&(s=!0),"RM1043.8"!=a.get("agreement_id")||"Criterion 2"!=a.get("id")||"Group 5"!=a.get("group_id")&&"Group 6"!=a.get("group_id")||5!=a.get("section")?"RM1043.8"==a.get("agreement_id")&&"Criterion 2"==a.get("id")&&"Group 7"==a.get("group_id")&&5==a.get("section")?$(".btncheck").text("").text("Add another technical question ("+(c-e)+" remaining)"):"RM1043.8"!=a.get("agreement_id")||"Criterion 2"!=a.get("id")||1!=o&&3!=o||"Group 8"!=a.get("group_id")||5!=a.get("section")?"RM1043.8"==a.get("agreement_id")&&"Criterion 2"==a.get("id")&&1==o&&"Group 9"==a.get("group_id")&&5==a.get("section")?$(".btncheck").text("").text("Add another question ("+(c-e)+" remaining)"):"RM1043.8"==a.get("agreement_id")&&"Criterion 3"==a.get("id")&&1==o&&"Group 19"==a.get("group_id")&&$(".btncheck").text("").text("Add another special term or condition "):$(".btncheck").text("").text("Add another question ("+(c-e)+" remaining)"):$(".btncheck").text("").text("Add another skill or experience ("+(c-e)+" remaining)"),$(".add-another-btn").on("click",function(){E(),errorStore=[];let u=0;u=$(".order_1").length>0?$(".order_1").filter(function(){return""!==this.value}).length:$(".order_2").filter(function(){return""!==this.value}).length;let m=document.getElementById("fc_question_"+u);"RM1043.8"==a.get("agreement_id")&&19==u&&20==e&&null!=m.querySelector(".weightage")&&null!=m.querySelector(".weightage")&&0!=m.querySelector(".weightage").value.length&&"0"!=m.querySelector(".weightage").value&&0==errorStore.length&&$(".add-another-btn").addClass("ccs-dynaform-hidden"),"RM1043.8"!=a.get("agreement_id")&&50==e&&$(".add-another-btn").addClass("ccs-dynaform-hidden"),"RM6187"!=a.get("agreement_id")||"Group 4"!=a.get("group_id")&&"Group 6"!=a.get("group_id")||"Criterion 2"!=a.get("id")||10!=e||$(".add-another-btn").addClass("ccs-dynaform-hidden");$("#fc_question_precenate_"+u).val();if("RM1557.13"!=a.get("agreement_id")||"Group 4"!=a.get("group_id")&&"Group 6"!=a.get("group_id")||"Criterion 2"!=a.get("id")||10!=e||0==errorStore.length||$(".add-another-btn").addClass("ccs-dynaform-hidden"),u<=20&&"RM1043.8"==a.get("agreement_id")&&"Criterion 2"==a.get("id")&&("Group 8"==a.get("group_id")||"Group 5"==a.get("group_id")||"Group 6"==a.get("group_id")||"Group 7"==a.get("group_id"))&&5==a.get("section"))if(u<c-1&&Number($("#totalPercentage").text())>=100){errorStore=f();let e=1;u>0&&(e=u);var g=ccsZvalidateWithRegex("fc_question_precenate_"+e,"The total weighting is 100% so you can not add more questions",/\wd+/);errorStore.push(g),g&&$(".add-another-btn").removeClass("ccs-dynaform-hidden")}else if(u==c-1){if("RM6187"!=a.get("agreement_id")||"Group 4"!=a.get("group_id")&&"Group 6"!=a.get("group_id")||"Criterion 2"!=a.get("id")||10!=e||$(".add-another-btn").addClass("ccs-dynaform-hidden"),u<=20&&"RM1043.8"==a.get("agreement_id")&&"Criterion 2"==a.get("id")&&("Group 9"==a.get("group_id")||"Group 8"==a.get("group_id")||"Group 5"==a.get("group_id")||"Group 6"==a.get("group_id")||"Group 7"==a.get("group_id"))&&5==a.get("section"))if(u<c-1&&Number($("#totalPercentage").text())>=100){errorStore=f();let e=1;u>0&&(e=u);g=ccsZvalidateWithRegex("fc_question_precenate_"+e,"The total weighting is 100% so you can not add more questions",/\wd+/);errorStore.push(g),g&&$(".add-another-btn").removeClass("ccs-dynaform-hidden")}else if(u==c-1){if($(".govuk-error-summary").remove(),$(".govuk-form-group--error").remove(),r(),Number($("#totalPercentage").text())<100){g=ccsZvalidateWeihtageValue("fc_question_precenate_"+u,"The total weighting is less than 100%",Number($("#totalPercentage").text()));errorStore.push(g)}}else{let r=$("#fc_question_"+u+"_1").val(),n=$("#fc_question_precenate_"+u).val();if(null!=r||null!=r||""!=r)if(null==r||0==r.length||""!=n&&null!=n&&null!=n)errorStore=f();else{let e="You must enter percentage";"Group 5"==t.get("group_id")?e="Enter a weighting for this essential skill or experience":"Group 6"==t.get("group_id")?e="Enter a weighting for this nice-to-have skill or experience":"Group 7"==t.get("group_id")?e="Enter a weighting for this technical question":1==o&&"Group 8"==t.get("group_id")?e="Enter a weighting for this cultural fit question":3==o&&"Group 8"==t.get("group_id")&&(e="Enter a weighting for this social value question");var p=ccsZvalidateWithRegex("fc_question_precenate_"+u,e,/\w+/);errorStore.push(p)}else{let t=$("#fc_question_"+e+"_1").val();$("#fc_question_precenate_"+e).val();""==t.trim()&&null==t&&null==t||(errorStore=f())}}errorStore.push(["There is a problem","Cannot add another question already "+u+" questions created"]),$(".add-another-btn").closest(".ccs-page-section").length&&$(".add-another-btn").closest(".ccs-page-section").css("border-bottom","0px")}else{let r=$("#fc_question_"+u+"_1").val(),n=$("#fc_question_precenate_"+u).val();if(null!=r||null!=r||""!=r)if(null==r||0==r.length||""!=n&&null!=n&&null!=n)errorStore=f();else{let e="You must enter percentage";"Group 5"==t.get("group_id")?e="Enter a weighting for this essential skill or experience":"Group 6"==t.get("group_id")?e="Enter a weighting for this nice-to-have skill or experience":"Group 7"==t.get("group_id")?e="Enter a weighting for this technical question":1==o&&"Group 8"==t.get("group_id")?e="Enter a weighting for this cultural fit question":3==o&&"Group 8"==t.get("group_id")&&(e="Enter a weighting for this social value question");p=ccsZvalidateWithRegex("fc_question_precenate_"+u,e,/\w+/);errorStore.push(p)}else{let t=$("#fc_question_"+e+"_1").val();$("#fc_question_precenate_"+e).val();""==t.trim()&&null==t&&null==t||(errorStore=f())}}else if("RM1043.8"==a.get("agreement_id")&&"Criterion 2"==a.get("id")&&"Group 9"==a.get("group_id")&&5==a.get("section")){if(u<=20)if(u<c-1&&Number($("#totalPercentage").text())>=100){errorStore=f();let e=1;u>0&&(e=u);g=ccsZvalidateWithRegex("fc_question_precenate_"+e,"The total weighting is 100% so you can not add more questions",/\wd+/);errorStore.push(g),g&&$(".add-another-btn").removeClass("ccs-dynaform-hidden")}else if(u==c-1){if($(".govuk-error-summary").remove(),$(".govuk-form-group--error").remove(),r(),Number($("#totalPercentage").text())<100){g=ccsZvalidateWeihtageValue("fc_question_precenate_"+u,"The total weighting is less than 100%",Number($("#totalPercentage").text()));errorStore.push(g)}errorStore.push(["There is a problem","Cannot add another question already "+u+" questions created"]),$(".add-another-btn").closest(".ccs-page-section").length&&$(".add-another-btn").closest(".ccs-page-section").css("border-bottom","0px")}else{let t=$("#fc_question_"+u+"_1").val(),r=$("#fc_question_precenate_"+u).val();if(null!=t||null!=t||""!=t)if(null==t||0==t.length||""!=r&&null!=r&&null!=r)errorStore=f();else{p=ccsZvalidateWithRegex("fc_question_precenate_"+u,"Enter a weighting for this social value question",/\w+/);errorStore.push(p)}else{let t=$("#fc_question_"+e+"_1").val();$("#fc_question_precenate_"+e).val();""==t.trim()&&null==t&&null==t||(errorStore=f())}}}else if(u<=20&&"RM1043.8"==a.get("agreement_id")&&"Criterion 3"==a.get("id")&&("Group 15"==a.get("group_id")||"Group 19"==a.get("group_id"))||3==o&&"Group 17"==a.get("group_id")){r();for(var _=1;_<c;_++){const t=document.querySelector("#fc_question_"+_).querySelectorAll("textarea");let r=$("#fc_question_"+_).hasClass("ccs-dynaform-hidden");if(null!=t&&null!=t&&t.length>0)for(let n=0;n<t.length;n++){const i=t[n];if(ccsZremoveErrorMessage(i),""==i.value&&n>=0&&0==r){let e="";e="Group 19"==a.get("group_id")||3==o&&"Group 17"==a.get("group_id")?"Enter your special terms and conditions":"Group 15"==a.get("group_id")?"Enter accessibility requirements":"You must add information in all fields";let t=ccsZvalidateWithRegex(i.id,e,/^.+$/);errorStore.push(t)}19==u&&20==e&&$(".add-another-btn").addClass("ccs-dynaform-hidden")}}}else if(u<=l)if(u<c-1&&Number($("#totalPercentage").text())>=100)"RM1557.13"!=t.get("agreement_id")||"Group 4"!=t.get("group_id")&&"Group 6"!=t.get("group_id")?"RM6187"==t.get("agreement_id")&&"Group 4"==t.get("group_id")?(errorStore=f()).push(["There is a problem","The total weighting is 100% so you cannot add more questions without changing your weightings"]):(errorStore=f()).push(["There is a problem","The total weighting is 100% so you can not add more questions"]):(errorStore=f()).push(["There is a problem","The total weighting is 100% so you cannot add more questions without changing your weightings"]);else if(u==c-1){if($(".govuk-error-summary").remove(),$(".govuk-form-group--error").remove(),r(),Number($("#totalPercentage").text())<100){g=ccsZvalidateWeihtageValue("fc_question_precenate_"+u,"The total weighting is less than 100%",Number($("#totalPercentage").text()));errorStore.push(g)}errorStore.push(["There is a problem","Cannot add another question already "+u+" questions created"]),$(".add-another-btn").closest(".ccs-page-section").length&&$(".add-another-btn").closest(".ccs-page-section").css("border-bottom","0px")}else{let r=$("#fc_question_"+u+"_1").val(),n=$("#fc_question_precenate_"+u).val();const o=document.getElementById("page-heading").innerHTML;if(null!=r||null!=r||""!=r)if(null==r||0==r.length||""!=n&&null!=n&&null!=n&&0!=n||o.includes("Enter your project requirements"))errorStore=f();else if("RM1557.13"==t.get("agreement_id")||"RM6187"==t.get("agreement_id")&&"Criterion 2"==t.get("id")&&("Group 4"==t.get("group_id")||"Group 6"==t.get("group_id"))){if("Group 4"==t.get("group_id"))p=ccsZvalidateWeihtageValue("fc_question_precenate_"+u,"Enter a weighting for this technical question","",0,!1);else p=ccsZvalidateWeihtageValue("fc_question_precenate_"+u,"Enter a weighting for this social value question","",0,!1);errorStore.push(p)}else{p=ccsZvalidateWithRegex("fc_question_precenate_"+u,"Enter a weighting for this social value question",/\w+/);errorStore.push(p)}else{let t=$("#fc_question_"+e+"_1").val();$("#fc_question_precenate_"+e).val();""==t.trim()&&null==t&&null==t||(errorStore=f())}}if(0==errorStore.length){if(n=e-1,k=!0,"RM1043.8"==i&&e>20&&(e=20),46==d&&49==e&&"RM1557.13"==t.get("agreement_id")&&"Criterion 2"==t.get("id")&&"Group 6"==t.get("group_id")&&(e=5),null!==document.getElementById("lID")&&(LOTID_VAR=document.getElementById("lID").value),"RM1043.8"==i){let t=document.getElementById("fc_question_"+e).value,r="";null!=document.getElementById("fc_question_precenate_"+e)&&null!=document.getElementById("fc_question_precenate_"+e)&&(r=document.getElementById("fc_question_precenate_"+e).value),""!=t&&""!=r?20==e?$(".add-another-btn").addClass("ccs-dynaform-hidden"):(e++,document.getElementById("fc_question_"+e).classList.remove("ccs-dynaform-hidden"),null!=document.getElementById("questionsCount")&&(document.getElementById("questionsCount").textContent=e+" technical questions entered so far"),document.querySelector("label[for=fc_question_"+e+"] a.del").classList.remove("ccs-dynaform-hidden"),20===e&&$(".add-another-btn").addClass("ccs-dynaform-hidden")):s&&"Criterion 3"==a.get("id")&&(1==o&&"Group 19"==a.get("group_id")||3==o&&("Group 17"==a.get("group_id")||"Group 15"==a.get("group_id")))?(e++,document.getElementById("fc_question_"+e).classList.remove("ccs-dynaform-hidden"),null!=document.getElementById("questionsCount")&&(document.getElementById("questionsCount").textContent=e+" technical questions entered so far"),document.querySelector("label[for=fc_question_"+e+"] a.del").classList.remove("ccs-dynaform-hidden"),20===e&&$(".add-another-btn").addClass("ccs-dynaform-hidden")):(document.getElementById("fc_question_"+e).classList.remove("ccs-dynaform-hidden"),null!=document.getElementById("questionsCount")&&(document.getElementById("questionsCount").textContent=e+" technical questions entered so far"),document.querySelector("label[for=fc_question_"+e+"] a.del").classList.remove("ccs-dynaform-hidden"),e++),"RM1043.8"!=a.get("agreement_id")||"Criterion 2"!=a.get("id")||"Group 5"!=a.get("group_id")&&"Group 6"!=a.get("group_id")||5!=a.get("section")?"RM1043.8"==a.get("agreement_id")&&"Criterion 2"==a.get("id")&&"Group 7"==a.get("group_id")&&5==a.get("section")?s?$(".btncheck").text("").text("Add another technical question ("+(c-1-e)+" remaining)"):$(".btncheck").text("").text("Add another technical question ("+(c-e)+" remaining)"):"RM1043.8"!=a.get("agreement_id")||"Criterion 2"!=a.get("id")||1!=o&&3!=o||"Group 8"!=a.get("group_id")||5!=a.get("section")?"RM1043.8"==a.get("agreement_id")&&"Criterion 2"==a.get("id")&&1==o&&"Group 9"==a.get("group_id")&&5==a.get("section")?s?$(".btncheck").text("").text("Add another question ("+(c-1-e)+" remaining)"):$(".btncheck").text("").text("Add another question ("+(c-e)+" remaining)"):"RM1043.8"==a.get("agreement_id")&&"Criterion 3"==a.get("id")&&1==o&&"Group 19"==a.get("group_id")&&$(".btncheck").text("").text("Add another special term or condition "):s?$(".btncheck").text("").text("Add another question ("+(c-1-e)+" remaining)"):$(".btncheck").text("").text("Add another question ("+(c-e)+" remaining)"):s?$(".btncheck").text("").text("Add another skill or experience ("+(c-1-e)+" remaining)"):$(".btncheck").text("").text("Add another skill or experience ("+(c-e)+" remaining)")}else document.getElementById("fc_question_"+e).classList.remove("ccs-dynaform-hidden"),null!=document.getElementById("questionsCount")&&(document.getElementById("questionsCount").textContent=e+" technical questions entered so far"),document.querySelector("label[for=fc_question_"+e+"] a.del").classList.remove("ccs-dynaform-hidden"),e++;if("RM1043.8"!=a.get("agreement_id")||"Criterion 2"!=a.get("id")||1!=o||"Group 8"!=a.get("group_id")&&"Group 5"!=a.get("group_id")||5!=a.get("section"))if(e==c)$(".add-another-btn").addClass("ccs-dynaform-hidden"),errorStore.push(["There is a problem","Cannot add another question already "+e+" questions created"]),$(".add-another-btn").closest(".ccs-page-section").length&&$(".add-another-btn").closest(".ccs-page-section").css("border-bottom","0px");b()}else ccsZPresentErrorSummary(errorStore)}),$(".dos_question_count").on("change keyup paste",e=>{b()}),$(".weightage").on("change keyup paste",e=>{b()}),0==k){let e=[];for(var m=1;m<c;m++){let r=$("#fc_question_"+m).hasClass("additional"),n=$("#fc_question_"+m).hasClass("ccs-dynaform-hidden"),o=e[e.length-1];if(1==r&&0==n&&e.push(m),e.length>0){$("#del_dos_question_"+o).removeClass("ccs-dynaform-hidden")}"RM1043.8"==a.get("agreement_id")&&19==e.length&&($(".add-another-btn").addClass("ccs-dynaform-hidden"),$("#del_dos_question_20").removeClass("ccs-dynaform-hidden")),"RM1043.8"!=a.get("agreement_id")&&49==e.length&&$(".add-another-btn").addClass("ccs-dynaform-hidden"),"RM1557.13"==a.get("agreement_id")&&4==e.length&&"Criterion 2"==t.get("id")&&"Group 6"==t.get("group_id")&&$(".add-another-btn").addClass("ccs-dynaform-hidden"),"RM6187"!=a.get("agreement_id")||"Group 4"!=a.get("group_id")&&"Group 6"!=a.get("group_id")||"Criterion 2"!=a.get("id")||9!=e.length||$(".add-another-btn").addClass("ccs-dynaform-hidden")}}}const g=()=>{const e=document.getElementById("page-heading").innerHTML;for(var t=1;t<=20;t++){let r=$(`#fc_question_1_${t}`),n=$(`#fc_question_precenate_${t}`);if(!e.includes("(Optional)")){const e=countWords1(r.val())<50,o=countWords1(n.val())<150;(""!==r.val()||e)&&($(`#fc_question_1_${t}-error`).remove(),$(`.acronym_${t} div`).removeClass("govuk-form-group--error"),$(`.acronym_${t} input`).removeClass("govuk-input--error")),(""!==n.val()||o)&&($(`#fc_question_precenate_${t}-error`).remove(),$(`.acronym_${t} div`).removeClass("govuk-form-group--error"),$(`.acronym_${t} textarea`).removeClass("govuk-input--error"),$(`.acronym_${t} textarea`).removeClass("govuk-textarea--error"))}}},p=e=>{let r="",n=[];$(".govuk-error-message").remove(),$(".govuk-form-group--error").removeClass("govuk-form-group--error"),$(".govuk-error-summary").remove(),$(".govuk-input").removeClass("govuk-input--error"),$(".govuk-form-group textarea").removeClass("govuk-textarea--error");const o=document.getElementById("page-heading").innerHTML;fieldMsg="You must add information in all fields.",descMsg="You must add information in all fields.";for(var a=1;a<21;a++){let i=document.getElementById("fc_question_1_"+a),s=document.getElementById("fc_question_precenate_"+a);if(null!=i&&void 0!==i.value&&null!=s)if("addmore"==e){countWords1(i.value),countWords1(s.value);i.classList.contains("ccs-dynaform-hidden")||(g(),""===i.value.trim()?(r=[i.id,fieldMsg],ccsZaddErrorMessage(i,fieldMsg),n.push(r)):""===s.value.trim()&&(r=[s.id,descMsg],ccsZaddErrorMessage(s,descMsg),n.push(r)))}else if(o.trim().toLowerCase()!="Special terms and conditions (Optional)".toLowerCase()&&"write your technical questions"!=o.trim().toLowerCase()&&!(""==i.value&&""==s.value||""!=i.value&&""!=s.value)){countWords1(i.value),countWords1(s.value);i.classList.contains("ccs-dynaform-hidden")||(g(),""===i.value.trim()?(r=[i.id,fieldMsg],ccsZaddErrorMessage(i,"You must enter valid question"),n.push(r)):""===s.value.trim()&&("RM1557.13"==t.get("agreement_id")&&"Criterion 2"==t.get("id")&&"Group 6"==t.get("group_id")?(fieldMsg="Enter a weighting for this social value question",descMsg="Enter a weighting for this social value question",r=[s.id,descMsg],ccsZaddErrorMessage(s,"Enter a weighting for this social value question")):(r=[s.id,descMsg],ccsZaddErrorMessage(s,"You must enter percentage")),n.push(r)))}}return n},f=()=>{r();let e;null!==document.getElementById("lID")&&(e=document.getElementById("lID").value);let n="",o=[],a=0;const i=document.getElementById("page-heading").innerHTML;for(var s=1;s<c;s++){let r=document.getElementById("fc_question_"+s);const c=document.querySelector("#fc_question_"+s);if(!r.classList.contains("ccs-dynaform-hidden"))if(Number($("#totalPercentage").text)>100&&!0!==(n=ccsZvalidateWithRegex("fc_question_"+s+"_4","You cannot add / submit  question as your weightings exceed 100%",/\w+/))&&o.push(n),i.includes("Enter your project requirements")){const e=c.querySelectorAll("textarea");if(null!=e&&null!=e&&e.length>0)for(let t=0;t<e.length;t++){const r=e[t];var l=r.previousElementSibling.previousElementSibling.innerHTML,u="",d="";u="Name of the requirement"==l.trim()?"Enter the name of the requirement":"Describe the requirement"==l.trim()?"Enter the description of the requirement":"You must enter your name of the group",d="Describe the requirement"==l.trim()?"Enter the description of the requirement":"Enter the name of the requirement",0===t?""!=r.value&&void 0!==r.value&&null!==r.value||(ccsZvalidateWithRegex(r.id,u,/\w+/),50!=s&&$(".add-another-btn").removeClass("ccs-dynaform-hidden"),o.push([r.id,u])):1===t?""!=r.value&&void 0!==r.value&&null!==r.value||(ccsZvalidateWithRegex(r.id,u,/\w+/),50!=s&&$(".add-another-btn").removeClass("ccs-dynaform-hidden"),o.push([r.id,d])):""!=r.value&&void 0!==r.value&&null!==r.value||(ccsZvalidateWithRegex(r.id,u,/\w+/),o.push([r.id,"You must enter your description of the requirement"]))}a+=1}else if(i.trim().toLowerCase()!="Special terms and conditions (Optional)".toLowerCase()){if(r.querySelector(".order_1")){r.querySelector(".order_1");if(!(""!=r.querySelector(".order_1").value&&(null==r.querySelector(".weightage")||null==r.querySelector(".weightage")||""!=r.querySelector(".weightage").value&&"0"!=r.querySelector(".weightage").value)||i.includes("Assisted digital and accessibility requirements (optional)")||i.includes("Assisted digital and accessibility requirements (Optional)"))){let a="You must enter valid question",i="You must enter percentage";"RM1557.13"!=t.get("agreement_id")||"Criterion 2"!=t.get("id")||"Group 4"!=t.get("group_id")&&"Group 6"!=t.get("group_id")||(a="Group 4"==t.get("group_id")?"Enter a technical question":"Enter a social value question"),"RM1043.8"==t.get("agreement_id")&&"Criterion 2"==t.get("id")&&1==e&&"Group 5"==t.get("group_id")||3==e&&"Group 5"==t.get("group_id")?(a="Enter an essential skill or experience",i="Enter a weighting for this essential skill or experience"):"RM1043.8"==t.get("agreement_id")&&"Criterion 2"==t.get("id")&&1==e&&"Group 6"==t.get("group_id")||3==e&&"Group 6"==t.get("group_id")?(a="Enter a nice-to-have skill or experience",i="Enter a weighting for this nice-to-have skill or experience"):"RM1043.8"==t.get("agreement_id")&&"Criterion 2"==t.get("id")&&1==e&&"Group 7"==t.get("group_id")||3==e&&"Group 7"==t.get("group_id")?(a="Enter a technical question",i="Enter a weighting for this technical question"):"RM1043.8"==t.get("agreement_id")&&"Criterion 2"==t.get("id")&&1==e&&"Group 9"==t.get("group_id")||3==e&&"Group 8"==t.get("group_id")?(a="Enter a social value question",i="Enter a weighting for this social value question"):"RM1043.8"==t.get("agreement_id")&&"Criterion 2"==t.get("id")&&1==e&&"Group 8"==t.get("group_id")&&(a="Enter a cultural fit question",i="Enter a weighting for this cultural fit question");const l=r.querySelector(".order_1").value?"Entry is limited to 50 words":a;let c;n=ccsZvalidateWithRegex("fc_question_"+s+"_1",l,/\w+/),c="RM1557.13"!=t.get("agreement_id")||"Criterion 2"!=t.get("id")||"Group 4"!=t.get("group_id")&&"Group 6"!=t.get("group_id")||""!=r.querySelector(".weightage").value?ccsZvalidateWithRegex("fc_question_precenate_"+s,i,/\w+/):"Group 4"==t.get("group_id")?ccsZvalidateWithRegex("fc_question_precenate_"+s,"Enter a weighting for this technical question",/\wd+/):ccsZvalidateWithRegex("fc_question_precenate_"+s,"Enter a weighting for this social value question",/\wd+/),!0!==n&&o.push(n),c&&("RM1043.8"==t.get("agreement_id")&&"0"==r.querySelector(".weightage").value?o.push(ccsZvalidateWithRegex("fc_question_precenate_"+s,"You must enter valid percentage",/\wd+/)):o.push(c))}}if(r.querySelector(".order_2")&&""==r.querySelector(".order_2").value){const e=r.querySelector(".order_2").value?"Entry is limited to 50 words":"You must enter valid additional information";!0!==(n=ccsZvalidateWithRegex("fc_question_"+s+"_2",e,/\w+/))&&o.push(n)}if(r.querySelector(".order_3")&&""==r.querySelector(".order_3").value){const e=r.querySelector(".order_3").value?"Entry is limited to 50 words":"You must enter valid information";!0!==(n=ccsZvalidateWithRegex("fc_question_"+s+"_3",e,/\w+/))&&o.push(n)}if(r.querySelector(".weightage")){const e=r.querySelector(".weightage").value>100;if(""!=r.querySelector(".weightage").value&&e||r.querySelector(".weightage").value<0){const t=r.querySelector(".weightage").value?"Enter a weighting for this question <= 100%":"You must enter valid weightage";!0!==(n=ccsZvalidateWithRegex("fc_question_"+s+"_4",t,/\w+/,!e))&&o.push(n)}}}}return o};$("#rfp_multianswer_question_form").on("submit",e=>{let t=0,r=0;e.preventDefault();let n=[];const o=window.location.search,i=new URLSearchParams(o),s=document.getElementById("page-heading").innerHTML;let l;null!==document.getElementById("lID")&&(l=document.getElementById("lID").value);let u="";if("RM1557.13"!=i.get("agreement_id")&&"RM6187"!=i.get("agreement_id")||(u=p("submit")),0==u.length){var d=document.getElementsByClassName("weightage");if("RM1043.8"==i.get("agreement_id")&&"Criterion 2"==i.get("id")&&1==l&&("Group 8"==i.get("group_id")||"Group 5"==i.get("group_id")||"Group 6"==i.get("group_id")||"Group 7"==i.get("group_id")||"Group 9"==i.get("group_id"))||3==l&&("Group 5"==i.get("group_id")||"Group 6"==i.get("group_id")||"Group 7"==i.get("group_id")||"Group 8"==i.get("group_id"))?Array.prototype.forEach.call(d,function(e){""!==e.value&&(t+=1),e.parentElement.parentElement.parentElement.classList.contains("ccs-dynaform-hidden")||(r+=1)}):"RM6187"==i.get("agreement_id")&&"Criterion 2"==i.get("id")&&"Group 6"==i.get("group_id")?Array.prototype.forEach.call(d,function(e){""!==e.value&&(t+=1),e.parentElement.parentElement.parentElement.classList.contains("ccs-dynaform-hidden")||(r+=1)}):"RM1557.13"==i.get("agreement_id")&&"Criterion 2"==i.get("id")&&"Group 6"==i.get("group_id")&&Array.prototype.forEach.call(d,function(e){""!==e.value&&(t+=1),e.parentElement.parentElement.parentElement.classList.contains("ccs-dynaform-hidden")||(r+=1)}),0==t)if("RM1043.8"==i.get("agreement_id")&&"Criterion 2"==i.get("id")&&1==l&&("Group 6"==i.get("group_id")||"Group 9"==i.get("group_id"))||3==l&&("Group 6"==i.get("group_id")||"Group 8"==i.get("group_id")))if("Group 9"!=i.get("group_id")&&"Group 6"!=i.get("group_id")&&"Group 8"!=i.get("group_id")||5!=a.get("section"))document.forms.rfp_multianswer_question_form.submit();else{var m=$("#fc_question_1_1").val(),g=$("#fc_question_precenate_1").val();if(!(""==m.trim()&&null==m&&null==m||0==m.length||""!=g&&null!=g&&null!=g)){let e="You must enter percentage";"Group 6"==i.get("group_id")?e="Enter a weighting for this nice-to-have skill or experience":("Group 9"==i.get("group_id")||3==l&&"Group 8"==i.get("group_id"))&&(e="Enter a weighting for this social value question");var _=ccsZvalidateWithRegex("fc_question_precenate_1",e,/\w+/);n.push(_)}if(0===n.length){if(0!=document.getElementsByClassName("govuk-hint-error-message").length)return!1;document.forms.rfp_multianswer_question_form.submit()}else ccsZPresentErrorSummary(n)}else if("RM6187"==i.get("agreement_id")&&"Criterion 2"==i.get("id")&&"Group 6"==i.get("group_id"))document.forms.rfp_multianswer_question_form.submit();else if("RM1557.13"==i.get("agreement_id")&&"Criterion 2"==i.get("id")&&"Group 6"==i.get("group_id"))document.forms.rfp_multianswer_question_form.submit();else{if(null!=$("#totalPercentage")&&null!=$("#totalPercentage")&&$("#totalPercentage").length>0&&Number($("#totalPercentage").text())>100&&n.push(["There is a problem","The total weighting is more than 100% "]),null!=$("#totalPercentage")&&null!=$("#totalPercentage")&&$("#totalPercentage").length>0&&Number($("#totalPercentage").text())<100){for(var h=1;h<c;h++){let e=$("#fc_question_"+h).hasClass("ccs-dynaform-hidden"),t=$("#fc_question_"+h).hasClass("additional");if((""==$("#fc_question_"+h+"_1").val()&&0==e&&0==t||""==$("#fc_question_"+h+"_1").val()&&0==e&&1==t)&&!s.includes("Write your social value questions (Optional)")){let e="Enter a technical question";"RM1043.8"==i.get("agreement_id")&&"Criterion 2"==i.get("id")&&1==l&&"Group 5"==i.get("group_id")||3==l&&"Group 5"==i.get("group_id")?(e="Enter an essential skill or experience",msgWeightageContent="Enter a weighting for this essential skill or experience"):"RM1043.8"==i.get("agreement_id")&&"Criterion 2"==i.get("id")&&1==l&&"Group 7"==i.get("group_id")||3==l&&"Group 7"==i.get("group_id")?(e="Enter a technical question",msgWeightageContent="Enter a weighting for this technical question"):"RM1043.8"==i.get("agreement_id")&&"Criterion 2"==i.get("id")&&1==l&&"Group 8"==i.get("group_id")&&(e="Enter a cultural fit question",msgWeightageContent="Enter a weighting for this cultural fit question");_=ccsZvalidateWithRegex("fc_question_"+h+"_1",e,/\w+/);n.push(_)}if((""==$("#fc_question_precenate_"+h).val()&&0==e&&0==t||""==$("#fc_question_precenate_"+h).val()&&0==e&&1==t)&&!s.includes("Write your social value questions (Optional)")){let e="Enter a weighting for this technical question";"RM1043.8"==i.get("agreement_id")&&"Criterion 2"==i.get("id")&&1==l&&"Group 5"==i.get("group_id")||3==l&&"Group 5"==i.get("group_id")?e="Enter a weighting for this essential skill or experience":"RM1043.8"==i.get("agreement_id")&&"Criterion 2"==i.get("id")&&1==l&&"Group 7"==i.get("group_id")||3==l&&"Group 7"==i.get("group_id")?e="Enter a weighting for this technical question":"RM1043.8"==i.get("agreement_id")&&"Criterion 2"==i.get("id")&&1==l&&"Group 8"==i.get("group_id")&&(e="Enter a weighting for this cultural fit question");var v=ccsZvalidateWithRegex("fc_question_precenate_"+h,e,/\w+/);n.push(v)}"RM1557.13"==i.get("agreement_id")&&(""!=$("#fc_question_precenate_"+h).val()||0!=e||0!=t||s.includes("Write your social value questions (Optional)")?""!=$("#fc_question_precenate_"+h).val()&&0==e&&0==t&&!s.includes("Write your social value questions (Optional)")&&Number($("#totalPercentage").text())<1?n.push(["There is a problem","Your total weighting is must be greater than 1%"]):""!=$("#fc_question_precenate_"+h).val()&&0==e&&0==t&&!s.includes("Write your social value questions (Optional)")&&Number($("#totalPercentage").text())<100&&n.push(["There is a problem","Your total weighting must be 100%"]):n.push(["There is a problem","The weighting must add up to 100% in total"]),""!=$("#fc_question_precenate_"+h).val()&&0==e&&0==t&&s.includes("Write your social value questions (Optional)")&&n.push(["There is a problem","Your total weighting must be 100% "]))}if(("Group 8"==i.get("group_id")||"Group 7"==i.get("group_id")||"Group 5"==i.get("group_id"))&&5==a.get("section"))if("RM1043.8"==i.get("agreement_id"))""==$("#fc_question_precenate_1").val()&&$("#fc_question_precenate_1").val()<100&&n.push(["There is a problem","Your total weighting must be 100%"]);else if(""==$("#fc_question_precenate_1").val()){v=ccsZvalidateWeihtageValue("fc_question_precenate_1","Your total weighting must be 100%",Number($("#totalPercentage").text()));n.push(v)}"RM6187"==i.get("agreement_id")&&"Criterion 2"==i.get("id")&&"Group 4"==i.get("group_id")&&Number($("#totalPercentage").text())<100&&n.push(["There is a problem","The total weighting is less than 100% "])}if(0===(n=n.length<=0?f():n).length){if(0!=document.getElementsByClassName("govuk-hint-error-message").length)return!1;document.forms.rfp_multianswer_question_form.submit()}else ccsZPresentErrorSummary(n)}else{if(null!=$("#totalPercentage")&&null!=$("#totalPercentage")&&$("#totalPercentage").length>0&&Number($("#totalPercentage").text())<100){_=ccsZvalidateWithRegex("fc_question_"+h+"_1","You must enter information here",/\w+/);if(n=f(),"RM1043.8"!=i.get("agreement_id")||"Criterion 2"!=i.get("id")||"Group 9"!=i.get("group_id")&&"Group 5"!=i.get("group_id")&&"Group 7"!=i.get("group_id")&&"Group 8"!=i.get("group_id")&&"Group 6"!=i.get("group_id")||5!=i.get("section"))n.push(["There is a problem","The weighting must add up to 100% in total "]);else{let e=$(".order_1").filter(function(){return""!==this.value}).length,t=$("#fc_question_precenate_1").val();if(0==e&&""!=t&&0!=Number(t)&&(e=1),""!=$("#fc_question_precenate_"+e).val()&&0!=Number($("#fc_question_precenate_"+e).val())){v=ccsZvalidateWeihtageValue("fc_question_precenate_"+e,"The total weighting is less than 100%",Number($("#totalPercentage").text()));n.push(v)}else if(""!=$("#fc_question_"+e+"_1").val()&&""==$("#fc_question_precenate_"+e).val()&&Number($("#totalPercentage").text())>0){v=ccsZvalidateWeihtageValue("fc_question_precenate_"+(e-1),"The total weighting is less than 100%",Number($("#totalPercentage").text()));n.push(v)}}}if(null!=$("#totalPercentage")&&null!=$("#totalPercentage")&&$("#totalPercentage").length>0&&Number($("#totalPercentage").text())>100)if(n=f(),"RM1043.8"!=i.get("agreement_id")||"Criterion 2"!=i.get("id")||"Group 9"!=i.get("group_id")&&"Group 5"!=i.get("group_id")&&"Group 7"!=i.get("group_id")&&"Group 8"!=i.get("group_id")&&"Group 6"!=i.get("group_id")||5!=i.get("section"))n.push(["There is a problem","The total weighting is more than 100% "]);else{let e=$(".order_1").filter(function(){return""!==this.value}).length;v=ccsZvalidateWeihtageValue("fc_question_precenate_"+e,"The total weighting is more than 100% ",Number($("#totalPercentage").text()));n.push(v)}if("RM1043.8"==i.get("agreement_id")&&"Criterion 2"==i.get("id")&&1==r&&1==l&&("Group 6"==i.get("group_id")||"Group 9"==i.get("group_id"))||3==l&&("Group 6"==i.get("group_id")||"Group 8"==i.get("group_id"))){if(("Group 9"==i.get("group_id")||"Group 6"==i.get("group_id")||"Group 8"==i.get("group_id"))&&5==a.get("section")&&100==Number($("#totalPercentage").text())){let e=$("#fc_question_1_1").val(),t=$("#fc_question_precenate_1").val();if(!(""==t.trim()&&null==t&&null==t||0==t.length||""!=e&&null!=e&&null!=e)){let e="You must enter valid question";"Group 6"==i.get("group_id")?e="Enter a nice-to-have skill or experience":"Group 9"!=i.get("group_id")&&"Group 8"!=i.get("group_id")||(e="Enter a social value question");_=ccsZvalidateWithRegex("fc_question_1_1",e,/\w+/);n.push(_)}}}else n=n.length<=0?f():n;if(0===n.length){if(0!=document.getElementsByClassName("govuk-hint-error-message").length)return!1;document.forms.rfp_multianswer_question_form.submit()}else ccsZPresentErrorSummary(n)}}else ccsZPresentErrorSummary(u)})}),$(".weightagelimit").on("keypress",function(e){let t=$(this).val();var r=(e=e||window.event).which?e.which:e.keyCode;return!(r>31&&(r<48||r>57)||t.length>=3)}),$(".rfp_duration").on("keypress",function(e){let t=$(this).val();var r=(e=e||window.event).which?e.which:e.keyCode;return!(r>31&&(r<48||r>57)||t.length>=3)}),$(document.body).on("keyup",".weightagelimit",function(e){$(this).val();if(parseInt($(this).val())>100){let e=$(this).val().slice(0,$(this).val().length-1);$(this).val(e)}}),$(".weightage").on("input",function(){$(this).val($(this).val().replace(/[^a-z0-9]/gi,""))}),document.addEventListener("DOMContentLoaded",()=>{const e=$(".rfp_weight_vetting_class"),t=e.length+1;var r="",n="",o=$("#rfp_total_resource"),a=$("#rfp_total_resource2"),i=document.querySelectorAll(".rfp-vetting-weighting");function s(e){const r="rfp_weight_vetting_"+e+"_";for(var n=1;n<t;n++){let e=$(`#${r}${n}`);e.on("blur",()=>{null!=e.val()&&null!==e.val()&&e.val(),l(r),c()})}}function l(e){let n=0;for(var o=1;o<t;o++){let t=$(`#${e}${o}`);null!=t.val()&&""!=t.val()&&(n+=Number(t.val()))}r.innerHTML=n+" resources added"}function c(){let t=0;for(index=0;index<e.length;++index)""!=e[index].value&&(t+=Number(e[index].value));o.text(t),a.text(t)}null!=i&&i.length>0&&(ccsTabMenuNaviation(),r=document.getElementsByClassName("table-item-subtext")[0],null!=(n=i[0].getElementsByTagName("a")[0].childNodes[0].data)&&""!=n&&s(n=n.replaceAll(" ","_")),Array.from(i).forEach(e=>{e.addEventListener("click",function(e){setTimeout(e=>{document.querySelectorAll("#rfp_weight_vetting_IT_Ops_16")[0].style.width="100px"},5e3);let t=e.currentTarget,o=$(this).index();return r=t.getElementsByClassName("table-item-subtext")[0],s(n=(n=(n=i[o].getElementsByTagName("a")[0].childNodes[0].data).replaceAll(" ","_")).replaceAll(/[\])}[{(]/g,"")),!1})})),e.on("keydown",e=>{"."!==e.key&&69!==e.keyCode||e.preventDefault()}),$("#ccs_ca_menu_tabs_form_rfp_vetting").on("submit",t=>{const r=[],n=[],o=[],a=[];for(var i=1;i<e.length;i++){const e=document.getElementsByClassName("rfp_weight_vetting_class")[i-1];""!=e.value&&n.push(!0),e.value.includes(".")?(document.getElementsByClassName("weight_vetting_class")[i-1].classList.add("govuk-input--error"),document.getElementsByClassName("weight_vetting_class_error")[i-1].innerHTML="Decimal value is entered. Please enter number <100 and >0 ",o.push(!0)):isNaN(e.value)&&""!==e.value?(document.getElementsByClassName("weight_vetting_class")[i-1].classList.add("govuk-input--error"),document.getElementsByClassName("weight_vetting_class_error")[i-1].innerHTML="Alphabetical value is entered. Please enter number <100 and >0",a.push(!0)):e.value>99&&""!=e.value?(document.getElementsByClassName("weight_vetting_class")[i-1].classList.add("govuk-input--error"),document.getElementsByClassName("weight_vetting_class_error")[i-1].innerHTML="Please enter number <100 and >0",r.push(!0)):e.value<=0&&""!==e.value?(document.getElementsByClassName("weight_vetting_class")[i-1].classList.add("govuk-input--error"),document.getElementsByClassName("weight_vetting_class_error")[i-1].innerHTML="Please enter number <100 and >0",r.push(!0)):(document.getElementsByClassName("weight_vetting_class")[i-1].classList.remove("govuk-input--error"),document.getElementsByClassName("weight_vetting_class_error")[i-1].innerHTML="")}switch(!0){case r.length>0&&o.length>0&&a.length>0:t.preventDefault(),$("#rfp_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#summary_list").html('<li><a href="#">The input field must be a number less than 100 and greater than 0</a></li><br><li><a href="#">The input field should not contain decimal values</a></li><br><li><a href="#">The input field must be a number</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;case r.length>0&&o.length>0:t.preventDefault(),$("#rfp_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#summary_list").html('<li><a href="#">The input field must be a number less than 100 and greater than 0</a></li><br><li><a href="#">The input field should not contain decimal values</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;case r.length>0&&a.length>0:t.preventDefault(),$("#rfp_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#summary_list").html('<li><a href="#">The input field must be a number less than 100 and greater than 0</a></li><br><li><a href="#">The input field must be a number</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;case o.length>0&&a.length>0:t.preventDefault(),$("#rfp_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#summary_list").html('<li><a href="#">The input field should not contain decimal values</a></li><br><li><a href="#">The input field must be a number</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;case r.length>0:t.preventDefault(),$("#rfp_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#summary_list").html('<li><a href="#">The input field must be a number less than 100 and greater than 0</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;case a.length>0:t.preventDefault(),$("#rfp_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#summary_list").html('<li><a href="#">The input field must be a number</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;case o.length>0:t.preventDefault(),$("#rfp_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#summary_list").html('<li><a href="#">The input field should not contain decimal values</a></li>'),$("html, body").animate({scrollTop:0},"fast");break;default:console.log("If all else fails")}!n.length>0&&(t.preventDefault(),$("#rfp_vetting_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#summary_list").html("You must enter atleast on value"),$("html, body").animate({scrollTop:0},"fast"))})}),document.addEventListener("DOMContentLoaded",()=>{if($(".check-popup").on("click",function(){console.log("Workied******");const e=document.querySelector(".backdrop-supplier-popup");e.classList.add("showpopup"),$(".dialog-close-supplier").on("click",function(){e.classList.remove("showpopup")}),stnewsupplier=document.getElementById("redirect-button-supplier"),stnewsupplier.addEventListener("click",t=>{e.classList.remove("showpopup"),console.log("Workied confirm******")})}),null!==document.getElementById("ccs_rfp_scoring_criteria")){let t=10,r=document.querySelectorAll("a.del").length>0?document.querySelectorAll("a.del"):document.querySelectorAll("a.clear-fields");selectTierButtons=document.querySelectorAll(".tier-popup");let n=document.querySelectorAll(".tierLable");document.getElementById("ccs_rfp_score_criteria_add").classList.remove("ccs-dynaform-hidden");const o=document.querySelectorAll(".govuk-input--width-3"),a=document.querySelectorAll(".govuk-input"),i=document.querySelectorAll(".govuk-textarea");a.forEach(e=>{e.addEventListener("focusout",e=>{null!=e.target.value&&""!==e.target.value&&removeErrorFieldsRfpScore()})}),i.forEach(e=>{e.addEventListener("focusout",e=>{null!=e.target.value&&""!==e.target.value&&removeErrorFieldsRfpScore()})}),document.getElementById("tiersAdded").textContent="0";let s={};n.forEach(e=>{null!=e.attributes&&null!=e.attributes[2]&&null!=e.attributes[2].textContent&&null!=e.attributes&&null!=e.attributes[2]&&null!=e.attributes[2].textContent&&e.attributes[2].textContent.toLowerCase()==="Create your own scoring criteria".toLowerCase()&&null!=e.attributes&&null!=e.attributes[4]&&null!=e.attributes&&null!=e.attributes[4]&&(s=null!=e.attributes[4].value?JSON.parse(e.attributes[4].value):null)});let l=!1;for(var e=1;e<11;e++){null!=s&&null!=s&&null!=s.rows&&null!=s.rows&&(1==e&&s.rows.unshift([{text:"ignore"}]),null!=s.rows[e]&&null!=s.rows[e]&&(document.getElementById("rfp_score_criteria_name_"+e).value=null!=s&&null!=s&&null!=s.rows[e].at(0).text?s.rows[e].at(0).text:"",document.getElementById("rfp_score_criteria_point_"+e).value=null!=s&&null!=s&&null!=s.rows[e].at(1).text?s.rows[e].at(1).text:"",document.getElementById("rfp_score_criteria_desc_"+e).value=null!=s&&null!=s&&null!=s.rows[e].at(2).text?s.rows[e].at(2).text:""));let r=document.querySelector(".score_criteria_"+(0===e?1:e)),n=document.getElementById("rfp_score_criteria_name_"+(0===e?1:e));""!==n.value&&void 0!==n.value&&null!==n.value?(r.classList.remove("ccs-dynaform-hidden"),10===e&&document.getElementById("ccs_rfp_score_criteria_add").classList.add("ccs-dynaform-hidden"),9===e&&(l=!0),document.getElementById("tiersAdded").textContent=e):1!==e?(null!=r&&null!=r&&r.classList.add("ccs-dynaform-hidden"),t=e):10===e&&l?document.getElementById("ccs_rfp_score_criteria_add").classList.add("ccs-dynaform-hidden"):document.getElementById("ccs_rfp_score_criteria_add").classList.remove("ccs-dynaform-hidden")}if(selectTierButtons.forEach(e=>{e.addEventListener("click",e=>{const r=JSON.parse(e.currentTarget.attributes[2].value);const n=document.querySelector(".backdrop-tier");if(!document.getElementById("agreement_id")||"RM1043.8"!=document.getElementById("agreement_id").value&&"RM1557.13"!=document.getElementById("agreement_id").value&&"RM6187"!=document.getElementById("agreement_id").value)n.classList.add("showpopup");else if(document.getElementById("rfp_score_criteria_name_1")&&document.getElementById("rfp_score_criteria_desc_1")&&document.getElementById("rfp_score_criteria_point_1")){let e=document.getElementById("rfp_score_criteria_name_1").value,a=document.getElementById("rfp_score_criteria_point_1").value,i=document.getElementById("rfp_score_criteria_desc_1").value;if(""!=e||""!=a||""!=i)n.classList.add("showpopup");else{for(let e=1;e<11;e++){document.getElementById("rfp_score_criteria_name_"+e).value="",document.getElementById("rfp_score_criteria_point_"+e).value="",document.getElementById("rfp_score_criteria_desc_"+e).value="",document.getElementsByClassName("score_criteria_"+e)[0].classList.add("ccs-dynaform-hidden")}if(null!=r&&null!=r&&(document.getElementById("tiersAdded").textContent=r.rows.length,t=r.rows.length+1,r.rows.unshift({text:"Ignore"}),document.getElementById("agreement_id")&&("RM1043.8"==document.getElementById("agreement_id").value||"RM1557.13"==document.getElementById("agreement_id").value||"RM6187"==document.getElementById("agreement_id").value))){r.rows.reverse();var o=r.rows.length;for(let e=0;e<r.rows.length;e++){if(e!==Number(o)-1){const t=e+1;document.getElementsByClassName("score_criteria_"+t)[0].classList.remove("ccs-dynaform-hidden"),document.getElementById("rfp_score_criteria_name_"+t).value=r.rows[e].at(0).text,document.getElementById("rfp_score_criteria_point_"+t).value=r.rows[e].at(1).text,document.getElementById("rfp_score_criteria_desc_"+t).value=r.rows[e].at(2).text,document.getElementById("rfp_score_criteria_desc_"+t).focus(),document.getElementById("rfp_score_criteria_name_"+t).focus()}11==r.rows.length&&$("#ccs_rfp_score_criteria_add").hasClass("ccs-dynaform-hidden")?document.getElementById("ccs_rfp_score_criteria_add").classList.add("ccs-dynaform-hidden"):document.getElementById("ccs_rfp_score_criteria_add").classList.remove("ccs-dynaform-hidden")}}}}$(".dialog-close-tier").on("click",function(){n.classList.remove("showpopup")}),stnew=document.getElementById("redirect-button-tier"),stnew.addEventListener("click",e=>{n.classList.remove("showpopup"),removeErrorFieldsRfpScore();for(var o=1;o<11;o++){document.getElementById("rfp_score_criteria_name_"+o).value="",document.getElementById("rfp_score_criteria_point_"+o).value="",document.getElementById("rfp_score_criteria_desc_"+o).value="",document.getElementsByClassName("score_criteria_"+o)[0].classList.add("ccs-dynaform-hidden")}if(null!=r&&null!=r)if(document.getElementById("tiersAdded").textContent=r.rows.length,t=r.rows.length+1,r.rows.unshift({text:"Ignore"}),document.getElementById("agreement_id")&&"RM1043.8"==document.getElementById("agreement_id").value){r.rows.reverse();for(let e=0;e<r.rows.length;e++){if(4!==e){const t=e+1;document.getElementsByClassName("score_criteria_"+t)[0].classList.remove("ccs-dynaform-hidden"),document.getElementById("rfp_score_criteria_name_"+t).value=r.rows[e].at(0).text,document.getElementById("rfp_score_criteria_point_"+t).value=r.rows[e].at(1).text,document.getElementById("rfp_score_criteria_desc_"+t).value=r.rows[e].at(2).text,document.getElementById("rfp_score_criteria_desc_"+t).focus(),document.getElementById("rfp_score_criteria_name_"+t).focus()}11==r.rows.length&&$("#ccs_rfp_score_criteria_add").hasClass("ccs-dynaform-hidden")?document.getElementById("ccs_rfp_score_criteria_add").classList.add("ccs-dynaform-hidden"):document.getElementById("ccs_rfp_score_criteria_add").classList.remove("ccs-dynaform-hidden")}}else if(document.getElementById("agreement_id")&&"RM1557.13"==document.getElementById("agreement_id").value){var a,i;r.rows.reverse(),6==r.rows.length?(a=4,i=5):(a=3,i=4);for(let e=0;e<r.rows.length;e++){if(e!==i){const t=e+1;document.getElementsByClassName("score_criteria_"+t)[0].classList.remove("ccs-dynaform-hidden"),document.getElementById("rfp_score_criteria_name_"+t).value=r.rows[e].at(0).text,document.getElementById("rfp_score_criteria_point_"+t).value=r.rows[e].at(1).text,document.getElementById("rfp_score_criteria_desc_"+t).value=r.rows[e].at(2).text,document.getElementById("rfp_score_criteria_desc_"+t).focus(),document.getElementById("rfp_score_criteria_name_"+t).focus()}if(e>a){var s=e+1;document.getElementsByClassName("score_criteria_"+s)[0].classList.add("ccs-dynaform-hidden")}11==r.rows.length&&$("#ccs_rfp_score_criteria_add").hasClass("ccs-dynaform-hidden")?document.getElementById("ccs_rfp_score_criteria_add").classList.add("ccs-dynaform-hidden"):document.getElementById("ccs_rfp_score_criteria_add").classList.remove("ccs-dynaform-hidden")}}else for(let e=0;e<r.rows.length;e++){if(0!==e)document.getElementsByClassName("score_criteria_"+e)[0].classList.remove("ccs-dynaform-hidden"),document.getElementById("rfp_score_criteria_name_"+e).value=r.rows[e].at(0).text,document.getElementById("rfp_score_criteria_point_"+e).value=r.rows[e].at(1).text,document.getElementById("rfp_score_criteria_desc_"+e).value=r.rows[e].at(2).text,document.getElementById("rfp_score_criteria_name_"+e).focus(),document.getElementById("rfp_score_criteria_desc_"+e).focus();11==r.rows.length&&$("#ccs_rfp_score_criteria_add").hasClass("ccs-dynaform-hidden")?document.getElementById("ccs_rfp_score_criteria_add").classList.add("ccs-dynaform-hidden"):document.getElementById("ccs_rfp_score_criteria_add").classList.remove("ccs-dynaform-hidden")}})})}),document.getElementById("ccs_rfp_score_criteria_add").addEventListener("click",e=>{$(".govuk-form-group textarea").removeClass("govuk-textarea--error"),checkFieldsRfpScore(),removeErrorFieldsRfpScore(),e.preventDefault();let t=1,r=!1;if(0==(errorStore=emptyFieldCheckRfpScore()).length){for(var n=1;n<11;n++){let e=document.querySelector(".score_criteria_"+(0===n?1:n)),o=document.getElementById("rfp_score_criteria_name_"+(0===n?1:n));""!==o.value&&void 0!==o.value&&null!==o.value&&(t+=1,document.getElementById("tiersAdded").textContent=n,e.classList.remove("ccs-dynaform-hidden"),9===n&&(r=!0),10===n&&(document.getElementById("ccs_rfp_score_criteria_add").classList.add("ccs-dynaform-hidden"),errorStore.push(["There is a problem","You must add min maximum 10 tiers."]))),10===n&&r&&document.getElementById("ccs_rfp_score_criteria_add").classList.add("ccs-dynaform-hidden")}$(".score_criteria_"+Number(t)).length>0&&$(".score_criteria_"+Number(t)).hasClass("ccs-dynaform-hidden")&&(document.querySelector(".score_criteria_"+Number(t)).classList.remove("ccs-dynaform-hidden"),document.getElementById("tiersAdded").textContent=t),errorStore.length>0&&ccsZPresentErrorSummary(errorStore)}else ccsZPresentErrorSummary(errorStore)}),r.forEach(e=>{e.classList.remove("ccs-dynaform-hidden"),e.addEventListener("click",r=>{r.preventDefault();let n=Number(document.getElementById("tiersAdded").textContent),o=e.href.replace(/^(.+\/)(\d{1,2})$/,"$2");Number(o);e.closest("fieldset").classList.add("ccs-dynaform-hidden"),document.getElementById("rfp_score_criteria_name_"+o).value="",document.getElementById("rfp_score_criteria_point_"+o).value="",document.getElementById("rfp_score_criteria_desc_"+o).value="",document.getElementById("rfp_score_criteria_name_"+o).removeAttribute("readonly"),document.getElementById("rfp_score_criteria_point_"+o).removeAttribute("readonly"),document.getElementById("rfp_score_criteria_desc_"+o).removeAttribute("readonly");let a=[];for(var i=1;i<11;i++){let e=document.getElementById("rfp_score_criteria_name_"+i).value,t=document.getElementById("rfp_score_criteria_point_"+i).value,r=document.getElementById("rfp_score_criteria_desc_"+i).value;null!=e&&null!=e&&""!=e&&null!=t&&null!=t&&""!=t&&null!=r&&null!=r&&""!=t&&a.push({name:e,point:t,desc:r}),document.getElementById("rfp_score_criteria_name_"+i).value="",document.getElementById("rfp_score_criteria_point_"+i).value="",document.getElementById("rfp_score_criteria_desc_"+i).value="";let n=document.querySelector(".score_criteria_"+(0===i?1:i));null!=n&&null!=n&&n.classList.add("ccs-dynaform-hidden")}let s=a.length+1;document.getElementById("rfp_score_criteria_name_"+s).dispatchEvent(new Event("keyup")),document.getElementById("rfp_score_criteria_desc_"+s).dispatchEvent(new Event("keyup"));for(i=1;i<11;i++){1==i?(document.getElementById("rfp_score_criteria_name_1").value=null!=a[0]&&null!=a[0].name?a[0].name:"",document.getElementById("rfp_score_criteria_point_1").value=null!=a[0]&&null!=a[0].point?a[0].point:"",document.getElementById("rfp_score_criteria_desc_1").value=null!=a[0]&&null!=a[0].desc?a[0].desc:""):(document.getElementById("rfp_score_criteria_name_"+i).value=null!=a[i-1]&&null!=a[i-1].name?a[i-1].name:"",document.getElementById("rfp_score_criteria_point_"+i).value=null!=a[i-1]&&null!=a[i-1].point?a[i-1].point:"",document.getElementById("rfp_score_criteria_desc_"+i).value=null!=a[i-1]&&null!=a[i-1].desc?a[i-1].desc:"");let e=document.querySelector(".score_criteria_"+(0===i?1:i)),r=document.getElementById("rfp_score_criteria_name_"+(0===i?1:i));""!==r.value&&void 0!==r.value&&null!==r.value?(e.classList.remove("ccs-dynaform-hidden"),10===i&&document.getElementById("ccs_rfp_score_criteria_add").classList.add("ccs-dynaform-hidden"),document.getElementById("tiersAdded").textContent=i):0!==i&&(null!=e&&null!=e&&e.classList.add("ccs-dynaform-hidden"),t=i),1===i&&(null!=e&&null!=e&&e.classList.remove("ccs-dynaform-hidden"),t=1)}document.getElementById("ccs_rfp_score_criteria_add").classList.remove("ccs-dynaform-hidden"),t--,0===n&&(document.getElementById("tiersAdded").textContent=0),1===n&&(document.getElementById("tiersAdded").textContent=1),n>0&&(document.getElementById("tiersAdded").textContent=n-1)})}),o.forEach(e=>{e.addEventListener("keydown",e=>{"."!==e.key&&69!==e.keyCode||e.preventDefault()})}),document.getElementsByClassName("score_criteria_fieldset").length>0){let e=document.getElementsByClassName("score_criteria_fieldset"),t=e.length;for(;t--;){let r=t+1;e[t].querySelector("#rfp_score_criteria_name_"+r).addEventListener("focusout",e=>{e.target;let t="rfp_score_criteria_point_"+r,n="rfp_score_criteria_desc_"+r;document.getElementById(t),document.getElementById(n)}),e[t].querySelector("#rfp_score_criteria_point_"+r).addEventListener("focusout",e=>{e.target;let t="rfp_score_criteria_name_"+r,n="rfp_score_criteria_desc_"+r;document.getElementById(t),document.getElementById(n)}),e[t].querySelector("#rfp_score_criteria_desc_"+r).addEventListener("focusout",e=>{e.target;let t="rfp_score_criteria_name_"+r,n="rfp_score_criteria_point_"+r;document.getElementById(t),document.getElementById(n)})}}}DelGCButtons=document.querySelectorAll(".DelGCButtons-popup"),DelGCButtons.forEach(e=>{e.addEventListener("click",e=>{e.preventDefault(),urldel=e.target.getAttribute("data-link");const t=document.querySelector(".backdrop-gcloud_delete");t.classList.add("showpopup"),$(".dialog-close-gcloud_delete").on("click",function(){t.classList.remove("showpopup")}),$(".close-dialog-close").on("click",function(){t.classList.remove("showpopup")}),deconf=document.getElementById("redirect-button-gcloud_delete"),deconf.addEventListener("click",e=>{t.classList.remove("showpopup"),window.location.href=window.location.origin+urldel})})})}),$(".maxValueValidate").keyup(function(e){if($(this).val().length>2||parseInt($(this).val())>100){let e=$(this).val();$(this).val(e.slice(0,3))}});const checkFieldsRfpScore=()=>{for(var e=1;e<=10;e++){let t=$(`#rfp_score_criteria_name_${e}`),r=$(`#rfp_score_criteria_point_${e}`),n=$(`#rfp_score_criteria_desc_${e}`);""!==t.val()&&($(`#rfp_score_criteria_name_${e}-error`).remove(),$(`score_criteria_${e} div`).removeClass("govuk-form-group--error"),$(`score_criteria_${e} input`).removeClass("govuk-input--error")),""!==r.val()&&($(`#rfp_score_criteria_point_${e}-error`).remove(),$(`score_criteria_${e} div`).removeClass("govuk-form-group--error"),$(`score_criteria_${e} input`).removeClass("govuk-input--error")),""!==n.val()&&($(`#rfp_score_criteria_desc_${e}-error`).remove(),$(`score_criteria_${e} div`).removeClass("govuk-form-group--error"),$(`score_criteria_${e} textarea`).removeClass("govuk-textarea--error"))}},removeErrorFieldsRfpScore=()=>{$(".govuk-error-message").remove(),$(".govuk-form-group--error").removeClass("govuk-form-group--error"),$(".govuk-error-summary").remove(),$(".govuk-input").removeClass("govuk-input--error"),$(".govuk-form-group textarea").removeClass("govuk-textarea--error")},emptyFieldCheckRfpScore=()=>{let e="",t=[],r=!1,n=document.getElementById("agreement_id");removeErrorFieldsRfpScore();for(var o=1;o<11;o++){let a=document.getElementById("rfp_score_criteria_name_"+o),i=document.getElementById("rfp_score_criteria_point_"+o),s=document.getElementById("rfp_score_criteria_desc_"+o);if(null!=a&&null!=a&&-1===a.closest("fieldset").classList.value.indexOf("ccs-dynaform-hidden"))if(checkFieldsRfpScore(),""===a.value.trim()&&""===i.value.trim()&&""===s.value.trim()&&"RM6187"!=n.value.trim()&&"RM1557.13"!=n.value.trim()){let r;""===a.value.trim()?r=a:""===i.value.trim()?r=i:""===s.value.trim()&&(r=s),null!=document.getElementById("agreement_id")&&"RM1043.8"==document.getElementById("agreement_id").value?(""===a.value.trim()&&(e=[a.id,"Enter a name for this level"],t.push(e)),""===i.value.trim()&&(e=[i.id,"Enter a score for this level"],t.push(e)),""===s.value.trim()&&(e=[s.id,"Enter a description for this level"],t.push(e)),ccsZaddErrorMessage(a,"Enter a name for this level"),ccsZaddErrorMessage(i,"Enter a score for this level"),ccsZaddErrorMessage(s,"Enter a description for this level")):(e=[r.id,"You must add information in all fields."],ccsZaddErrorMessage(a,"You must add information in all fields."),ccsZaddErrorMessage(i,"Enter valid score"),ccsZaddErrorMessage(s,"You must add information in all fields."),t.push(e))}else if("RM6187"==n.value.trim()&&""===a.value.trim()&&""===i.value.trim()&&""===s.value.trim())""===a.value.trim()&&(e=[a.id,"Enter a name for this level"],t.push(e)),""===i.value.trim()&&(e=[i.id,"Enter a score for this level"],t.push(e)),""===s.value.trim()&&(e=[s.id,"Enter a description for this level"],t.push(e)),ccsZaddErrorMessage(a,"Enter a name for this level"),ccsZaddErrorMessage(i,"Enter a score for this level"),ccsZaddErrorMessage(s,"Enter a description for this level");else if("RM1557.13"!=n.value.trim()||""!==a.value.trim()&&""!==i.value.trim()&&""!==s.value.trim())if("RM1043.8"==n.value.trim()&&Number(i.value.trim())>100){let r={field:i,isError:!1};e=[i.id,"Enter valid score"],ccsZaddErrorMessage(i,"Enter valid score"),r.isError=!0,r.field=i,r.isError&&(e=[r.field.id,"Enter valid score"],t.push(e))}else{let o={field:a,isError:!1};if(""!==a.value.trim()||"RM6187"!=n.value.trim()&&"RM1557.13"!=n.value.trim()||(ccsZaddErrorMessage(a,"Enter a name for this level"),o.isError=!0,o.field=a),""!==i.value.trim()||"RM6187"!=n.value.trim()&&"RM1557.13"!=n.value.trim()||(ccsZaddErrorMessage(i,"Enter a score for this level"),o.isError=!0,o.field=i),i.value.trim()<0&&("RM6187"==n.value.trim()||"RM1557.13"==n.value.trim())&&(ccsZaddErrorMessage(i,"Enter a valid score"),o.isError=!0,o.field=i),""!==s.value.trim()||"RM6187"!=n.value.trim()&&"RM1557.13"!=n.value.trim()||(ccsZaddErrorMessage(s,"Enter a description for this level"),o.isError=!0,o.field=s),""===a.value.trim()&&"RM6187"!=n.value.trim()&&"RM1557.13"!=n.value.trim()&&(ccsZaddErrorMessage(a,"Enter a name for this level"),o.isError=!0,o.field=a),""===i.value.trim()&&"RM6187"!=n.value.trim()&&"RM1557.13"!=n.value.trim()&&(ccsZaddErrorMessage(i,"Enter a score for this level"),o.isError=!0,o.field=i),"RM1043.8"==n.value.trim()&&(i.value.trim().length>3||i.value.trim()<0||i.value.trim()>100)&&(ccsZaddErrorMessage(i,"Enter valid score"),o.isError=!0,o.field=i),""===s.value.trim()&&"RM6187"!=n.value.trim()&&"RM1557.13"!=n.value.trim()&&(ccsZaddErrorMessage(s,"Enter a description for this level"),o.field=s,"RM1043.8"==n.value.trim()?r=!0:o.isError=!0),"RM6187"!=n.value.trim()&&"RM1557.13"!=n.value.trim()||o.isError&&(""===a.value.trim()&&(e=[o.field.id,"Enter a name for this level"],t.push(e)),""===i.value.trim()&&(e=[o.field.id,"Enter a score for this level"],t.push(e)),""===s.value.trim()&&(e=[o.field.id,"Enter a description for this level"],t.push(e))),"RM6187"!=n.value.trim()&&"RM1557.13"!=n.value.trim()){let l="";""===a.value.trim()?(o.field=a,l="Enter a name for this level"):""===i.value.trim()?(o.field=i,l="You must add score for this level"):"RM1043.8"==n.value.trim()&&(i.value.trim().length>3||i.value.trim()<0||i.value.trim()>100)?(o.field=i,l="Enter valid score"):""===s.value.trim()&&"RM1043.8"!=n.value.trim()&&(o.field=s,l="Enter a description for this level"),o.isError&&(e=[o.field.id,""==l?"You must add information in all fields.":l],t.push(e)),"RM1043.8"==n.value.trim()&&1==r&&(e=[s.id,"Enter a description for this level"],t.push(e))}}else""===a.value.trim()&&(e=[a.id,"Enter a name for this level"],t.push(e),ccsZaddErrorMessage(a,"Enter a name for this level")),""===i.value.trim()&&(e=[i.id,"Enter a score for this level"],t.push(e),ccsZaddErrorMessage(i,"Enter a score for this level")),""===s.value.trim()&&(e=[s.id,"Enter a description for this level"],ccsZaddErrorMessage(s,"Enter a description for this level"),t.push(e))}return t},ccsZvalidateScoringCriteria=e=>{e.preventDefault(),errorStore=[],errorStore=emptyFieldCheckRfpScore();let t=document.getElementById("tiersAdded").textContent;0===errorStore.length&&t.match(/(\d+)/)[0]>=2?document.forms.ccs_rfp_scoring_criteria.submit():t.match(/(\d+)/)[0]<2?(null!=document.getElementById("agreement_id")&&"RM1043.8"==document.getElementById("agreement_id").value?errorStore.push(["ccs_rfp_score_criteria_add","Number of scoring levels must be 2 or more"]):errorStore.push(["There is a problem","Number of scoring levels must be 2 or more"]),ccsZPresentErrorSummary(errorStore)):t.match(/(\d+)/)[0]>10?(errorStore.push(["There is a problem","You must add maximum 10 tiers."]),ccsZPresentErrorSummary(errorStore)):ccsZPresentErrorSummary(errorStore)},checkFieldsRfpScore2=()=>{for(var e=1;e<=10;e++){let t=$(`#rfp_term_service_group_${e}`),r=$(`#rfp_term_more_details_${e}`);""!==t.val()&&($(`#rfp_term_service_group_${e}-error`).remove(),$(`acronym_service_${e} div`).removeClass("govuk-form-group--error"),$(`acronym_service_${e} input`).removeClass("govuk-input--error")),""!==r.val()&&($(`#rfp_term_more_details_${e}-error`).remove(),$(`acronym_service_${e} div`).removeClass("govuk-form-group--error"),$(`acronym_service_${e} textarea`).removeClass("govuk-textarea--error"))}},removeErrorFieldsRfpScore2=()=>{$(".govuk-error-message").remove(),$(".govuk-form-group--error").removeClass("govuk-form-group--error"),$(".govuk-error-summary").remove(),$(".govuk-input").removeClass("govuk-input--error"),$(".govuk-form-group textarea").removeClass("govuk-textarea--error")},emptyFieldCheckRfpScore2=()=>{let e="",t="",r=[];$(".govuk-error-message").remove(),$(".govuk-form-group--error").removeClass("govuk-form-group--error"),$(".govuk-error-summary").remove(),$(".govuk-input").removeClass("govuk-input--error"),$(".govuk-form-group textarea").removeClass("govuk-textarea--error");for(var n=new URLSearchParams(window.location.search),o=n.get("agreement_id"),a=n.get("group_id"),i=n.get("id"),s=1;s<11;s++){let n=document.getElementById("rfp_term_service_group_"+s),l=document.getElementById("rfp_term_more_details_"+s);if(null!=n&&null!=n&&-1===n.closest("fieldset").classList.value.indexOf("ccs-dynaform-hidden"))if(checkFieldsRfpScore2(),""===n.value.trim()&&""===l.value.trim())"RM1043.8"==o&&"Group 9"==a&&"Criterion 3"==i?(e=[n.id,"Enter a user type"],ccsZaddErrorMessage(n,"Enter a user type"),t=[l.id,"Enter details about your users"],ccsZaddErrorMessage(l,"Enter details about your users"),r.push(e),r.push(t)):(e=[n.id,"You must add information in all fields."],ccsZaddErrorMessage(n,"You must add information in all fields."),ccsZaddErrorMessage(l,"You must add information in all fields."),r.push(e));else{let t={field:n,isError:!1};""===n.value.trim()&&("RM1043.8"==o&&"Group 9"==a&&"Criterion 3"==i?(e=[n.id,"Enter a user type"],ccsZaddErrorMessage(n,"Enter a user type"),r.push(e)):(ccsZaddErrorMessage(n,"You must add information in all fields."),t.isError=!0,t.field=n)),""===l.value.trim()&&("RM1043.8"==o&&"Group 9"==a&&"Criterion 3"==i?(e=[l.id,"Enter details about your users"],ccsZaddErrorMessage(l,"Enter details about your users"),r.push(e)):(ccsZaddErrorMessage(l,"You must add information in all fields."),t.isError=!0,t.field=l)),t.isError&&(e=[t.field.id,"You must add information in all fields."],r.push(e))}}return r},ccsZvalidateScoringCriteria2=e=>{e.preventDefault(),errorStore=[];var t=urlParams.get("agreement_id"),r=urlParams.get("group_id"),n=urlParams.get("id"),o=document.getElementById("lID").value;const a=document.getElementById("page-heading").innerHTML;0!==(errorStore="RM1557.13"==t&&"Group 6"==r&&"Criterion 3"==n&&"4"==o?[]:emptyFieldCheckRfpScore2()).length||a.includes("The people who will use your product or service (Optional)")?(console.log("errorStore",errorStore),ccsZPresentErrorSummary(errorStore)):document.forms.service_user_type_form.submit()},selectedTiers=e=>{},deletePost=e=>{window.confirm("Are you sure you want to delete this record?")&&(window.location.href=window.location.origin+e)};$("input[name='score_criteria_points']").on("input",function(){$(this).val($(this).val().replace(/[^a-z0-9]/gi,""))});let rfp_security_confirmation=null;document.addEventListener("DOMContentLoaded",()=>{document.getElementById("rfp_singleselect_Dos")&&(document.getElementById("rfp_singleselect_Dos").onsubmit=function(e){e.preventDefault(),removeErrorFieldsRfpSelect();let{fieldCheck:t,errorStore:r}=initializeErrorStoreForFieldCheck(e);if(document.getElementsByName("ccs_vetting_type")){t=[];var n=document.getElementsByName("ccs_vetting_type");if(n.length>0)if(1==n[0].checked){let e=$("input[name=rfp_prob_statement_m]"),t=Number(e[1].value),n=Number(e[0].value),o="";if(""==n||0==n?o="Enter an indicative maximum":(n>0&&n<t||n==t)&&(o="Indicative minimum budget must be less than indicative maximum budget"),r=[],""!=o&&("Indicative minimum budget must be less than indicative maximum budget"==o?r.push(["rfp_prob_statement_min",o]):r.push(["rfp_prob_statement_max",o])),0===r.length)document.forms.rfp_singleselect_Dos.submit();else{let e=document.getElementById("rfp_prob_statement_max");"Indicative minimum budget must be less than indicative maximum budget"==o&&(e=document.getElementById("rfp_prob_statement_min")),ccsZaddErrorMessage(e,o),ccsZPresentErrorSummary(r)}}else if(1==n[1].checked){let e=$("input[name=rfp_prob_statement_m]");e[0].value="",e[1].value="",0===r.length&&document.forms.rfp_singleselect_Dos.submit()}else if(n[0].checked||n[1].checked)0===r.length&&document.forms.rfp_singleselect_Dos.submit();else{var o=document.getElementById("page-heading").innerHTML,a="Select a security clearance level";o.includes("Set your budget")?a="Select âYesâ if you are prepared to share budget details, or select âNoâ":o.includes("Confirm if you require a contracted out service or supply of resource")&&(a="Select whether you need a contracted out service or a supply of resource"),!0!==(t=ccsZisOptionChecked("ccs_vetting_type",a))&&r.push(t),0===r.length?document.forms[""].submit():ccsZPresentErrorSummary(r)}}}),null!==document.getElementById("rfp_singleselect_Dos")&&null!==document.querySelector("#ccs_vetting_type")&&(document.querySelector("#ccs_vetting_type").checked?$(".main_rfp_prob_statement_m").fadeIn():$(".main_rfp_prob_statement_m").hide()),null!==document.getElementById("rfp_singleselect")&&(void 0!==document.getElementById("rfp_security_confirmation")&&null!==document.getElementById("rfp_security_confirmation")&&""!=document.getElementById("rfp_security_confirmation").value?$("#conditional-rfp_radio_security_confirmation").fadeIn():$("#conditional-rfp_radio_security_confirmation").hide()),$('input[type="checkbox"]:checked').each(function(){"other"==this.value&&($(".otherTextArea").removeClass("ccs-dynaform-hidden"),$(".otherTextAreaMsg").removeClass("ccs-dynaform-hidden"),$(".otherTextAreaPara").removeClass("ccs-dynaform-hidden"))}),$('input[type="checkbox"]:not(:checked)').each(function(){"other"==this.value&&($(".otherTextAreaMsg").addClass("ccs-dynaform-hidden"),$(".otherTextArea").addClass("ccs-dynaform-hidden"),$(".otherTextAreaPara").addClass("ccs-dynaform-hidden"),$(".otherTextArea").html(""))}),$('input[type="checkbox"]').on("click",function(e){$('input[type="checkbox"]:checked').each(function(){"other"==this.value&&($(".otherTextArea").removeClass("ccs-dynaform-hidden"),$(".otherTextAreaMsg").removeClass("ccs-dynaform-hidden"),$(".otherTextAreaPara").removeClass("ccs-dynaform-hidden"))}),$('input[type="checkbox"]:not(:checked)').each(function(){"other"==this.value&&($(".otherTextAreaMsg").addClass("ccs-dynaform-hidden"),$(".otherTextArea").addClass("ccs-dynaform-hidden"),$(".otherTextAreaPara").addClass("ccs-dynaform-hidden"),$(".otherTextArea").html(""))})}),$(".otherTextArea").on("keypress",function(){return!(this.value.length>500)})}),$('input[type="radio"]').on("change",function(e){"Yes"==e.currentTarget.value?($(".main_rfp_prob_statement_m").fadeIn(),$(".main_rfp_indicative_maximum").fadeIn(),$(".main_rfp_indicative_minimum").fadeIn()):($(".main_rfp_prob_statement_m").hide(),$(".main_rfp_indicative_maximum").hide(),$(".main_rfp_indicative_minimum").hide())});let rfp_vetting=document.querySelectorAll(".rpf_500"),rfp_term_percentage=document.querySelectorAll(".rfp_term_percentage"),ccs_vetting=document.querySelectorAll(".ccs_vetting"),rfp_term_definition_new=document.querySelectorAll(".rfp_term_definition_new");rfp_vetting.forEach(e=>{e.addEventListener("keydown",e=>{})}),rfp_term_percentage.forEach(e=>{e.addEventListener("keydown",e=>{removeErrorFieldsRfpSelect()})}),rfp_term_definition_new.forEach(e=>{e.addEventListener("keydown",e=>{removeErrorFieldsRfpSelect()})}),ccs_vetting.forEach(e=>{e.addEventListener("click",e=>{removeErrorFieldsRfpSelect()})});let removeErrRfi=document.querySelectorAll(".removeErr");removeErrRfi.forEach(e=>{e.addEventListener("keydown",e=>{ccsZremoveErrorMessage()})}),$('input[type="radio"]').on("change",function(e){"Yes"===e.currentTarget.value?(null!=rfp_security_confirmation&&""!=rfp_security_confirmation&&null!=document.getElementById("rfp_security_confirmation")&&(document.getElementById("rfp_security_confirmation").value=rfp_security_confirmation),$("#conditional-rfp_radio_security_confirmation").fadeIn()):(null!=document.getElementById("rfp_security_confirmation")&&(rfp_security_confirmation=document.getElementById("rfp_security_confirmation").value,document.getElementById("rfp_security_confirmation").value=""),$("#conditional-rfp_radio_security_confirmation").hide())});const removeErrorFieldsRfpSelect=()=>{$(".govuk-error-message").remove(),$(".govuk-form-group--error").removeClass("govuk-form-group--error"),$(".govuk-error-summary").remove(),$(".govuk-input").removeClass("govuk-input--error"),$(".govuk-form-group textarea").removeClass("govuk-textarea--error")};$("#rfp_singleselect").on("submit",e=>{if(e.preventDefault(),"RM1557.13"==document.getElementById("agreementID").value&&"Group 8"===document.getElementById("gID").value&&"4"===document.getElementById("lID").value)document.forms.rfp_singleselect.submit();else{removeErrorFieldsRfpSelect();var t=new URLSearchParams(window.location.search);t.get("agreement_id"),t.get("group_id"),t.get("id");const e=/^[a-zA-Z ]+$/;var r=document.querySelectorAll(".govuk-radios__input");let i=!1;var n=document.getElementById("page-heading").innerHTML;if(r.forEach(e=>{"radio"===e.type&&e.checked&&(i=!0)}),n.includes("existing supplier")&&i){var o=document.getElementById("ccs_vetting_type").checked,a=document.getElementById("rfp_security_confirmation");o&&""===a.value&&Number(a.value)?(ccsZaddErrorMessage(a,"You must add information in field."),ccsZPresentErrorSummary([["rfp_security_confirmationrfp_security_confirmation","You must add information in field."]])):o&&void 0!==a.value&&null!==a.value&&""!==a.value&&!e.test(a.value)&&Number(a.value)?(ccsZaddErrorMessage(a,"Please enter only character."),ccsZPresentErrorSummary([["rfp_security_confirmation","Please enter only character."]])):document.forms.rfp_singleselect.submit()}else{if(i)document.forms.rfp_singleselect.submit();else{o=document.getElementById("ccs_vetting_type");if(n.trim().toLowerCase()=="Which phase the project is in".toLowerCase())ccsZPresentErrorSummary([["ccs_vetting_type","Select a project phase"]]);else if(n.trim().toLowerCase()=="Confirm if you require a contracted out service or supply of resource".toLowerCase()){let e=new URLSearchParams(window.location.search);"RM1043.8"==e.get("agreement_id")&&"Group 21"==e.get("group_id")?ccsZPresentErrorSummary([["ccs_vetting_type","Select whether you need a contracted out service or a supply of resource"]]):ccsZPresentErrorSummary([["There is a problem","Select whether you need a contracted out service or a supply of resource"]])}else n.trim().toLowerCase()=="Choose if this is a new or replacement product or service".toLowerCase()?ccsZPresentErrorSummary([["ccs_vetting_type","Select whether this is a new or replacement product or service, or 'Not sure'"]]):n.trim().toLowerCase()=="Tell us if there is an existing supplier".toLowerCase()?ccsZPresentErrorSummary([["ccs_vetting_type","Select whether there is an existing supplier"]]):n.trim().toLowerCase()=="Tell us if there an existing supplier".toLowerCase()?ccsZPresentErrorSummary([["ccs_vetting_type","Select whether there is an existing supplier"]]):ccsZPresentErrorSummary([["ccs_vetting_type","Select a pricing model"]])}o&&(n.trim().toLowerCase()=="Which phase the project is in".toLowerCase()?ccsZaddErrorMessage(o,"Select a project phase"):n.trim().toLowerCase()=="Confirm if you require a contracted out service or supply of resource".toLowerCase()?ccsZaddErrorMessage(o,"Select whether you need a contracted out service or a supply of resource"):n.trim().toLowerCase()=="Choose if this is a new or replacement product or service".toLowerCase()?ccsZaddErrorMessage(o,"Select whether this is a new or replacement product or service, or 'Not sure'"):n.trim().toLowerCase()=="Tell us if there is an existing supplier".toLowerCase()?ccsZaddErrorMessage(o,"Select whether there is an existing supplier"):n.trim().toLowerCase()=="Tell us if there an existing supplier".toLowerCase()?ccsZaddErrorMessage(o,"Select whether there is an existing supplier"):ccsZaddErrorMessage(o,"Select a pricing model"))}}}),$("#rfp_security_confirmation").on("input",function(){$(this).val($(this).val().replace(/[^a-z0-9,\s]/gi,""))});const countWordskpi=e=>e.trim().split(/\s+/).length;document.addEventListener("DOMContentLoaded",()=>{if(null!==document.getElementById("service_levels_kpi_form")){0==document.getElementById("kpiKeyLevel").textContent&&(document.getElementById("kpiKeyLevel").textContent="0");let t=11,r=0,n=document.querySelectorAll("a.del"),o=document.querySelectorAll(".govuk-input--width-5"),a=[];n.forEach(e=>{e.classList.add("ccs-dynaform-hidden"),e.addEventListener("click",r=>{r.preventDefault();let n=r.target.href.replace(/^(.+\/)(\d{1,2})$/,"$2"),o=Number(n)-1,a=e.closest("fieldset"),i=a.nextElementSibling;if(20!=n){let e=1,t=Number(n),r=Number(n),u=[];for(;i;){let n=i.classList;if(void 0!==Object.keys(n).find(e=>"closeCCS"===n[e])&&void 0===Object.keys(n).find(e=>"ccs-dynaform-hidden"===n[e])){let n=r;if(r+=1,u.push(r),1==e){var s=i.querySelector("[name='term']"),l=i.querySelector("[name='value']"),c=i.querySelector("[name='percentage']");document.getElementById("rfp_term_service_levels_KPI_"+n).value=s.value,document.getElementById("rfp_term_definition_service_levels_KPI_"+n).value=l.value,document.getElementById("rfp_term_percentage_KPI_"+n).value=c.value}else{t+=1;s=i.querySelector("[name='term']"),l=i.querySelector("[name='value']"),c=i.querySelector("[name='percentage']");document.getElementById("rfp_term_service_levels_KPI_"+t).value=s.value,document.getElementById("rfp_term_definition_service_levels_KPI_"+t).value=l.value,document.getElementById("rfp_term_percentage_KPI_"+t).value=c.value}i=i.nextElementSibling}else i=!1;e++}if(u.length>0){let e=u.at(-1);document.getElementById("rfp_term_service_levels_KPI_"+e).value="",document.getElementById("rfp_term_service_levels_KPI_"+e).dispatchEvent(new Event("keyup")),document.getElementById("rfp_term_definition_service_levels_KPI_"+e).value="",document.getElementById("rfp_term_definition_service_levels_KPI_"+e).dispatchEvent(new Event("keyup")),document.getElementById("rfp_term_percentage_KPI_"+e).value="",document.getElementById("rfp_term_service_levels_KPI_"+e).closest("fieldset").classList.add("ccs-dynaform-hidden")}else a.classList.add("ccs-dynaform-hidden"),document.getElementById("rfp_term_service_levels_KPI_"+n).value="",document.getElementById("rfp_term_service_levels_KPI_"+n).dispatchEvent(new Event("keyup")),document.getElementById("rfp_term_definition_service_levels_KPI_"+n).value="",document.getElementById("rfp_term_definition_service_levels_KPI_"+n).dispatchEvent(new Event("keyup")),document.getElementById("rfp_term_percentage_KPI_"+n).value="",o>1&&document.querySelector(".acronym_service_levels_KPI_"+o+" a.del").classList.remove("ccs-dynaform-hidden"),document.getElementById("ccs_rfpTerm_add").classList.remove("ccs-dynaform-hidden")}else a.classList.add("ccs-dynaform-hidden"),document.getElementById("rfp_term_service_levels_KPI_"+n).value="",document.getElementById("rfp_term_service_levels_KPI_"+n).dispatchEvent(new Event("keyup")),document.getElementById("rfp_term_definition_service_levels_KPI_"+n).value="",document.getElementById("rfp_term_definition_service_levels_KPI_"+n).dispatchEvent(new Event("keyup")),document.getElementById("rfp_term_percentage_KPI_"+n).value="",o>1&&document.querySelector(".acronym_service_levels_KPI_"+o+" a.del").classList.remove("ccs-dynaform-hidden"),document.getElementById("ccs_rfpTerm_add").classList.remove("ccs-dynaform-hidden");11!=--t&&document.getElementById("ccs_rfpTerm_add").classList.remove("ccs-dynaform-hidden")})}),document.getElementById("ccs_rfpTerm_add").classList.remove("ccs-dynaform-hidden");for(var e=10;e>1;e--){let r=document.querySelector(".acronym_service_levels_KPI_"+e),n=document.getElementById("rfp_term_service_levels_KPI_"+e);document.getElementById("rfp_term_definition_service_levels_KPI_"+e),document.getElementById("rfp_term_percentage_KPI_"+e);null!=n&&null!=n&&""!==n.value?(r.classList.remove("ccs-dynaform-hidden"),r.classList.remove("ccs-dynaform-hidden"),a.push(e),10===e&&document.getElementById("ccs_rfpTerm_add").classList.add("ccs-dynaform-hidden")):(r.classList.add("ccs-dynaform-hidden"),t=e),$("#remove_icon_"+e).removeClass("ccs-dynaform-hidden"),2===e&&a.length>0&&$("#remove_icon_"+a[a.sort().length-1]).removeClass("ccs-dynaform-hidden")}document.getElementById("ccs_rfpTerm_add").addEventListener("click",e=>{let n=[];$(".govuk-form-group").removeClass("govuk-textarea--error");let o=0;var a=document.getElementsByName("percentage");for(let e=0;e<a.length;e++){o+=Number(a[e].value);let t=Number(e)+1;Number(a[e].value)>100&&n.push(["rfp_term_percentage_KPI_"+t,"Please enter percentage value less than 100"])}o<0&&n.push(["rfp_term_percentage_KPI_","You must enter a positive value"]);var i=$("fieldset.ccs-dynaform-hidden").length;console.log("divHide",i),console.log("with_value_count",t),1==i&&9==t&&(t=10),n=null==n||n.length<=0?emptyFieldCheckRfpKPI("add_more"):n,e.preventDefault(),null==n||n.length<=0?(document.querySelector(".acronym_service_levels_KPI_"+t).classList.remove("ccs-dynaform-hidden"),t>2&&(r=t-1),1!=t&&document.querySelector("#remove_icon_"+t).classList.remove("ccs-dynaform-hidden"),document.getElementById("kpiKeyLevel").textContent=t-1,$("#rfp_term_service_levels_KPI_10").keypress(function(e){document.getElementById("kpiKeyLevel").textContent=10}),11===++t&&document.getElementById("ccs_rfpTerm_add").classList.add("ccs-dynaform-hidden")):ccsZPresentErrorSummary(n)}),o.forEach(e=>{e.addEventListener("keydown",e=>{"69"==e.keyCode&&e.preventDefault()})})}});const checkFieldsRfpKPI=()=>{const e=document.getElementById("page-heading").innerHTML;for(var t=1;t<=10;t++){let r=$(`#rfp_term_service_levels_KPI_${t}`),n=$(`#rfp_term_definition_service_levels_KPI_${t}`);$(`#rfp_term_percentage_KPI_${t}`);if(!e.includes("(Optional)")){const e=countWordskpi(r.val())<50,o=countWordskpi(n.val())<150;(""!==r.val()||e)&&($(`#rfp_term_service_levels_KPI_${t}`).remove(),$(`.acronym_${t} div`).removeClass("govuk-form-group--error"),$(`.acronym_${t} input`).removeClass("govuk-input--error")),(""!==n.val()||o)&&($(`#rfp_term_service_levels_KPI_${t}-error`).remove(),$(`.acronym_${t} div`).removeClass("govuk-form-group--error"),$(`.acronym_${t} textarea`).removeClass("govuk-input--error"),$(`.acronym_${t} textarea`).removeClass("govuk-textarea--error"))}}},removeErrorFieldsRfpKPI=()=>{$(".govuk-error-message").remove(),$(".govuk-form-group--error").removeClass("govuk-form-group--error"),$(".govuk-error-summary").remove(),$(".govuk-input").removeClass("govuk-input--error"),$(".govuk-form-group textarea").removeClass("govuk-textarea--error")},emptyFieldCheckRfpKPI=(e="")=>{let t="",r=[];const n=document.getElementById("page-heading").innerHTML;$(".govuk-error-message").remove(),$(".govuk-form-group--error").removeClass("govuk-form-group--error"),$(".govuk-error-summary").remove(),$(".govuk-input").removeClass("govuk-input--error"),$(".govuk-form-group textarea").removeClass("govuk-textarea--error");for(var o=1;o<11;o++){let a=document.getElementById("rfp_term_service_levels_KPI_"+o),i=document.getElementById("rfp_term_definition_service_levels_KPI_"+o),s=document.getElementById("rfp_term_percentage_KPI_"+o);if(null!=a&&null!=i&&null!=s){const l=countWordskpi(a.value)>500,c=countWordskpi(i.value)>1e4;if(-1===a.closest("fieldset").classList.value.indexOf("ccs-dynaform-hidden")){if(""!==a.value.trim()&&""!==i.value.trim()&&""!==s.value.trim()&&(document.getElementById("kpiKeyLevel").textContent=o),""==a.value.trim()&&""==i.value.trim()&&""==s.value.trim());else if("add_more"!=e&&(n.includes("(Optional)")||n.includes("(optional)"))&&(""==a.value.trim()||""==i.value.trim()||"0"==s.value.trim()||""==s.value.trim())){let e,n=!1;""==a.value.trim()&&(e=a,n=!0,ccsZaddErrorMessage(a,"Enter the name of the requirement")),""==i.value.trim()&&(e=i,n=!0,ccsZaddErrorMessage(i,"Enter the description of the criteria")),null!=s&&""===s.value.trim()&&(ccsZaddErrorMessage(s,"Enter a success target between 1 and 100"),isError=!0,t=["rfp_term_percentage_KPI_"+o,"Enter a success target between 1 and 100"],r.push(t)),"0"==s.value.trim()&&(ccsZaddErrorMessage(s,"Success target must be greater than or equal to 1"),isError=!0,t=["rfp_term_percentage_KPI_"+o,"Success target must be greater than or equal to 1"],r.push(t)),n&&(t=[e.id,"You must add information in all fields"],r.push(t))}if(!n.includes("(optional)")&&!n.includes("(Optional)")||"add_more"==e)if(""===a.value.trim()&&""===i.value.trim()&&""===s.value.trim())t=[i.id,"You must add information in all fields"],ccsZaddErrorMessage(a,"Enter the name of the requirement"),ccsZaddErrorMessage(i,"Enter the description of the criteria"),ccsZaddErrorMessage(s,"Enter a success target between 1 and 100"),t=["rfp_term_service_levels_KPI_"+o,"Enter the name of the requirement"],r.push(t),t=["rfp_term_definition_service_levels_KPI_"+o,"Enter the description of the criteria"],r.push(t),t=["rfp_term_percentage_KPI_"+o,"Enter a success target between 1 and 100"],r.push(t);else{let e=!1;""===a.value.trim()&&(ccsZaddErrorMessage(a,"Enter the name of the requirement"),e=!0,t=["rfp_term_service_levels_KPI_"+o,"Enter the name of the requirement"],r.push(t)),""===i.value.trim()&&(ccsZaddErrorMessage(i,"Enter the description of the criteria"),e=!0,t=["rfp_term_definition_service_levels_KPI_"+o,"Enter the description of the criteria"],r.push(t)),null!=s&&""===s.value.trim()&&(ccsZaddErrorMessage(s,"Enter a success target between 1 and 100"),e=!0,t=["rfp_term_percentage_KPI_"+o,"Enter a success target between 1 and 100"],r.push(t)),"0"==s.value.trim()&&(ccsZaddErrorMessage(s,"Success target must be greater than or equal to 1"),e=!0,t=["rfp_term_percentage_KPI_"+o,"Success target must be greater than or equal to 1"],r.push(t)),l&&(ccsZaddErrorMessage(a,"No more than 500 words are allowed"),e=!0),c&&(ccsZaddErrorMessage(i,"No more than 10000 words are allowed"),e=!0)}}}}return r},ccsZvalidateRfpKPI=e=>{e.preventDefault(),errorStore=[];let t=0;var r=document.getElementsByName("percentage");for(let e=0;e<r.length;e++)if(t+=Number(r[e].value),Number(r[e].value)>100){let t=Number(e)+1;errorStore.push(["rfp_term_percentage_KPI_"+t,"Please enter percentage value less than 100"])}100===t?errorStore.push(["rfp_term_percentage_KPI_","Percentage value equal 100% you can not add more set of question"]):t>100&&errorStore.push(["rfp_term_percentage_KPI_","Percentage value exceeding 100%, So you can not proceed"]),0===(errorStore=null==errorStore||errorStore.length<=0?emptyFieldCheckRfpKPI():errorStore).length?document.forms.service_levels_kpi_form.submit():ccsZPresentErrorSummary(errorStore)};$("#service_levels_kpi_form").on("submit",e=>{e.preventDefault();let t=0,r=[];var n=document.getElementsByName("percentage");for(let e=0;e<n.length;e++)if(t+=Number(n[e].value),Number(n[e].value)>100){let t=Number(e)+1;r.push(["rfp_term_percentage_KPI_"+t,"Please enter percentage value less than 100"])}if(t<0&&r.push(["rfp_term_percentage_KPI_","You must enter a positive value"]),0===(r=null==r||r.length<=0?emptyFieldCheckRfpKPI():r).length){if(0!=document.getElementsByClassName("govuk-hint-error-message").length)return!1;document.forms.service_levels_kpi_form.submit()}else ccsZPresentErrorSummary(r)});for(var x=1;x<11;x++)termbox=document.getElementById("rfp_term_service_levels_KPI_"+x),null!=termbox&&null!=termbox&&""!==termbox.value&&(document.getElementById("kpiKeyLevel").textContent=x);$("input[name='percentage']").on("input",function(){$(this).val($(this).val().replace(/[^a-z0-9]/gi,""))});const countWords=e=>e.trim().split(/\s+/).length;document.addEventListener("DOMContentLoaded",()=>{if(null!==document.getElementById("service_user_type_form")){"RM1557.13"==new URLSearchParams(window.location.search).get("agreement_id")&&document.getElementById("service_user_type_form").addEventListener("submit",ccsZvalidateRfpAcronyms);let t=10,r=document.querySelectorAll("a.del"),n=document.querySelectorAll("a.clear-fields"),o=[];for(var e=10;e>1;e--){let r=document.querySelector(".acronym_service_"+e),n=document.getElementById("rfp_term_service_group_"+e);document.getElementById("deleteButton_service_useer_type_"+e).classList.remove("ccs-dynaform-hidden"),null!=n&&null!=n&&""!==n.value?(r.classList.remove("ccs-dynaform-hidden"),o.push(e),10===e&&document.getElementById("ccs_rfpService_use_type_add").classList.add("ccs-dynaform-hidden")):(r.classList.add("ccs-dynaform-hidden"),t=e)}9!=o.length&&document.getElementById("ccs_rfpService_use_type_add").classList.remove("ccs-dynaform-hidden"),document.getElementById("ccs_rfpService_use_type_add").addEventListener("click",e=>{removeErrorFieldsRfpScoreQuestion(),errorStore=[],e.preventDefault();var r=new URLSearchParams(window.location.search),n=r.get("agreement_id"),o=r.get("group_id"),a=r.get("id");let i=t-1;for(var s=1;s<11;s++){let e="",t="";const r=document.querySelector("#rfp_term_service_group_"+s).value,i=document.querySelector("#rfp_term_more_details_"+s).value,l=document.querySelector(".acronym_service_"+s).classList.contains("ccs-dynaform-hidden");""!=r&&""!=i||l||(""==r&&(e=ccsZvalidateWithRegex("rfp_term_service_group_"+s,"RM1043.8"==n&&"Group 9"==o&&"Criterion 3"==a?"Enter a user type":"RM1557.13"==n&&"Group 6"==o&&"Criterion 3"==a?"Enter a user type":"You must enter information here",/\w+/)),""==i&&(t=ccsZvalidateWithRegex("rfp_term_more_details_"+s,"RM1043.8"==n&&"Group 9"==o&&"Criterion 3"==a?"Enter details about your users":"RM1557.13"==n&&"Group 6"==o&&"Criterion 3"==a?"Enter details about your users":"You must enter information here",/\w+/)),!0!==e&&errorStore.push(e),!0!==t&&errorStore.push(t),0!=errorStore.length&&ccsZPresentErrorSummary(errorStore))}if(0==errorStore.length){removeErrorFieldsRfpScoreQuestion();const e=document.querySelector("#rfp_term_service_group_"+t).value,r=document.querySelector("#rfp_term_more_details_"+t).value;""!=e&&""!=r?10==t?document.getElementById("ccs_rfpService_use_type_add").classList.add("ccs-dynaform-hidden"):(t++,document.querySelector(".acronym_service_"+t).classList.remove("ccs-dynaform-hidden"),10===t&&document.getElementById("ccs_rfpService_use_type_add").classList.add("ccs-dynaform-hidden")):(document.querySelector(".acronym_service_"+t).classList.remove("ccs-dynaform-hidden"),"RM1043.8"==n&&"Group 9"==o&&"Criterion 3"==a?0==errorStore.length&&10===t&&document.getElementById("ccs_rfpService_use_type_add").classList.add("ccs-dynaform-hidden"):10===t&&document.getElementById("ccs_rfpService_use_type_add").classList.add("ccs-dynaform-hidden"),0==errorStore.length&&($("#deleteButton_service_useer_type_"+i)&&$("#deleteButton_service_useer_type_"+i).removeClass("ccs-dynaform-hidden"),t++))}}),r.forEach(e=>{e.addEventListener("click",r=>{r.preventDefault();let n=e.href.replace(/^(.+\/)(\d{1,2})$/,"$2"),o=Number(n)-1,a=e.closest("fieldset"),i=a.nextElementSibling;if(console.log(`target: ${n}`),10!=n){let e=1,t=Number(n),r=Number(n),c=[];for(;i;){let n=i.classList;if(void 0!==Object.keys(n).find(e=>"closeCCS"===n[e])&&void 0===Object.keys(n).find(e=>"ccs-dynaform-hidden"===n[e])){let n=r;if(r+=1,c.push(r),1==e){console.log(`First: ${e} - ${t}`);var s=i.querySelector("[name='term']"),l=i.querySelector("[name='value']");console.log(s.value),console.log(l.value),document.getElementById("rfp_term_service_group_"+n).value=s.value,document.getElementById("rfp_term_more_details_"+n).value=l.value}else{t+=1,console.log(`Usual: ${e} - ${t}`);s=i.querySelector("[name='term']"),l=i.querySelector("[name='value']");console.log(s.value),console.log(l.value),document.getElementById("rfp_term_service_group_"+t).value=s.value,document.getElementById("rfp_term_more_details_"+t).value=l.value}console.log(i.classList),i=i.nextElementSibling}else i=!1;e++}if(c.length>0){console.log(c);let e=c.at(-1);console.log(`removeLogic: ${e}`),document.getElementById("rfp_term_service_group_"+e).value="",document.getElementById("rfp_term_service_group_"+e).dispatchEvent(new Event("keyup")),document.getElementById("rfp_term_more_details_"+e).value="",document.getElementById("rfp_term_more_details_"+e).dispatchEvent(new Event("keyup")),document.getElementById("rfp_term_service_group_"+e).closest("fieldset").classList.add("ccs-dynaform-hidden")}else a.classList.add("ccs-dynaform-hidden"),document.getElementById("rfp_term_service_group_"+n).value="",document.getElementById("rfp_term_service_group_"+n).dispatchEvent(new Event("keyup")),document.getElementById("rfp_term_more_details_"+n).value="",document.getElementById("rfp_term_more_details_"+n).dispatchEvent(new Event("keyup")),o>1&&document.querySelector(".acronym_service_"+o+" a.del").classList.remove("ccs-dynaform-hidden"),document.getElementById("ccs_rfpService_use_type_add").classList.remove("ccs-dynaform-hidden")}else a.classList.add("ccs-dynaform-hidden"),document.getElementById("rfp_term_service_group_"+n).value="",document.getElementById("rfp_term_service_group_"+n).dispatchEvent(new Event("keyup")),document.getElementById("rfp_term_more_details_"+n).value="",document.getElementById("rfp_term_more_details_"+n).dispatchEvent(new Event("keyup")),o>1&&document.querySelector(".acronym_service_"+o+" a.del").classList.remove("ccs-dynaform-hidden"),document.getElementById("ccs_rfpService_use_type_add").classList.remove("ccs-dynaform-hidden");11!=--t&&document.getElementById("ccs_rfpService_use_type_add").classList.remove("ccs-dynaform-hidden")})}),n.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();e.href.replace(/^(.+\/)(\d{1,2})$/,"$2");e.closest("fieldset").classList.add("ccs-dynaform")})}),o.length>=2&&o.forEach((e,t)=>{0==t&&$("#deleteButton_service_useer_type_"+e).removeClass("ccs-dynaform-hidden")})}});const removeErrorFieldsRfpScoreQuestion=()=>{$(".govuk-error-message").remove(),$(".govuk-form-group--error").removeClass("govuk-form-group--error"),$(".govuk-error-summary").remove(),$(".govuk-input").removeClass("govuk-input--error"),$(".govuk-form-group textarea").removeClass("govuk-textarea--error")},checkFieldsRfp=()=>{const e=document.getElementById("page-heading").innerHTML;for(var t=1;t<=10;t++){let r=$(`#rfp_term_${t}`),n=$(`#rfp_term_definition_${t}`);if(!e.includes("(Optional)")){const e=countWords(r.val())<50,o=countWords(n.val())<150;(""!==r.val()||e)&&($(`#rfp_term_${t}-error`).remove(),$(`.acronym_${t} div`).removeClass("govuk-form-group--error"),$(`.acronym_${t} input`).removeClass("govuk-input--error")),(""!==n.val()||o)&&($(`#rfp_term_definition_${t}-error`).remove(),$(`.acronym_${t} div`).removeClass("govuk-form-group--error"),$(`.acronym_${t} textarea`).removeClass("govuk-input--error"),$(`.acronym_${t} textarea`).removeClass("govuk-textarea--error"))}}},removeErrorFieldsRfp=()=>{$(".govuk-error-message").remove(),$(".govuk-form-group--error").removeClass("govuk-form-group--error"),$(".govuk-error-summary").remove(),$(".govuk-input").removeClass("govuk-input--error"),$(".govuk-form-group textarea").removeClass("govuk-textarea--error")},emptyFieldCheckRfp=()=>{let e="",t=[];const r=document.getElementById("page-heading").innerHTML;for(var n=1;n<11;n++){let o=document.getElementById("rfp_term_"+n),a=document.getElementById("rfp_term_definition_"+n),i=document.getElementById("rfp_term_target_"+n);if(void 0!==o.value&&void 0!==a){const n=countWords(o.value)>50,s=countWords(a.value)>150;if(-1===o.closest("fieldset").classList.value.indexOf("ccs-dynaform-hidden")&&(checkFieldsRfp(),!r.includes("(Optional)")))if(""===o.value.trim()&&""===a.value.trim())e=[a.id,"You must add information in all fields."],ccsZaddErrorMessage(o,"You must add information in all fields."),ccsZaddErrorMessage(a,"You must add information in all fields."),null!=i&&""===i.value.trim()&&ccsZaddErrorMessage(i,"You must add information in all fields."),t.push(e);else{let r=!1;""===o.value.trim()&&(ccsZaddErrorMessage(o,"You must add information in all fields."),r=!0),""===a.value.trim()&&(ccsZaddErrorMessage(a,"You must add information in all fields."),r=!0),null!=i&&""===i.value.trim()&&(ccsZaddErrorMessage(i,"You must add information in all fields."),r=!0),n&&(ccsZaddErrorMessage(o,"No more than 50 words are allowed."),r=!0),s&&(ccsZaddErrorMessage(a,"No more than 250 words are allowed."),r=!0),r&&(e=[a.id,"You must add information in all fields."],t.push(e))}}}return t},removeErrorFieldsRfpgc=()=>{$(".govuk-error-message").remove(),$(".govuk-form-group--error").removeClass("govuk-form-group--error"),$(".govuk-error-summary").remove(),$(".govuk-input").removeClass("govuk-input--error"),$(".govuk-form-group textarea").removeClass("govuk-textarea--error")},checkFieldsRfpgc=()=>{const e=document.getElementById("page-heading").innerHTML;for(var t=1;t<=20;t++){let r=$(`#rfp_term_service_group_${t}`),n=$(`#rfp_term_more_details_${t}`);if(!e.includes("(Optional)")){const e=countWords1(r.val())<50,o=countWords1(n.val())<150;(""!==r.val()||e)&&($(`#rfp_term_service_group_${t}-error`).remove(),$(`.acronym_${t} div`).removeClass("govuk-form-group--error"),$(`.acronym_${t} input`).removeClass("govuk-input--error")),(""!==n.val()||o)&&($(`#rfp_term_more_details_${t}-error`).remove(),$(`.acronym_${t} div`).removeClass("govuk-form-group--error"),$(`.acronym_${t} textarea`).removeClass("govuk-input--error"),$(`.acronym_${t} textarea`).removeClass("govuk-textarea--error"))}}},emptyFieldCheckgcloud=e=>{let t="",r=[];$(".govuk-error-message").remove(),$(".govuk-form-group--error").removeClass("govuk-form-group--error"),$(".govuk-error-summary").remove(),$(".govuk-input").removeClass("govuk-input--error"),$(".govuk-form-group textarea").removeClass("govuk-textarea--error");document.getElementById("page-heading").innerHTML;fieldMsg="You must add information in all fields.",descMsg="You must add information in all fields.";for(var n=1;n<21;n++){let o=document.getElementById("rfp_term_service_group_"+n),a=document.getElementById("rfp_term_more_details_"+n);if(null!=o&&void 0!==o.value&&null!=a&&void 0!==a)if("addmore"==e){countWords1(o.value),countWords1(a.value);-1===o.closest("fieldset").classList.value.indexOf("ccs-dynaform-hidden")&&(checkFieldsRfpgc(),""===o.value.trim()?(t=[o.id,fieldMsg],ccsZaddErrorMessage(o,fieldMsg),r.push(t)):""===a.value.trim()&&(t=[a.id,descMsg],ccsZaddErrorMessage(a,descMsg),r.push(t)))}else if(!(""==o.value&&""==a.value||""!=o.value&&""!=a.value)){countWords1(o.value),countWords1(a.value);-1===o.closest("fieldset").classList.value.indexOf("ccs-dynaform-hidden")&&(checkFieldsRfp1(),""===o.value.trim()?(t=[o.id,fieldMsg],ccsZaddErrorMessage(o,fieldMsg),r.push(t)):""===a.value.trim()&&(t=[a.id,descMsg],ccsZaddErrorMessage(a,descMsg),r.push(t)))}}return r},ccsZvalidateRfpAcronyms=e=>{errorStoreforOptional=emptyFieldCheckgcloud("submit"),0==errorStoreforOptional.length?document.forms.service_user_type_form.submit():ccsZPresentErrorSummary(errorStoreforOptional)},ccsScrollToJourney=e=>{let t=document.querySelector(".govuk-breadcrumbs"),r=setInterval(function(){window.scrollBy(0,2),window.scrollY>=t.offsetTop&&clearInterval(r)},10)},ccsZvalidateAward=e=>{e.preventDefault(),errorStore=[];const t=document.getElementById("pre_award_supplier_confirmation");if(null==t||t.checked){const e=document.querySelector(".backdrop-award");e.classList.add("showpopup"),$(".dialog-close-award").on("click",function(){e.classList.remove("showpopup"),ccsZremoveErrorMessage(t)}),stnewsupplier=document.getElementById("btn_pre_award_supplier"),stnewsupplier.addEventListener("click",t=>{0===errorStore.length?document.forms.ccs_pre_award_supplier_form.submit():ccsZPresentErrorSummary(errorStore),e.classList.remove("showpopup")})}else{let e,t=document.getElementById("agreementId");!0!==(e=null!=t&&t.value&&"RM1043.8"==t.value?ccsZisOptionChecked("pre_award_supplier_confirmation","Confirm that you have received the signed contract"):ccsZisOptionChecked("pre_award_supplier_confirmation","Acknowledgement check box must be selected to continue with the awarding of the selected supplier."))&&errorStore.push(e),ccsZPresentErrorSummary(errorStore)}},removeErrorFieldssdsd=()=>{$(".govuk-error-message").remove(),$(".govuk-form-group--error").removeClass("govuk-form-group--error"),$(".govuk-error-summary").remove(),$(".govuk-input").removeClass("govuk-input--error"),$(".govuk-form-group textarea").removeClass("govuk-textarea--error")};document.addEventListener("DOMContentLoaded",()=>{$("#award_supplier_confirmation").on("change",function(e){document.getElementById("award_supplier_confirmation").checked&&($(".govuk-error-message").remove(),$(".govuk-form-group--error").removeClass("govuk-form-group--error"),$(".govuk-error-summary").remove(),$(".govuk-input").removeClass("govuk-input--error"),$(".govuk-form-group textarea").removeClass("govuk-textarea--error"))})});const ccsZvalidateStandStillPeriod=e=>{e.preventDefault();const t=document.getElementById("standstill_period_yes").checked,r=document.getElementById("standstill_period_no").checked;t||r?document.forms.ccs_standstill_period_form.submit():ccsZPresentErrorSummary([errorStore=["There is a problem","Please select an option"]])};document.addEventListener("DOMContentLoaded",()=>{$(".btn_event_managment_award").on("click",function(e){if(console.log("!!!"),e.preventDefault(),document.getElementById("award_supplier_confirmation").checked)if($(this).hasClass("selected"))deselect($(this)),$(".backdrop-vetting").fadeOut(200);else{$(".backdrop-vetting").fadeTo(200,1);let e=document.querySelector("#redirect-button-vetting");e&&"logo rfp_vetting-popup"!=this.className&&"govuk-footer__link logo rfp_vetting-popup"!=this.className?(e.setAttribute("name","Continue"),$("#redirect-button-vetting").text("Continue")):document.body.scrollTop=document.documentElement.scrollTop=0,$(".pop").slideFadeToggle()}else ccsZisOptionChecked("award_supplier_confirmation","Please confirm that you are ready to award this contract."),ccsZPresentErrorSummary([errorStore=["award_supplier_confirmation","Confirmation checkbox must be checked before progressing"]]),document.getElementById("error-summary-title").innerText="There has been an error awarding your FC";return!1}),$(".popupbutton").on("click",function(){ccsZvalidateAward()}),$(".event_managment_award").on("click",function(e){e.preventDefault();const t=document.getElementById("standstill_period_yes").checked,r=document.getElementById("standstill_period_no").checked;if(t||r)if($(this).hasClass("selected"))deselect($(this)),$(".backdrop-vetting").fadeOut(200);else{$(".backdrop-vetting").fadeTo(200,1);let e=document.querySelector("#redirect-button-vetting");e&&"logo rfp_vetting-popup"!=this.className&&"govuk-footer__link logo rfp_vetting-popup"!=this.className?(e.setAttribute("name","Continue"),$("#redirect-button-vetting").text("Continue")):(e.setAttribute("name","CCS website"),document.body.scrollTop=document.documentElement.scrollTop=0),$(".pop").slideFadeToggle()}else ccsZPresentErrorSummary([errorStore=["There is a problem","Select if you want a standstill period"]]);return!1}),$(".dialog-close-vetting").on("click",function(){return $(".backdrop-vetting").fadeOut(200),deselect($(".dialog-close-vetting")),$(".pop").slideFadeToggle(),!1}),$(".dialog-close-nav-menu").on("click",function(){return $(".backdrop-nav-menu").fadeOut(200),deselect($(".dialog-close-nav-menu")),!1}),$("#redirect-button-vetting").on("click",function(){if($(".rfp_cap").attr("checked",!1),deselect($(".dialog-close-vetting")),$(".backdrop-vetting").fadeOut(200),"Continue"!=this.name)return!1;document.forms.ccs_standstill_period_form.submit()})});const ccsZvalidateCreateOrChoose=e=>{e.preventDefault();let t="",r=[];!0!==(t=ccsZisOptionChecked("create_or_choose","Select an option"))&&r.push(t),0===r.length?document.forms.ccs_create_or_choose.submit():ccsZPresentErrorSummary(r)},ccsZvalidateDaProjectName=e=>{e.preventDefault();let t="",r=[];!0!==(t=ccsZvalidateWithRegex("da_projLongName","Your project must have a name.",/^.+$/))&&r.push(t),0===r.length?document.forms.ccs_da_project_name_form.submit():ccsZPresentErrorSummary(r)},ccsZCountDaProjectName=e=>{e.preventDefault();const t=document.getElementById("da_projLongName");let r=document.getElementById("da_label_name_project"),n=500-t.value.length;r.innerText=n+" remaining of 500"},ccsZvalidateScore=e=>{e.preventDefault();let t="",r=[];!0!==(t=ccsZvalidateWithRegex("enter_evaluation_score","Enter Feedback.",/^.+$/))&&r.push(t),0===r.length?document.forms.enter_evaluation.submit():ccsZPresentErrorSummary(r)};$("#enter_evaluation").submit(function(){let e=[],t=Number(document.getElementById("enter_evaluation_score").value)>100,r="",n=document.getElementById("enter_evaluation_score");if(ccsZremoveErrorMessage(n),1==t&&!0!==(r=ccsZvalidateWithRegex("enter_evaluation_score","Enter a score between 0 and 100",null))&&e.push(r),""==$("#enter_evaluation_score").val()&&(r=ccsZvalidateWithRegex("enter_evaluation_score","Enter a score between 0 and 100",/^.+$/),e.push(r)),""==$("#enter_evaluation_feedback").val()&&(r=ccsZvalidateWithRegex("enter_evaluation_feedback","Please enter final feedback",/^.+$/),e.push(r),console.log("errorStore",e)),0!==e.length)return ccsZPresentErrorSummary(e),!1;document.body.classList.add("pageblur"),document.forms.enter_evaluation.submit()});const ccsZvalidateFeedback=e=>{e.preventDefault();let t="",r=[];!0!==(t=ccsZvalidateWithRegex("enter_evaluation_feedback","Enter Feedback.",/^.+$/))&&r.push(t),0===r.length?document.forms.enter_evaluation.submit():ccsZPresentErrorSummary(r)},ccsZCountsupplierFeedback=e=>{e.preventDefault();const t=document.getElementById("enter_evaluation_feedback");let r=document.getElementById("supplierFeedback"),n=5e3-t.value.length;r.innerText=n+" remaining of 5000"};if(null!==document.getElementById("enter_evaluation_score")){var txt=document.getElementById("enter_evaluation_score");txt.addEventListener("keyup",myFunc)}function myFunc(e){var t=this.value;/^([0-9]+[\.]?[0-9]?[0-9]?|[0-9]+)$/g.test(t)||(t=/^([0-9]+[\.]?[0-9]?[0-9]?|[0-9]+)/g.exec(t),this.value=t?t[0]:"")}const ccsZValidateDecimalScore=e=>{},ccsZvalidateEoiBudget=e=>{e.preventDefault();let t="",r="",n=[];const o=document.getElementById("page-heading").innerHTML;ccsZremoveErrorMessage($("#eoi_minimum_budget")),ccsZremoveErrorMessage($("#eoi_maximum_budget")),o.includes("(Optional)")||(t=ccsZvalidateWithRegex("eoi_maximum_budget","Enter a maximum value",/^.+$/),r=ccsZvalidateWithRegex("eoi_maximum_budget","Enter a valid maximum value",/^[+]?(\d*|\d{1,3}(,\d{3})*)(\.\d+)?\b$/)),!0!==t?o.includes("(Optional)")||n.push(t):!0!==r&&n.push(r),$("#eoi_minimum_budget").val()&&$("#eoi_minimum_budget").val().trim().length>0&&$("#eoi_maximum_budget").val()&&$("#eoi_maximum_budget").val().trim().length>0&&(t=ccsZvalidateWithRegex("eoi_minimum_budget","Enter a minimum value",/^.+$/),r=ccsZvalidateWithRegex("eoi_minimum_budget","Enter a valid minimum value",/^[+]?(\d*|\d{1,3}(,\d{3})*)(\.\d+)?\b$/),!0!==t?n.push(t):!0!==r?n.push(r):Number($("#eoi_maximum_budget").val())<Number($("#eoi_minimum_budget").val())&&n.push(ccsZvalidateWithRegex("eoi_minimum_budget","Minimum budget should be less than maximum budget",/(?=a)b/))),0===n.length?document.forms.eoi_budget_form.submit():ccsZPresentErrorSummary(n)},ccsZvalidateEoiContact=e=>{e.preventDefault();let t="",r=[];!0!==(t=ccsZisOptionChecked("use_stored_contact","Select an option"))&&r.push(t),0===r.length?document.forms.ccs_eoi_contact_form.submit():ccsZPresentErrorSummary(r)},ccsZvalidateEoiDeadline=e=>{e.preventDefault();let t="",r=[];!0!==(t=ccsZvalidateThisDate("eoi_response_date","Deadline must be 7 or more days in the future",1,7))&&r.push(t),!0!==(t=ccsZvalidateWithRegex("eoi_response_date_time","Select a time for your EoI deadline",/^.+$/))&&r.push(t),0===r.length?document.forms.ccs_eoi_deadline_form.submit():ccsZPresentErrorSummary(r)},ccsZvalidateEoiIncumbent=e=>{e.preventDefault();let t="",r=[];!0!==(t=ccsZisOptionChecked("ccs_eoi_incumbent","Indicate if there is an incumbent supplier"))?r.push(t):ccsZremoveErrorMessage("ccs_eoi_incumbent"),"Yes"===$("input[type='radio'][name='ccs_eoi_incumbent']:checked").val()&&0===document.getElementById("incumbent_supplier").value.trim().length?(r.push(["incumbent_supplier","Provide the name of the incumbent supplier"]),ccsZaddErrorMessage(document.getElementById("incumbent_supplier"),"Provide the name of the incumbent supplier")):ccsZremoveErrorMessage("incumbent_supplier"),0===r.length?document.forms.ccs_eoi_incumbent_form.submit():ccsZPresentErrorSummary(r)};document.addEventListener("DOMContentLoaded",()=>{if(null!==document.getElementById("ccs_eoi_incumbent_form")){if(document.getElementById("ccs_eoi_incumbent-2").checked||!document.getElementById("ccs_eoi_incumbent-2").checked&&!document.getElementById("ccs_eoi_incumbent").checked)document.getElementById("incumbent_supplier").classList.add("ccs-dynaform-hidden"),document.querySelector('label[for="incumbent_supplier"]').classList.add("ccs-dynaform-hidden");else{document.getElementById("incumbent_supplier").parentNode.classList.add("yes"),document.getElementById("incumbent_supplier").classList.add("yeswho"),document.querySelector('label[for="incumbent_supplier"]').classList.add("yeswho")}document.querySelectorAll('input[name="ccs_eoi_incumbent"]').forEach(e=>{e.addEventListener("change",function(e){let t=e.target.value;"Yes"===t&&e.target.checked?(document.getElementById("incumbent_supplier").classList.remove("ccs-dynaform-hidden"),document.querySelector('label[for="incumbent_supplier"]').classList.remove("ccs-dynaform-hidden"),e.target.parentNode.classList.add("yes"),document.getElementById("incumbent_supplier").parentNode.classList.add("yeswho")):"No"===t&&e.target.checked&&(document.getElementById("incumbent_supplier").classList.add("ccs-dynaform-hidden"),document.querySelector('label[for="incumbent_supplier"]').classList.add("ccs-dynaform-hidden"),document.getElementById("ccs_eoi_incumbent").parentNode.classList.remove("yes"),document.getElementById("incumbent_supplier").parentNode.classList.remove("yeswho"),null!==document.getElementById("incumbent_supplier-error")&&document.getElementById("incumbent_supplier-error").classList.add("ccs-dynaform-hidden"))})})}});let noLocationTag="No specific location, for example they can work remotely";const ccsZvalidateEoiLocation=e=>{e.preventDefault();let t="",r=[];!0!==(t=ccsZisOptionChecked("required_locations","Select at least one location"))&&r.push(t),0===r.length?document.forms.eoi_location.submit():ccsZPresentErrorSummary(r)};document.addEventListener("DOMContentLoaded",()=>{if(null!==document.getElementById("ccs_select_location")||null!==document.getElementById("rfi_location")||null!==document.getElementById("eoi_location")){nospeclocationCheckboxeseoi=document.querySelectorAll("input[name='required_locations']"),nospeclocationCheckboxeseoi.forEach(e=>{"No specific location, for example they can work remotely"===e.value&&(noLocationtagideoi=e.id),"Overseas"===e.value&&(overSeesid=e.id)});let e=document.getElementById(overSeesid),t=document.getElementById(noLocationtagideoi),r=document.querySelectorAll("input[name='required_locations']");t.checked&&r.forEach(r=>{r.value!=t.value&&(r.value,e.value)}),document.getElementById(noLocationtagideoi).addEventListener("change",()=>{let e=document.getElementById(overSeesid),t=document.getElementById(noLocationtagideoi);document.querySelectorAll("input[name='required_locations']").forEach(r=>{t.checked&&r.value!=t.value&&(r.value,e.value),!t.checked&&(r.value,t.value),!t.checked&&(r.value,e.value)})})}});const ccsZvalidateEoiProjectName=e=>{e.preventDefault();let t="",r=[];!0!==(t=ccsZvalidateWithRegex("eoi_projLongName","Enter the name of your project",/^.+$/))&&r.push(t),0===r.length?document.forms.ccs_eoi_project_name_form.submit():ccsZPresentErrorSummary(r)},ccsZvalidateEoiNeeds=e=>{e.preventDefault();let t="",r=[];!0!==(t=ccsZvalidateTextArea("eoi_about_cust_org","Briefly describe your organisation"))&&r.push(t),!0!==(t=ccsZvalidateTextArea("eoi_work_objectives","Briefly describe the aims and objectives of the work"))&&r.push(t),0===r.length?document.forms.ccs_eoi_needs.submit():ccsZPresentErrorSummary(r)},ccsZvalidateEoiProject=e=>{e.preventDefault();let t="",r=[];!0!==(t=ccsZvalidateTextArea("eoi_prob_statement","Enter your project background"))&&r.push(t),0===r.length?document.forms.ccs_eoi_about_proj.submit():ccsZPresentErrorSummary(r)};function publishConfirmation(e,t){publishBtnDisable(t),document.getElementById(e).addEventListener("change",e=>{e.target.checked?publishBtnEnable(t):publishBtnDisable(t)})}function publishBtnDisable(e){document.getElementById(e).classList.add("govuk-button--disabled"),document.getElementById(e).setAttribute("disabled",!0),document.getElementById(e).setAttribute("aria-disabled",!0)}function publishBtnEnable(e){document.getElementById(e).classList.remove("govuk-button--disabled"),document.getElementById(e).removeAttribute("disabled"),document.getElementById(e).removeAttribute("aria-disabled")}document.addEventListener("DOMContentLoaded",()=>{null!==document.getElementById("eoi_publish_confirmation")&&publishConfirmation("eoi_publish_confirmation","eoi_btn_publish_now"),null!==document.getElementById("rfp_publish_confirmation")&&publishConfirmation("rfp_publish_confirmation","rfp_btn_publish_now"),null!==document.getElementById("rfi_publish_confirmation")&&publishConfirmation("rfi_publish_confirmation","rfi_btn_publish_now")});const ccsZvalidateEoiSecurity1=e=>{e.preventDefault()},ccsZvalidateLogin=e=>{e.preventDefault();let t="",r=[];!0!==(t=ccsZvalidateWithRegex("user_email","Enter a valid email address",/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/))&&r.push(t),!0!==(t=ccsZvalidateWithRegex("_user_pwd","Enter a password",/^.+$/))&&r.push(t),0===r.length?document.forms.ccs_login.submit():ccsZPresentErrorSummary(r)},ccsZvalidateRfiAddress=e=>{e.preventDefault();let t="",r=[],n=document.getElementById("rfi_proj_address-line-1").value,o=document.getElementById("rfi_proj_address-town").value,a=document.getElementById("rfi_proj_address-postcode").value;""===n&&""===o&&""===a||(!0!==(t=ccsZvalidateWithRegex("rfi_proj_address-line-1","Specify the building and street",/^.+$/))&&r.push(t),!0!==(t=ccsZvalidateWithRegex("rfi_proj_address-town","Specify the town or city",/^[A-Z|a-z| ]+$/))&&r.push(t),!0!==(t=ccsZvalidateWithRegex("rfi_proj_address-postcode","Enter a valid postcode",/A([Gg][Ii][Rr] 0[Aa]{2})|((([A-Za-z][0-9]{1,2})|(([A-Za-z][A-Ha-hJ-Yj-y][0-9]{1,2})|(([A-Za-z][0-9][A-Za-z])|([A-Za-z][A-Ha-hJ-Yj-y][0-9][A-Za-z]?))))\s?[0-9][A-Za-z]{2})$/))&&r.push(t)),0===r.length?document.forms.ccs_rfi_address_form.submit():ccsZPresentErrorSummary(r)},ccsZvalidateRfiDates=e=>{e.preventDefault();let t="",r=[],n=[];!0!==(t=ccsZvalidateThisDate("rfi_proj_start_date","Service Start Date must be a valid future date",1,0))&&n.push(t),!0!==(t=ccsZvalidateWithRegex("rfi_proj_duration_number","Specify the project duration",/^.+$/))&&r.push(t),!0!==(t=ccsZvalidateThisDate("rfi_proj_end_date","Service End Date must be a valid future date",1,0))&&r.push(t),2===r.length?n.push(["rfi_proj_duration_number","One of either project duration or project end date must be specified"]):document.getElementById("rfi_proj_duration_number").value<1&&n.push(["rfi_proj_duration_number","Project end date must be after project start date"]),0===n.length?document.forms.ccs_rfi_dates_form.submit():ccsZPresentErrorSummary(n)},ccsZvalidateRfiResponseDate=e=>{e.preventDefault();let t="",r=[];!0!==(t=ccsZvalidateThisDate("rfi_response_date","Response date must be a valid future date",1,0))&&r.push(t),0===r.length?document.forms.ccs_rfi_response_date_form.submit():ccsZPresentErrorSummary(r)};noLocationTag="No specific location, for example they can work remotely",document.addEventListener("DOMContentLoaded",()=>{if(null!==document.getElementById("ccs_select_location")||null!==document.getElementById("rfi_location")||null!==document.getElementById("rfi_location")){nospeclocationCheckboxes=document.querySelectorAll("input[name='required_locations']"),nospeclocationCheckboxes.forEach(e=>{"No specific location, for example they can work remotely"===e.value&&(noLocationtagid=e.id),"Overseas"===e.value&&(overSeesid=e.id)});document.getElementById(overSeesid);let e=document.getElementById("required_locations-14"),t=document.querySelectorAll("input[name='required_locations']");e&&e.checked&&t.forEach(e=>{}),document.getElementById("required_locations-14")&&document.getElementById("required_locations-14").addEventListener("change",()=>{let e=document.getElementById("required_locations-14");document.querySelectorAll("input[name='required_locations']").forEach(t=>{e.checked&&t.value,!e.checked&&t.value})})}});const ccsZvalidateRfiProjectName=e=>{e.preventDefault();let t="",r=[];""==$("#rfi_projLongName").val()&&(t=ccsZvalidateWithRegex("rfi_projLongName","Enter the name of your project",/^.+$/),r.push(t)),0===r.length?document.forms.ccs_rfi_project_name_form.submit():ccsZPresentErrorSummary(r)},ccsZCountRfiProjectName=e=>{e.preventDefault()};var urlParamsDefault=new URLSearchParams(window.location.search);const ccsZvalidateRfiProject=e=>{e.preventDefault();let t="",r=[];!0!==(t="RM1557.13"==urlParamsDefault.get("agreement_id")?ccsZvalidateTextArea("rfi_prob_statement","Enter your project background"):"RM6187"==urlParamsDefault.get("agreement_id")?ccsZvalidateTextArea("rfi_prob_statement","Enter your project background"):ccsZvalidateTextArea("rfi_prob_statement","You must add background information about your procurement"))&&void 0!==t&&r.push(t),0===r.length?document.forms.ccs_rfi_about_proj.submit():ccsZPresentErrorSummary(r)},ccsZCountRfiProject=e=>{e.preventDefault();const t=document.getElementById("rfi_prob_statement");let r=document.getElementById("rfi_label_prob_statement"),n=t.getAttribute("maxlength")-t.value.length;r.innerText="You have "+n+" characters remaining"},ccsZvalidateRfiProjectStatus=e=>{e.preventDefault();let t="",r=[];!0!==(t=ccsZvalidateWithRegex("rfi_prog_phase","Enter the current phase of your project",/^.+$/))&&r.push(t),!0!==(t=ccsZvalidateWithRegex("rfi_prog_phase_req","Specify the phase that the resource will work on",/^.+$/))&&r.push(t),!0!==(t=ccsZvalidateTextArea("rfi_engagement_to_date","Describe any market engagement carried out to date"))&&r.push(t),!0!==(t=ccsZvalidateWithRegex("rfi_work_arrangements","Specify the working arrangements",/^.+$/))&&r.push(t),0===r.length?document.forms.ccs_rfi_proj_status.submit():ccsZPresentErrorSummary(r)},ccsZvalidateRfiDocs=e=>{e.preventDefault();let t="",r=[];document.getElementById("rfi_file_upload_1").value.length>0&&!0!==(t=ccsZvalidateWithRegex("rfi_file_upload_1","Document must be a Word or Acrobat file",/^(\w|\W)+\.(docx?|pdf)$/))&&r.push(t),document.getElementById("rfi_additional_link").value.length>0&&!0!==(t=ccsZvalidateWithRegex("rfi_additional_link","Please enter a valid link",/^(http:\/\/www\.|https:\/\/www\.|http:\/\/|https:\/\/)?[a-z0-9]+([\-\.]{1}[a-z0-9]+)*\.[a-z]{2,5}(:[0-9]{1,5})?(\/.*)?$/))&&r.push(t),0===r.length?document.forms.ccs_rfi_docs_form.submit():ccsZPresentErrorSummary(r)};let inputLinks=$("#rfi_additional_link");inputLinks.on("keypress",()=>{""!==inputLinks.val()&&$("#upload_doc_form").fadeOut()}),inputLinks.on("blur",()=>{""===inputLinks.val()&&$("#upload_doc_form").fadeIn()});const ccsZvalidateRfiWho=e=>{e.preventDefault();let t=[];const r=document.getElementById("page-heading").innerHTML;document.getElementById("rfi_contracting_auth");""!=$("#rfi_contracting_auth").val()&&r.includes("(optional)"),0===t.length?document.forms.ccs_rfi_who_form.submit():ccsZPresentErrorSummary(t)},ccsZCountRfiWho=e=>{e.preventDefault();const t=document.getElementById("rfi_contracting_auth");let r=document.getElementById("rfi_label_contracting_auth"),n=500-t.value.length;r.innerText="You have "+n+" characters remaining"},ccsZvalidateRfPAboutBG=e=>{e.preventDefault();let t="",r=[];1==$("#rfp_prob_statement_1").data("mandatory")&&!0!==(t=ccsZvalidateTextArea("rfp_prob_statement_1","You must enter information here"))&&r.push(t),$("#rfp_prob_statement_2").length>0&&!0!==(t=ccsZvalidateTextArea("rfp_prob_statement_2","You must enter information here"))&&r.push(t),0===r.length?document.forms.ccs_rfp_about_proj.submit():ccsZPresentErrorSummary(r)},ccsZvalidateTextRfpChangeStrategy=e=>{e.preventDefault();const t=document.getElementsByClassName("govuk-hint-error-message").length,r=document.getElementById("page-heading").innerHTML;errorStore=[],null==$("#rfp_contracting_auth").val()||0!=$("#rfp_contracting_auth").val().length||r.includes("(Optional)")||r.includes("(optional)")||(r.trim().toLowerCase()=="Summary of work".toLowerCase()?fieldCheck=ccsZvalidateTextArea("rfp_contracting_auth","Enter your project summary "):fieldCheck=ccsZvalidateTextArea("rfp_contracting_auth","You must enter information here"),!0!==fieldCheck&&errorStore.push(fieldCheck));var n=document.getElementById("rfp_contracting_auth");if(null!=$("#rfp_contracting_auth").val()&&""!=$("#rfp_contracting_auth").val()&&r.includes("(Optional)"),errorStore.length>0?(ccsZPresentErrorSummary(errorStore),ccsZaddErrorMessage(n,"Supplier must be minimum 3")):(errorStore=[],document.forms.ccs_rfp_who_form.submit()),0!=t)return!1};let notApplicableTag="No specific location, for example they can work remotely";document.addEventListener("DOMContentLoaded",()=>{let e;if(nospeclocationCheckboxes=document.querySelectorAll("input[name='required_locations']"),nospeclocationCheckboxes.forEach(t=>{console.log("cl.value",t.value),"No specific location (for example they can work remotely)"===t.value&&(e=t.id)}),void 0!==e){document.getElementById(e),document.querySelectorAll("input[name='required_locations']")}if(null!==document.getElementById("rfp_location")){var t=$("input[name='required_locations']:checkbox");if(null!==document.querySelector(".dos6_vetting_change"))if(document.querySelector(".dos6_vetting_change").checked){console.log("CHECKEDDD BY LAST"),document.querySelectorAll(".dos6_vetting").forEach(function(e){e.checked=!1,e.disabled=!0,$(".main_rfp_prob_statement_s").hide()})}else t.is(":checked")?$(".main_rfp_prob_statement_s").fadeIn():$(".main_rfp_prob_statement_s").hide()}}),$('input[type="checkbox"]').on("change",function(e){var t=[];$(":checkbox:checked").each(function(e){t[e]=$(this).val()}),t.includes("No security clearance needed")?$(".main_rfp_prob_statement_s").hide():""==t?$(".main_rfp_prob_statement_s").hide():$(".main_rfp_prob_statement_s").fadeIn()}),document.querySelector(".dos6_vetting_change")&&(document.querySelector(".dos6_vetting_change").onchange=function(e){const t=document.querySelectorAll(".dos6_vetting");this.checked?t.forEach(function(e){e.checked=!1,e.disabled=!0,$(".main_rfp_prob_statement_s").hide()}):($("#rfp_prob_statement_s").val(""),t.forEach(function(e){e.disabled=!1}))});const ccsZvalidateRfpLocation=e=>{e.preventDefault();var t=new URLSearchParams(window.location.search),r=t.get("agreement_id"),n=t.get("group_id");let o="",a="",i=[],s=document.getElementById("agreement_id");null!==s&&"RM1043.8"!=s.value&&(a="You must select at least one region where your staff will be working, or  the âNo specific locationâ");let l=document.getElementById("question_id");if(null!==l&&"Question 10"==l.value&&(a="You must select which project phases you need resource for, or confirm if this does not apply to your project."),console.log("hiddenagreement_id.value",s.value),"RM1043.8"==s.value)if(document.querySelector("#required_locations").checked){var c=$("#rfp_prob_statement_s").val();console.log("getStatement",c),document.forms.rfp_location.submit()}else{const e=document.getElementById("page-heading").innerHTML;if(e.includes("(Optional)")||e.includes("(optional)"))document.forms.rfp_location.submit();else{const e=document.getElementById("lID").value;console.log("lotid",e),console.log("group_id",n),!0!==(o=ccsZisOptionChecked("required_locations",a="RM1043.8"==r&&"Group 5"==n&&"1"==e?"Select at least one location":"RM1043.8"==r&&"Group 9"==n&&"3"==e?"Select at least one additional assessment method, or âNoneâ":"RM1043.8"==r&&"Group 16"==n?"Select the needed security levels or âNo security clearance neededâ":"RM1043.8"==r&&"Group 11"==n&&"1"==e?"Select at least one additional assessment method, or âNoneâ":"RM1043.8"==r&&"Group 4"==n&&"3"==e?"Select at least one location":" Please select the checkbox."))&&i.push(o),0===i.length?document.forms.rfp_location.submit():ccsZPresentErrorSummary(i)}}else!0!==(o=ccsZisOptionChecked("required_locations",a))&&i.push(o),0===i.length?document.forms.rfp_location.submit():ccsZPresentErrorSummary(i)},ccsZvalidateChangeRfpLocation=e=>{e.preventDefault();document.getElementById("rfp_location")};document.addEventListener("DOMContentLoaded",()=>{if(null!==document.getElementById("rfp_location")){let e=document.getElementById("required_locations-14"),t=document.querySelectorAll("input[name='required_locations']");e&&e.checked&&t.forEach(e=>{e.value!=notApplicableTag&&(e.disabled=!0)}),document.getElementById("required_locations-14")&&document.getElementById("required_locations-14").addEventListener("change",()=>{let e=document.getElementById("required_locations-14");document.querySelectorAll("input[name='required_locations']").forEach(t=>{e.checked&&t.value!=notApplicableTag&&(t.checked=!1,t.disabled=!0),e.checked||t.value==notApplicableTag||(t.disabled=!1)})})}});var errorStore=[];let words="",char="";const textPattern=/^[a-zA-Z ]+$/,condLength=e=>char=e.trim().length>1e4,wordLength=e=>(words=e.trim().split(/\s+/).length>25,char=e.trim().length>250,words||char),ccsZvalidateRfpChangeStrategy=e=>{e.preventDefault()},removeErrorFieldsRfpStar=()=>{$(".govuk-error-message").remove(),$(".govuk-form-group--error").removeClass("govuk-form-group--error"),$(".govuk-error-summary").remove(),$(".govuk-input").removeClass("govuk-input--error"),$(".govuk-form-group textarea").removeClass("govuk-textarea--error")};document.addEventListener("DOMContentLoaded",()=>{null===document.getElementById("ccs_rfp_exit_strategy_form")&&null===document.getElementById("ccs_eoi_vetting_form")||(void 0!==document.getElementById("rfp_security_confirmation")&&null!==document.getElementById("rfp_security_confirmation")&&""!=document.getElementById("rfp_security_confirmation").value?$("#conditional-rfp_radio_security_confirmation").fadeIn():$("#conditional-rfp_radio_security_confirmation").hide())});const ccsZvalidateRfPStrategy=e=>{e.preventDefault();let t="";errorStore.length=0;const r=document.getElementById("page-heading").innerHTML;var n=new URLSearchParams(window.location.search),o=n.get("agreement_id"),a=n.get("group_id"),i=n.get("id");if(void 0!==$("#ccs_vetting_type")){var s=document.querySelectorAll(".govuk-radios__input");let e=!1;s.forEach(t=>{"radio"===t.type&&t.checked&&(e=!0)}),e||!0!==(t=ccsZisOptionChecked("ccs_vetting_type","Please select an option"))&&void 0!==t&&errorStore.push(t)}if(void 0!==$("#rfp_prob_statement_t")&&void 0!==$("#rfp_prob_statement_t").val()&&(r.includes("(Optional)")||r.includes("(optional)")||0===$("#rfp_prob_statement_t").val().length&&!0!==(t=ccsZvalidateTextArea("rfp_prob_statement_t","You must enter information here"))&&errorStore.push(t),condLength($("#rfp_prob_statement_t").val()))){!0!==(t=ccsZvalidateTextArea("rfp_prob_statement_t",char?"Entry must be <= 10000 characters":"Entry must be <= 500 words",!condLength($("#rfp_prob_statement_t").val())))&&errorStore.push(t)}if(void 0!==$("#rfp_prob_statement_m")&&void 0!==$("#rfp_prob_statement_m").val()&&(r.includes("(Optional)")||0===$("#rfp_prob_statement_m").val().length&&!0!==(t=ccsZvalidateTextArea("rfp_prob_statement_m","RM1043.8"==o&&"Group 13"==a?"Enter the details of your existing team":"You must enter information here"))&&errorStore.push(t),condLength($("#rfp_prob_statement_m").val()))){!0!==(t=ccsZvalidateTextArea("rfp_prob_statement_m",char?"Entry must be <= 5000 characters":"Entry must be <= 500 words",!condLength($("#rfp_prob_statement_m").val())))&&errorStore.push(t)}if(void 0!==$("#rfp_prob_statement_n")&&void 0!==$("#rfp_prob_statement_n").val()&&(r.includes("(Optional)")||r.includes("(optional)")||0===$("#rfp_prob_statement_n").val().length&&!0!==(t=ccsZvalidateTextArea("rfp_prob_statement_n","RM1043.8"==o&&"Criterion 3"==i&&"Group 10"==a?"Enter the number of rounds":"RM1043.8"==o&&"Criterion 3"==i&&"Group 12"==a?"Enter the research location":"You must enter information here"))&&errorStore.push(t),condLength($("#rfp_prob_statement_n").val()))){!0!==(t=ccsZvalidateTextArea("rfp_prob_statement_n",char?"Entry must be <= 5000 characters":"Entry must be <= 500 words",!condLength($("#rfp_prob_statement_n").val())))&&errorStore.push(t)}if(void 0!==$("#rfp_prob_statement_g")&&void 0!==$("#rfp_prob_statement_g").val()&&(r.includes("(Optional)")||0===$("#rfp_prob_statement_g").val().length&&!0!==(t=r.trim().toLowerCase()=="The business problem you need to solve".toLowerCase()?ccsZvalidateTextArea("rfp_prob_statement_g","Enter the business problem you need to solve"):ccsZvalidateTextArea("rfp_prob_statement_g","You must enter information here"))&&errorStore.push(t),condLength($("#rfp_prob_statement_g").val()))){!0!==(t=ccsZvalidateTextArea("rfp_prob_statement_g",char?"Entry must be <= 5000 characters":"Entry must be <= 500 words",!condLength($("#rfp_prob_statement_g").val())))&&errorStore.push(t)}if(void 0!==$("#rfp_prob_statement_s")&&void 0!==$("#rfp_prob_statement_s").val()&&condLength($("#rfp_prob_statement_s").val())){!0!==(t=ccsZvalidateTextArea("rfp_prob_statement_s",char?"Entry must be <= 10000 characters":"Entry must be <= 500 words",!condLength($("#rfp_prob_statement_s").val())))&&errorStore.push(t)}void 0!==$("#rfp_prob_statement_d")&&void 0!==$("#rfp_prob_statement_d").val()&&(r.includes("(Optional)")||0===$("#rfp_prob_statement_d").val().length&&!0!==(t=r.trim().toLowerCase()=="Add background to your project".toLowerCase()?ccsZvalidateTextArea("rfp_prob_statement_d","Add background information about your procurement"):ccsZvalidateTextArea("rfp_prob_statement_d","You must add background information about your procurement"))&&errorStore.push(t),$("#rfp_prob_statement_d").val().length>500&&!0!==(t=ccsZvalidateTextArea("rfp_prob_statement_d","You must enter less than 500 characters"))&&errorStore.push(t)),void 0===$("#rfp_prob_statement_s")||void 0===$("#rfp_prob_statement_s").val()||r.includes("(optional)")||r.includes("(Optional)")||"RM6187"===o||(0===$("#rfp_prob_statement_s").val().length&&r.includes("Number of research rounds")?!0!==(t=ccsZvalidateTextArea("rfp_prob_statement_s","RM1043.8"==o?"Enter details about the number of research rounds":"Enter the number of research round"))&&errorStore.push(t):0===$("#rfp_prob_statement_s").val().length&&r.includes("Number of participants per round")?!0!==(t=ccsZvalidateTextArea("rfp_prob_statement_s","Enter the number of participants per round"))&&errorStore.push(t):0===$("#rfp_prob_statement_s").val().length&&r.includes("Research dates")?!0!==(t=ccsZvalidateTextArea("rfp_prob_statement_s","Enter research dates"))&&errorStore.push(t):0===$("#rfp_prob_statement_s").val().length&&r.includes("Description of your participants")?!0!==(t=ccsZvalidateTextArea("rfp_prob_statement_s","RM1043.8"==o?"Enter a description of your participants":"Enter description of your participants"))&&errorStore.push(t):0===$("#rfp_prob_statement_s").val().length&&r.includes("Add background to your project")?!0!==(t=ccsZvalidateTextArea("rfp_prob_statement_s","Add the social value, economic and environmental benefits of your procurement"))&&errorStore.push(t):0===$("#rfp_prob_statement_s").val().length&&r.includes("Management information and reporting")?!0!==(t=ccsZvalidateTextArea("rfp_prob_statement_s","Enter your reporting requirements"))&&errorStore.push(t):!0!==(t=ccsZvalidateTextArea("rfp_prob_statement_s","Enter details of your working arrangements"))&&errorStore.push(t)),void 0!==$("#rfp_prob_statement_s")&&void 0!==$("#rfp_prob_statement_s").val()&&!r.includes("(Optional)")&&r.includes("Management information and reporting")&&"RM6187"===o&&0===$("#rfp_prob_statement_s").val().length&&!0!==(t=ccsZvalidateTextArea("rfp_prob_statement_s","Enter management information and reporting requirements"))&&errorStore.push(t),void 0===$("#rfp_prob_statement_s")||void 0===$("#rfp_prob_statement_s").val()||r.includes("(Optional)")||r.includes("Management information and reporting")||"RM6187"!==o||0===$("#rfp_prob_statement_s").val().length&&!0!==(t=ccsZvalidateTextArea("rfp_prob_statement_s","You must enter the social value, economic and environmental benefits"))&&errorStore.push(t),void 0!==$("#rfp_prob_statement_r")&&void 0!==$("#rfp_prob_statement_r").val()&&(errorStore=[],r.includes("(Optional)")||0===$("#rfp_prob_statement_r").val().length&&!0!==(t=ccsZvalidateTextArea("rfp_prob_statement_r","You must enter information here"))&&errorStore.push(t),$("#rfp_prob_statement_r").val().length>1e4&&!0!==(t=ccsZvalidateTextArea("rfp_prob_statement_r","You must enter less than 10000 characters",!1))&&errorStore.push(t)),void 0!==$("#rfp_security_confirmation")&&void 0!==$("#rfp_security_confirmation").val()&&$("input[name='ccs_vetting_type']").prop("checked")&&(0===$("#rfp_security_confirmation").val().length?!0!==(t=ccsZvalidateTextArea("rfp_security_confirmation","Provide the name of the incumbent supplier"))&&errorStore.push(t):$("#rfp_security_confirmation").val().length>500&&!0!==(t=ccsZvalidateTextArea("rfp_security_confirmation","supplier name must be less than 500 characters"))&&errorStore.push(t)),void 0!==$("#rfp_prob_statement_e")&&void 0!==$("#rfp_prob_statement_e").val()&&(r.includes("(optional)")||r.includes("(Optional)")||"RM6187"===o||0===$("#rfp_prob_statement_e").val().length&&!0!==(t=r.trim().toLowerCase()=="Why the work is being done".toLowerCase()?ccsZvalidateTextArea("rfp_prob_statement_e","Enter the reason for doing the work "):r.trim().toLowerCase()=="Address where the work will be done".toLowerCase()?ccsZvalidateTextArea("rfp_prob_statement_e","Enter the address where the work will be done"):r.trim().toLowerCase()=="The business need".toLowerCase()?ccsZvalidateTextArea("rfp_prob_statement_e","Add details about your business need"):ccsZvalidateTextArea("rfp_prob_statement_e","You must enter information here"))&&errorStore.push(t),r.includes("(optional)")||r.includes("(Optional)")||"RM6187"!==o||(r.includes("Management information and reporting")||r.includes("The business need")?r.includes("The business need")||r.includes("Add background to your procurement")?r.includes("Management information and reporting")||r.includes("Add background to your procurement")||0===$("#rfp_prob_statement_e").val().length&&!0!==(t=ccsZvalidateTextArea("rfp_prob_statement_e","Add details about your business need"))&&errorStore.push(t):0===$("#rfp_prob_statement_e").val().length&&!0!==(t=ccsZvalidateTextArea("rfp_prob_statement_e","Enter management information and reporting requirements"))&&errorStore.push(t):0===$("#rfp_prob_statement_e").val().length&&!0!==(t=ccsZvalidateTextArea("rfp_prob_statement_e","You must add background information about your procurement"))&&errorStore.push(t)),$("#rfp_prob_statement_e").val().length>1e4&&!0!==(t=ccsZvalidateTextArea("rfp_prob_statement_e","You must enter less than 10000 characters",!1))&&errorStore.push(t)),r.includes("(Optional)")||"RM1043.8"==o||"Group 207"==a||"RM6187"==o||"RM1557.13"==o||void 0!==$("#rfp_prob_statement_s")&&void 0!==$("#rfp_prob_statement_s").val()&&0===$("#rfp_prob_statement_s").val().length&&!0!==(t=ccsZvalidateTextArea("rfp_prob_statement_s","You must enter information here"))&&errorStore.push(t),0===errorStore.length?document.forms.ccs_rfp_exit_strategy_form.submit():ccsZPresentErrorSummary(errorStore)},ccsZOnChange=e=>{$(".govuk-error-message").remove(),$(".govuk-form-group--error").removeClass("govuk-form-group--error"),$(".govuk-error-summary").remove(),$(".govuk-input").removeClass("govuk-input--error"),$(".govuk-form-group textarea").removeClass("govuk-textarea--error"),e.preventDefault();e.path[0].id},ccsZvalidateSelectOffer=e=>{e.preventDefault();let t="",r=[];!0!==(t=ccsZisOptionChecked("offer_required","Select an option"))&&r.push(t),0===r.length?document.forms.ccs_select_offer.submit():ccsZPresentErrorSummary(r)};$(document).ready(function(){window.GOVUKFrontend.initAll();var e=document.querySelector('meta[name="csrf-token"]').getAttribute("content");if($.ajaxSetup({beforeSend:function(t){t.setRequestHeader("CSRF-Token",e)}}),matchMedia){const e=window.matchMedia("(min-width: 40.0625em)");e.addListener(t),t(e)}function t(e){e.matches?document.querySelector(".global-navigation").setAttribute("aria-hidden","false"):document.querySelector(".global-navigation").setAttribute("aria-hidden","true")}document.querySelector(".global-navigation__toggler").addEventListener("click",()=>{var e="true";"true"==document.querySelector(".global-navigation").getAttribute("aria-hidden")&&(e="false"),document.querySelector(".global-navigation").setAttribute("aria-hidden",e)})});const ccsZvalidateRfiLocation=e=>{e.preventDefault();let t="",r=[];!0!==(t=ccsZisOptionChecked("required_locations","Select at least one location"))&&r.push(t),0===r.length?document.forms.rfi_location.submit():ccsZPresentErrorSummary(r)};$(".focusdata").click(function(){var e=$("html,body"),t=$(".focus-data");e.animate({scrollTop:t.offset().top-e.offset().top+e.scrollTop(),scrollLeft:0},300)}),$("#getId").click(function(){$(this).hasClass("uncheck")?($("input[type='checkbox']").prop("checked",!0),$(this).removeClass("uncheck"),$(this).addClass("check"),$(".otherTextArea").removeClass("ccs-dynaform-hidden")):($(".otherTextArea").addClass("ccs-dynaform-hidden"),$("input[type='checkbox']").prop("checked",!1),$(this).addClass("uncheck"),$(this).removeClass("check"))}),null!==document.getElementById("ccs_login")&&document.getElementById("ccs_login").addEventListener("submit",ccsZvalidateLogin),null!==document.getElementById("ccs_create_or_choose")&&document.getElementById("ccs_create_or_choose").addEventListener("submit",ccsZvalidateCreateOrChoose),null!==document.getElementById("ccs_select_offer")&&document.getElementById("ccs_select_offer").addEventListener("submit",ccsZvalidateSelectOffer),null!==document.getElementById("ccs_eoi_needs")&&document.getElementById("ccs_eoi_needs").addEventListener("submit",ccsZvalidateEoiNeeds),null!==document.getElementById("eoi_budget_form")&&document.getElementById("eoi_budget_form").addEventListener("submit",ccsZvalidateEoiBudget),null!==document.getElementById("ccs_eoi_criteria_form")&&document.getElementById("ccs_eoi_criteria_form").addEventListener("submit",ccsZvalidateEoiCriteria),null!==document.getElementById("ccs_eoi_deadline_form")&&document.getElementById("ccs_eoi_deadline_form").addEventListener("submit",ccsZvalidateEoiDeadline),null!==document.getElementById("eoi_location")&&document.getElementById("eoi_location").addEventListener("submit",ccsZvalidateEoiLocation),null!==document.getElementById("rfi_location")&&document.getElementById("rfi_location").addEventListener("submit",ccsZvalidateRfiLocation),null!==document.getElementById("ccs_eoi_contact_form")&&document.getElementById("ccs_eoi_contact_form").addEventListener("submit",ccsZvalidateEoiContact),null!==document.getElementById("ccs_rfp_exit_strategy_form")&&document.getElementById("ccs_rfp_exit_strategy_form").addEventListener("change",ccsZOnChange),null!==document.getElementById("ccs_rfi_project_name_form")&&document.getElementById("ccs_rfi_project_name_form").addEventListener("submit",ccsZvalidateRfiProjectName),null!==document.getElementById("rfi_projLongName")&&document.getElementById("rfi_projLongName").addEventListener("input",ccsZCountRfiProjectName),null!==document.getElementById("enter_evaluation_feedback")&&document.getElementById("enter_evaluation_feedback").addEventListener("input",ccsZCountsupplierFeedback),null!==document.getElementById("enter_evaluation_score")&&document.getElementById("enter_evaluation_score").addEventListener("keypress",ccsZValidateDecimalScore),null!==document.getElementById("enter_evaluation_feedback")&&document.getElementById("enter_evaluation_feedback").addEventListener("submit",ccsZvalidateFeedback),null!==document.getElementById("enter_evaluation_score")&&document.getElementById("enter_evaluation_score").addEventListener("submit",ccsZvalidateScore),null!==document.getElementById("ccs_eoi_project_name_form")&&document.getElementById("ccs_eoi_project_name_form").addEventListener("submit",ccsZvalidateEoiProjectName),null!==document.getElementById("ccs_choose_pre_engage")&&document.getElementById("ccs_choose_pre_engage").addEventListener("submit",ccsZvalidatePreMarketRoute),null!==document.getElementById("ccs_eoi_type_form")&&document.getElementById("ccs_eoi_type_form").addEventListener("submit",ccsZvalidateEoiType),null!==document.getElementById("ccs_rfi_type_form")&&document.getElementById("ccs_rfi_type_form").addEventListener("submit",ccsZvalidateRfiType),null!==document.getElementById("choose_build_rfi")&&document.getElementById("choose_build_rfi").addEventListener("submit",ccsZvalidateRfiMcfType),null!==document.getElementById("ccs_rfi_who_form")&&document.getElementById("ccs_rfi_who_form").addEventListener("submit",ccsZvalidateRfiWho),null!==document.getElementById("ccs_rfi_vetting_form")&&document.getElementById("ccs_rfi_vetting_form").addEventListener("submit",ccsZvalidateRfiSecurity),null!==document.getElementById("ccs_eoi_vetting_form")&&document.getElementById("ccs_eoi_vetting_form").addEventListener("submit",ccsZvalidateEoiSecurity),null!==document.getElementById("ccs_ca_type_form")&&document.getElementById("ccs_ca_type_form").addEventListener("submit",ccsZvalidateCaaAssFCSecurity),null!==document.getElementById("ccs_ca_weighting")&&document.getElementById("ccs_ca_weighting").addEventListener("submit",ccsZvalidateCAWeightings),null!==document.getElementById("ccs_daa_weighting")&&document.getElementById("ccs_daa_weighting").addEventListener("submit",ccsZvalidateDAAWeightings),null!==document.getElementById("ca_where_work_done")&&document.getElementById("ca_where_work_done").addEventListener("submit",ccsZvalidateCAWhereWorkDone),null!==document.getElementById("da_where_work_done")&&document.getElementById("da_where_work_done").addEventListener("submit",ccsZvalidateDAWhereWorkDone),null!==document.getElementById("ccs_rfp_scoring_criteria")&&document.getElementById("ccs_rfp_scoring_criteria").addEventListener("submit",ccsZvalidateScoringCriteria),null!==document.getElementById("service_user_type_form")&&document.getElementById("service_user_type_form").addEventListener("submit",ccsZvalidateScoringCriteria2),null!==document.getElementById("ccs_rfi_address_form")&&(ccsZInitAddressFinder("rfi_proj_address-address"),document.getElementById("rfi_find_address_btn").addEventListener("click",ccsZFindAddress),document.getElementById("change_postcode").addEventListener("click",ccsZResetAddress)),null!==document.getElementById("ccs_rfi_address_manual_form")&&document.getElementById("ccs_rfi_address_manual_form").addEventListener("submit",ccsZvalidateRfiAddress),null!==document.getElementById("ccs_rfi_about_proj")&&document.getElementById("ccs_rfi_about_proj").addEventListener("submit",ccsZvalidateRfiProject),null!==document.getElementById("rfi_prob_statement")&&document.getElementById("rfi_prob_statement").addEventListener("input",ccsZCountRfiProject),null!==document.getElementById("ccs_rfi_next_steps")&&document.getElementById("ccs_rfi_next_steps").addEventListener("submit",showPopup),null!==document.getElementById("ccs_rfi_closeyouproject")&&document.getElementById("ccs_rfi_closeyouproject").addEventListener("submit",loseyouprojectShowPopup),null!==document.getElementById("supplierMsgCancel")&&document.getElementById("supplierMsgCancel").addEventListener("click",supplierMsgCancelPopup),null!==document.getElementById("rfi_contracting_auth")&&document.getElementById("rfi_contracting_auth").addEventListener("input",ccsZCountRfiWho),null!==document.getElementById("ca_justification")&&document.getElementById("ca_justification").addEventListener("input",ccsZCountCAReviewRank),null!==document.getElementById("ccs_rfi_docs_form")&&document.getElementById("ccs_rfi_docs_form").addEventListener("submit",ccsZvalidateRfiDocs),null!==document.getElementById("ccs_rfi_questions_form")&&document.getElementById("ccs_rfi_questions_form").addEventListener("submit",ccsZvalidateRfIQuestions),null!==document.getElementById("ccs_eoi_questions_form")&&document.getElementById("ccs_eoi_questions_form").addEventListener("submit",ccsZvalidateEoIQuestions),null!==document.getElementById("ccs_rfp_exit_strategy_form")&&document.getElementById("ccs_rfp_exit_strategy_form").addEventListener("submit",ccsZvalidateRfPStrategy),null!==document.getElementById("ccs_rfp_exit_strategy_form")&&null!==document.getElementById("ccs_rfp_about_proj")&&document.getElementById("ccs_rfp_about_proj").addEventListener("submit",ccsZvalidateRfPAboutBG),null!==document.getElementById("ccs_rfp_who_form")&&document.getElementById("ccs_rfp_who_form").addEventListener("submit",ccsZvalidateTextRfpChangeStrategy),null!==document.getElementById("ccs_eoi_purpose_form")&&document.getElementById("ccs_eoi_purpose_form").addEventListener("submit",ccsZvalidateEoiPurpose),null!==document.getElementById("ccs_eoi_about_proj")&&document.getElementById("ccs_eoi_about_proj").addEventListener("submit",ccsZvalidateEoiProject),null!==document.getElementById("ccs_eoi_new_form")&&document.getElementById("ccs_eoi_new_form").addEventListener("submit",ccsZvalidateEoiServiceType),null!==document.getElementById("ccs_eoi_terms_form")&&document.getElementById("ccs_eoi_terms_form").addEventListener("submit",ccsZvalidateEoiTermsForm),null!==document.getElementById("ccs_incumbent_form")&&document.getElementById("ccs_incumbent_form").addEventListener("submit",ccsZvalidateIncumbentForm),null!==document.getElementById("eoi_docs_form")&&document.getElementById("eoi_docs_form").addEventListener("submit",ccsZvalidateEoiDocs),null!==document.getElementById("ccs_eoi_duration")&&document.getElementById("ccs_eoi_duration").addEventListener("submit",ccsZvalidateEoiStartDate),null!==document.getElementById("ccs-rfi-suppliers-form")&&document.getElementById("ccs-rfi-suppliers-form").addEventListener("submit",ccsZValidateSuppliersForm),null!==document.getElementById("ccs_eoi_acronyms_form")&&document.getElementById("ccs_eoi_acronyms_form").addEventListener("submit",ccsZvalidateEoiAcronyms),null!==document.getElementById("ccs_rfp_acronyms_form")&&document.getElementById("ccs_rfp_acronyms_form").addEventListener("submit",ccsZvalidateRfpAcronymsRFP),null!==document.getElementById("rfp_location")&&document.getElementById("rfp_location").addEventListener("submit",ccsZvalidateRfpLocation),null!=document.getElementById("rfp_location")&&null!=document.getElementById("rfp_location")&&document.getElementById("rfp_location").addEventListener("change",ccsZvalidateChangeRfpLocation),null!==document.getElementById("ccs_eoi_splterms_form")&&document.getElementById("ccs_eoi_splterms_form").addEventListener("submit",ccsZvalidateEoiSpecialTerms),null!==document.getElementById("ccs_rfi_acronyms_form")&&document.getElementById("ccs_rfi_acronyms_form").addEventListener("submit",ccsZvalidateRfiAcronyms),null!==document.getElementById("ccs_eoi_date_form")&&document.getElementById("ccs_eoi_date_form").addEventListener("submit",ccsZvalidateEoiDate),null!==document.getElementById("fca_select_services_form")&&document.getElementById("fca_select_services_form").addEventListener("submit",ccsFcaSelectedServices),null!==document.getElementById("rfp_percentage_form")&&document.getElementById("rfp_percentage_form").addEventListener("submit",ccsZvalidateRfpPercentages),null!==document.getElementById("ccs_pre_award_supplier_form")&&document.getElementById("ccs_pre_award_supplier_form").addEventListener("submit",ccsZvalidateAward),null!==document.getElementById("ccs_standstill_period_form")&&document.getElementById("ccs_standstill_period_form").addEventListener("submit",ccsZvalidateStandStillPeriod),null!==document.getElementById("ccs_da_project_name_form")&&document.getElementById("ccs_da_project_name_form").addEventListener("submit",ccsZvalidateDaProjectName),null!==document.getElementById("da_projLongName")&&document.getElementById("da_projLongName").addEventListener("input",ccsZCountDaProjectName);let noOfCharac=200,contents=document.querySelectorAll(".content_review_length");function readMoreWithLength(){document.querySelectorAll(".content_review_length").forEach(function(e){e.addEventListener("click",function(e){let t=e.target.id;document.querySelector("#content-"+t);"Read more"==$("#"+t).html()?($("#moreValue"+t).removeClass("hide"),$("#"+t).html("Read less"),$("#moreValue"+t).show(),$("#dots-"+t).hide()):($("#moreValue"+t).addClass("hide"),$("#"+t).html("Read more"),$("#moreValue"+t).hide(),$("#dots-"+t).show())})})}function parseQueryG13(e){object={},-1!=e.indexOf("?")&&(e=(e=e.split("?"))[1]),parseQuery=e.split("&");for(var t=0;t<parseQuery.length;t++)if(pair=parseQuery[t].split("="),key=decodeURIComponent(pair[0]),0!=key.length){if(value=decodeURIComponent(pair[1].replace("+"," ")),"q"==key){let e=decodeURIComponent(pair[1].replace("+"," "));value=encodeURIComponent(e)}null==object[key]?object[key]=value:object[key]instanceof Array?object[key].push(value):object[key]=[object[key],value]}return object}contents.forEach((e,t)=>{if(e.textContent.length<noOfCharac);else{let r=e.textContent.slice(0,noOfCharac),n=e.textContent.slice(noOfCharac);e.innerHTML=`<div id="content-${t}">${r}<span id="dots-${t}" class="dots">...  </span><span id="moreValue${t}" class="hide more">${n}</span><a  class="read_more_btn_review" id="${t}" data-name="${t}">Read more</a> </div>`}}),readMoreWithLength(),null!==document.querySelectorAll(".ons-list__item")&&ccsTabMenuNaviation(),setInputFilter(document.getElementById("eoi_resource_start_date-day"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=31)),setInputFilter(document.getElementById("eoi_resource_start_date-month"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=12)),setInputFilter(document.getElementById("eoi_duration-days"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=31)),setInputFilter(document.getElementById("eoi_duration-months"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=12)),setInputFilter(document.getElementById("eoi_duration-years"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=100)),setInputFilter(document.getElementById("clarification_date-minute_2"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=60)),setInputFilter(document.getElementById("clarification_date-hour_2"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=23)),setInputFilter(document.getElementById("clarification_date-day_2"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=31)),setInputFilter(document.getElementById("clarification_date-month_2"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=12)),setInputFilter(document.getElementById("clarification_date-year_2"),e=>/^\d*$/.test(e)),setInputFilter(document.getElementById("clarification_date-minute_3"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=60)),setInputFilter(document.getElementById("clarification_date-hour_3"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=23)),setInputFilter(document.getElementById("clarification_date-day_3"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=31)),setInputFilter(document.getElementById("clarification_date-month_3"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=12)),setInputFilter(document.getElementById("clarification_date-year_3"),e=>/^\d*$/.test(e)),setInputFilter(document.getElementById("clarification_date-minute_4"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=60)),setInputFilter(document.getElementById("clarification_date-hour_4"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=23)),setInputFilter(document.getElementById("clarification_date-day_4"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=31)),setInputFilter(document.getElementById("clarification_date-month_4"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=12)),setInputFilter(document.getElementById("clarification_date-year_4"),e=>/^\d*$/.test(e)),setInputFilter(document.getElementById("clarification_date-minute_5"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=60)),setInputFilter(document.getElementById("clarification_date-hour_5"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=23)),setInputFilter(document.getElementById("clarification_date-day_5"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=31)),setInputFilter(document.getElementById("clarification_date-month_5"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=12)),setInputFilter(document.getElementById("clarification_date-year_5"),e=>/^\d*$/.test(e)),setInputFilter(document.getElementById("clarification_date-minute_6"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=60)),setInputFilter(document.getElementById("clarification_date-hour_6"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=23)),setInputFilter(document.getElementById("clarification_date-day_6"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=31)),setInputFilter(document.getElementById("clarification_date-month_6"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=12)),setInputFilter(document.getElementById("clarification_date-year_6"),e=>/^\d*$/.test(e)),setInputFilter(document.getElementById("clarification_date-minute_7"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=60)),setInputFilter(document.getElementById("clarification_date-hour_7"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=23)),setInputFilter(document.getElementById("clarification_date-day_7"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=31)),setInputFilter(document.getElementById("clarification_date-month_7"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=12)),setInputFilter(document.getElementById("clarification_date-year_7"),e=>/^\d*$/.test(e)),setInputFilter(document.getElementById("clarification_date-minute_8"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=60)),setInputFilter(document.getElementById("clarification_date-hour_8"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=23)),setInputFilter(document.getElementById("clarification_date-day_8"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=31)),setInputFilter(document.getElementById("clarification_date-month_8"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=12)),setInputFilter(document.getElementById("clarification_date-year_8"),e=>/^\d*$/.test(e)),setInputFilter(document.getElementById("clarification_date-minute_9"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=60)),setInputFilter(document.getElementById("clarification_date-hour_9"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=23)),setInputFilter(document.getElementById("clarification_date-day_9"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=31)),setInputFilter(document.getElementById("clarification_date-month_9"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=12)),setInputFilter(document.getElementById("clarification_date-year_9"),e=>/^\d*$/.test(e)),setInputFilter(document.getElementById("clarification_date-minute_10"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=60)),setInputFilter(document.getElementById("clarification_date-hour_10"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=23)),setInputFilter(document.getElementById("clarification_date-day_10"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=31)),setInputFilter(document.getElementById("clarification_date-month_10"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=12)),setInputFilter(document.getElementById("clarification_date-year_10"),e=>/^\d*$/.test(e)),setInputFilter(document.getElementById("clarification_date-minute_11"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=60)),setInputFilter(document.getElementById("clarification_date-hour_11"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=23)),setInputFilter(document.getElementById("clarification_date-day_11"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=31)),setInputFilter(document.getElementById("clarification_date-month_11"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=12)),setInputFilter(document.getElementById("clarification_date-year_11"),e=>/^\d*$/.test(e)),setInputFilter(document.getElementById("clarification_date-minute_12"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=60)),setInputFilter(document.getElementById("clarification_date-hour_12"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=23)),setInputFilter(document.getElementById("clarification_date-day_12"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=31)),setInputFilter(document.getElementById("clarification_date-month_12"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=12)),setInputFilter(document.getElementById("clarification_date-year_12"),e=>/^\d*$/.test(e)),setInputFilter(document.getElementById("clarification_date-minute_13"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=60)),setInputFilter(document.getElementById("clarification_date-hour_13"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=23)),setInputFilter(document.getElementById("clarification_date-day_13"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=31)),setInputFilter(document.getElementById("clarification_date-month_13"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=12)),setInputFilter(document.getElementById("clarification_date-year_13"),e=>/^\d*$/.test(e)),setInputFilter(document.getElementById("rfp_resource_start_date_day_Question11"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=31)),setInputFilter(document.getElementById("rfp_resource_start_date_month_Question 11"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=12)),setInputFilter(document.getElementById("rfp_resource_start_date_year_Question 11"),e=>/^\d*$/.test(e)),setInputFilter(document.getElementById("rfp_duration_days_Question12"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=31)),setInputFilter(document.getElementById("rfp_duration_months_Question12"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=11)),setInputFilter(document.getElementById("rfp_duration-years_Question12"),e=>/^\d*$/.test(e)),setInputFilter(document.getElementById("rfp_duration_days_Question13"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=31)),setInputFilter(document.getElementById("rfp_duration_months_Question13"),e=>/^\d*$/.test(e)&&(""===e||parseInt(e)<=11)),setInputFilter(document.getElementById("rfp_duration-years_Question13"),e=>/^\d*$/.test(e));const tune=e=>{let t=[];for(const r in e)if("object"==typeof e[r]){let n=e[r];for(let e=0;e<n.length;e++)t.push({key:r,value:n[e]})}else t.push({key:r,value:e[r]});return t};function g13ServiceQueryFliterJquery(e,t,r){let n="",o=r.name,a=r.value,i=r.type;if(e.length>0){if("unchecked"==i){let t=a,r=o,n=[];e.find(e=>{e.value==t&&e.key==r||n.push(e)}),e=n}e.forEach((t,r)=>{let s=t.key,l=t.value;0==r?""!=s&&(n+=`?${s}=${l}`):n+=`&${s}=${l}`,r==e.length-1&&("checked"!=i&&"categoryClicked"!=i||(n+=""!=s?`&${o}=${a}`:`?${o}=${a}`))})}else""!=a&&(n+=`?${o}=${a}`);return n}function titleCase(e){return e.toLowerCase().split(" ").map(function(e){return e.replace(e[0],e[0].toUpperCase())}).join(" ")}function removeURLParameter(e,t){var r=e.split("?");if(r.length>=2){for(var n=encodeURIComponent(t)+"=",o=r[1].split(/[&;]/g),a=o.length;a-- >0;)-1!==o[a].lastIndexOf(n,0)&&o.splice(a,1);return e=r[0]+"?"+o.join("&")}return e}function loadQuerySelector(){document.querySelectorAll(".clickCategory").forEach(function(e){e.addEventListener("click",function(){let e=this.getAttribute("data-name"),t=this.getAttribute("data-value"),r=parseQueryG13(document.location.search);r=tune(r);let n=window.location.href.split("?")[0],o=g13ServiceQueryFliterJquery(r,n,{name:e,value:t,type:"categoryClicked"});window.location.href=`${n}${o}`})}),document.querySelectorAll(".serviceCategory")&&document.querySelectorAll(".serviceCategory").forEach(function(e){e.addEventListener("click",function(){let e=this.getAttribute("data-name"),t=this.getAttribute("data-value"),r=parseQueryG13(document.location.search);r=tune(r);let n=[];r.find(e=>{"serviceCategories"!==e.key&&n.push(e)}),(r=n).push({key:"serviceCategories",value:t});let o=window.location.href.split("?")[0],a=g13ServiceQueryFliterJquery(r,o,{name:e,value:t,type:"serviceCategoryClicked"});window.location.href=`${o}${a}`})}),document.querySelectorAll(".parentCategory")&&document.querySelectorAll(".parentCategory").forEach(function(e){e.addEventListener("click",function(){let e=this.getAttribute("data-name"),t=this.getAttribute("data-value"),r=parseQueryG13(document.location.search);if(void 0===(r=tune(r)).find(e=>"parentCategory"===e.key)){let e=r.find(e=>"serviceCategories"===e.key);r.push({key:"parentCategory",value:e.value}),r.splice(r.findIndex(({key:e})=>"serviceCategories"==e),1),r.push({key:"serviceCategories",value:t})}else{let e=[];r.find(t=>{"serviceCategories"!==t.key&&e.push(t)}),(r=e).push({key:"serviceCategories",value:t})}let n=window.location.href.split("?")[0],o=g13ServiceQueryFliterJquery(r,n,{name:e,value:t,type:"parentCategoryClicked"});window.location.href=`${n}${o}`})})}function getCriterianDetails(e=0){let t=[];$(".g13Check:checked").each(function(){var e=$(this);t.push({title:e.attr("data-title"),name:e.attr("data-name")})});const r=((e,t)=>e.reduce((e,r)=>((e[r[t]]=e[r[t]]||[]).push(r),e),{}))(t,"title");let n='<b class="govuk-!-font-size-48">'+e+"</b> results found",o=parseQueryG13(document.location.search),a=(o=tune(o)).filter(e=>"q"===e.key);a.length>0&&(n+=" containing <b>"+decodeURIComponent(a[0].value)+"</b>");let i=o.filter(e=>"lot"===e.key);i.length>0?n+=" in <b>"+capitalize(i[0].value.replace("-"," "))+"</b>":n+=" in <b>All Categories</b>";let s=o.filter(e=>"serviceCategories"===e.key);s.length>0&&(n+=" in the category <b>"+capitalize(s[0].value.replace("+"," "))+"</b>"),Object.keys(r).forEach(e=>{if(void 0!==e){n+=", where <b>"+capitalize(e)+"</b> is ";let t=[];for(let n=0;n<r[e].length;n++)t.push("<b>"+capitalize(r[e][n].name)+"</b>");n+=t.join(" and ")}}),$("#criteriandetails").html(n),$("#criteriadetailsform").val(n.replace("govuk-!-font-size-48","govuk-!-font-size-24"))}document.querySelectorAll(".clickCategory").forEach(function(e){e.addEventListener("click",function(){let e=this.getAttribute("data-name"),t=this.getAttribute("data-value"),r=parseQueryG13(document.location.search);r=tune(r);let n=window.location.href.split("?")[0],o=g13ServiceQueryFliterJquery(r,n,{name:e,value:t,type:"categoryClicked"});window.location.href=`${n}${o}`})}),document.querySelectorAll(".serviceCategory")&&document.querySelectorAll(".serviceCategory").forEach(function(e){e.addEventListener("click",function(){let e=this.getAttribute("data-name"),t=this.getAttribute("data-value"),r=parseQueryG13(document.location.search);r=tune(r);let n=[];r.find(e=>{"serviceCategories"!==e.key&&n.push(e)}),(r=n).push({key:"serviceCategories",value:t});let o=window.location.href.split("?")[0],a=g13ServiceQueryFliterJquery(r,o,{name:e,value:t,type:"serviceCategoryClicked"});window.location.href=`${o}${a}`})}),document.querySelectorAll(".parentCategory")&&document.querySelectorAll(".parentCategory").forEach(function(e){e.addEventListener("click",function(){let e=this.getAttribute("data-name"),t=this.getAttribute("data-value"),r=parseQueryG13(document.location.search);if(void 0===(r=tune(r)).find(e=>"parentCategory"===e.key)){let e=r.find(e=>"serviceCategories"===e.key);r.push({key:"parentCategory",value:e.value}),r.splice(r.findIndex(({key:e})=>"serviceCategories"==e),1),r.push({key:"serviceCategories",value:t})}else{let e=[];r.find(t=>{"serviceCategories"!==t.key&&e.push(t)}),(r=e).push({key:"serviceCategories",value:t})}let n=window.location.href.split("?")[0],o=g13ServiceQueryFliterJquery(r,n,{name:e,value:t,type:"parentCategoryClicked"});window.location.href=`${n}${o}`})}),document.querySelectorAll(".g13Check").forEach(function(e){e.addEventListener("change",function(e){let t,r=this.getAttribute("name"),n=this.getAttribute("value");t=this.checked?"checked":"unchecked";let o=parseQueryG13(removeURLParameter(document.location.search,"page")),a=g13ServiceQueryFliterJquery(o=tune(o),window.location.href.split("?")[0],{name:r,value:n,type:t});window.history.pushState({html:"",pageTitle:""},"",`/g-cloud/search${a}`),document.getElementById("mainLotandcategoryContainer").innerHTML="",document.getElementById("paginationContainer").innerHTML="";let i=document.querySelector(".govuk-grid-sresult-right");i.classList.add("loadingres"),$("#criteriasavebtn").prop("disabled",!0);$.ajax({url:`/g-cloud/search-api${a}`,type:"GET",contentType:"application/json"}).done(function(e){if($("#criteriasavebtn").prop("disabled",!1),$("#criteriasavebtn").removeClass("govuk-button--disabled"),$("#clearfilter").attr("href",e.clearFilterURL),e.data.meta.total>0){i.classList.remove("loadingres"),getCriterianDetails(e.data.meta.total),document.getElementById("rightSidefooterCotainer").innerHTML="";var t="";e.njkDatas.haveLot?t='<a class="govuk-link govuk-link-filter-main" href="/g-cloud/search">All Categories</a>':(t+="<strong>All Categories</strong>",t+='<ul class="govuk-list">',e.njkDatas.lotInfos.lots.forEach(e=>{t+='<li><a data-name="lot" data-value="'+e.slug+'" class="govuk-link clickCategory" style="cursor: pointer !important;">'+titleCase(e.key)+" ("+e.count+")</a></li>"}),t+="</ul>"),e.njkDatas.haveLot&&(t+='<ul class="govuk-list">',e.njkDatas.haveserviceCategory?t+='<a class="govuk-link govuk-link-filter-main" href="/g-cloud/search?lot='+e.njkDatas.lotInfos.slug+'">'+e.njkDatas.lotInfos.label+"</a>":t+="<li><strong>"+titleCase(e.njkDatas.lotInfos.label)+" </strong></li>",e.njkDatas.lotInfos.currentparentCategory&&(t+='<p><a class="govuk-link govuk-link-filter-main" href="/g-cloud/search?lot='+e.njkDatas.lotInfos.slug+"&serviceCategories="+e.njkDatas.lotInfos.currentparentCategory+'">'+titleCase(e.njkDatas.lotInfos.currentparentCategory)+"</a></p>"),t+="<li>",t+='<ul class="govuk-list govuk-!-margin-top-0">',t+='<ul class="govuk-list govuk-!-margin-top-0 govuk-!-margin-left-2">',e.njkDatas.lotInfos.subservices.forEach(r=>{if(r.childrenssts)e.njkDatas.lotInfos.currentparentCategory?(t+="<li>",t+='<ul class="govuk-list govuk-!-margin-top-0">',t+='<ul class="govuk-list govuk-!-margin-top-0 govuk-!-margin-left-2">',r.childrens.forEach(r=>{if(r.value==e.njkDatas.lotInfos.currentserviceCategory)t+="<li><strong>"+r.label+" ("+r.count+")</strong></li>";else{var n=r.value.split(" ").join("+");t+='<li><a class="govuk-link parentCategory" data-name="'+r.name+'" data-value="'+n+'">'+r.label+"("+r.count+")</a></li>"}}),t+="</ul>",t+="</ul>"):(t+="<li>",t+="<strong>"+titleCase(e.njkDatas.lotInfos.currentserviceCategory)+"</strong>",t+='<ul class="govuk-list govuk-!-margin-top-0">',t+='<ul class="govuk-list govuk-!-margin-top-0 govuk-!-margin-left-2">',r.childrens.forEach(e=>{var r=e.value.split(" ").join("+");t+='<li><a class="govuk-link parentCategory" data-name="'+e.name+'" data-value="'+r+'">'+e.label+"("+e.count+")</a></li>"}),t+="</ul>",t+="</ul>"),t+="</li>";else if(r.value==e.njkDatas.lotInfos.currentserviceCategory)t+="<li><strong>"+r.label+"</strong></li>";else if("supportMultiCloud"!==r.name){var n=r.value.split(" ").join("+");t+='<li><a class="govuk-link serviceCategory" data-name="'+r.name+'" data-value="'+n+'">'+r.label+"("+r.count+")</a></li>"}}),t+="</ul>",t+="</ul>",t+="</li>",t+="</ul>"),document.getElementById("mainLotandcategoryContainer").innerHTML=t;var r="";r+='<div class="govuk-grid-row">',r+='<div class="govuk-grid-column-full">',r+='<ul class="govuk-list govuk-supplier-list">',e.data.documents.forEach(e=>{r+='<li class="app-search-result"><h2 class="govuk-heading-s govuk-!-margin-bottom-1"><a class="govuk-link" href="/g-cloud/services?id='+e.id+'">'+e.serviceName+'</a></h2><p class="govuk-body govuk-!-font-size-16 govuk-!-font-weight-bold">'+e.supplierName+'</p><p class="govuk-body govuk-!-font-size-16">'+e.serviceDescription+'</p><ul aria-label="tags" class="govuk-list app-search-result__metadata"><li class="govuk-!-display-inline govuk-!-padding-right-4">'+e.lotName+'</li><li class="govuk-!-display-inline">'+e.frameworkName+"</li></ul></li>"}),r+="<div>",r+="<div>",r+="<ul>",document.getElementById("searchResultsContainer").innerHTML=r;var n="";n+='<div class="govuk-grid-row">',n+='<div class="govuk-grid-column-full">',n+='<div class="govuk-grid-column-one-half">',n+="<div>",n+="&nbsp;",""!=e.njkDatas.PrvePageUrl&&1!=e.njkDatas.CurrentPageNumber&&(n+='<p class="govuk-body govuk-!-margin-0">',n+='<a href="/g-cloud/search?'+e.njkDatas.PrvePageUrl+'" class="govuk-link govuk-link--no-visited-state govuk-!-font-weight-bold govuk-!-font-size-24 paginationUrlClass">',n+='<svg class="govuk-pagination__icon govuk-pagination__icon--prev" xmlns="http://www.w3.org/2000/svg" height="13" width="15" aria-hidden="true" focusable="false" viewBox="0 0 15 13" fill="#1d70b8">',n+='<path d="m6.5938-0.0078125-6.7266 6.7266 6.7441 6.4062 1.377-1.449-4.1856-3.9768h12.896v-2h-12.984l4.2931-4.293-1.414-1.414z"></path>',n+="</svg>",n+="Previous Page</a>",n+="</p>",n+='<p class="govuk-body govuk-!-margin-0"><label class="govuk-!-font-size-16">'+(e.njkDatas.CurrentPageNumber-1)+" of "+e.njkDatas.noOfPages+"</label></p>  "),n+="</div>",n+="</div>",n+='<div class="govuk-grid-column-one-half govuk-!-text-align-right">',n+="<div>",n+="&nbsp;",""!=e.njkDatas.NextPageUrl&&(n+='<p class="govuk-body govuk-!-margin-0">',n+='<a href="/g-cloud/search?'+e.njkDatas.NextPageUrl+'" class="govuk-link govuk-link--no-visited-state govuk-!-font-weight-bold govuk-!-font-size-24 paginationUrlClass">',n+='<svg class="govuk-pagination__icon govuk-pagination__icon--next" xmlns="http://www.w3.org/2000/svg" height="13" width="15" aria-hidden="true" focusable="false" viewBox="0 0 15 13" fill="#1d70b8">',n+='<path d="m8.107-0.0078125-1.4136 1.414 4.2926 4.293h-12.986v2h12.896l-4.1855 3.9766 1.377 1.4492 6.7441-6.4062-6.7246-6.7266z"></path>',n+="</svg>",n+="Next Page</a>",n+="</p>"),"0"==e.njkDatas.noOfPages||"1"==e.njkDatas.noOfPages?n+='<p class="govuk-body govuk-!-margin-0"><label class="govuk-!-font-size-16">'+e.njkDatas.CurrentPageNumber+" of 1</label></p>":n+='<p class="govuk-body govuk-!-margin-0"><label class="govuk-!-font-size-16">'+e.njkDatas.CurrentPageNumber+" of "+e.njkDatas.noOfPages+"</label></p>",n+="</div>",n+="</div>",n+="</div>",n+="</div>",document.getElementById("paginationContainer").innerHTML=n}else{$("#criteriasavebtn").prop("disabled",!0),i.classList.remove("loadingres"),getCriterianDetails(0),document.getElementById("searchResultsContainer").innerHTML="",document.getElementById("rightSidefooterCotainer").innerHTML="";'<h3 class="govuk-heading-m">Improve your search results by:</h3>','<ul class="govuk-list govuk-!-margin-top-0">','<ul class="govuk-list govuk-!-margin-top-0 govuk-!-margin-left-2">',"</li>removing filters</li><br>","</li>choosing a different category</li><br>","</li>double-checking your spelling</li><br>","</li>using fewer keywords</li><br>","</li>searching for something less specific, you can refine your results later</li><br>","</ul>","</ul>",document.getElementById("rightSidefooterCotainer").innerHTML='<h3 class="govuk-heading-m">Improve your search results by:</h3><ul class="govuk-list govuk-!-margin-top-0"><ul class="govuk-list govuk-!-margin-top-0 govuk-!-margin-left-2"></li>removing filters</li><br></li>choosing a different category</li><br></li>double-checking your spelling</li><br></li>using fewer keywords</li><br></li>searching for something less specific, you can refine your results later</li><br></ul></ul>'}loadQuerySelector()}).fail(e=>{})})}),window.addEventListener("DOMContentLoaded",e=>{document.getElementById("searchQuery")&&(document.getElementById("searchQuery").value=window.location.search);let t=document.getElementById("criteriasavebtn");t&&t.addEventListener("click",function(e){document.getElementById("searchQuery")&&(document.getElementById("searchQuery").value=window.location.search)}),document.querySelectorAll(".paginationUrlClass").forEach(e=>{e.addEventListener("click",function(e){let t="",r=document.getElementsByClassName("g13_search"),n=parseQueryG13(document.location.search),o=(n=tune(n)).find(e=>"q"===e.key);o&&n.splice(o,1),r.length>0&&n.unshift({key:"q",value:encodeURIComponent(r)});let a=window.location.href.split("?")[0];n.forEach((e,r)=>{let n=e.key,o=e.value;0==r?""!=n&&(t+=`?${n}=${o}`):t+=`&${n}=${o}`}),window.location.href=`${a}${t}`})});var r=document.getElementsByClassName("g13_search")[0];r&&r.addEventListener("keypress",function(e){"Enter"===e.key&&(e.preventDefault(),document.getElementsByClassName("g13_search_click")[0].click())}),document.querySelector(".g13_search_click")&&document.querySelector(".g13_search_click").addEventListener("click",function(){$(".govuk-error-message").remove(),$(".govuk-form-group--error").removeClass("govuk-form-group--error"),$(".govuk-error-summary").remove(),$(".govuk-input").removeClass("govuk-input--error"),$(".govuk-form-group textarea").removeClass("govuk-textarea--error");let e="";document.getElementById("searchQuery").value=window.location.search;let t=document.getElementsByClassName("g13_search"),r=document.getElementById("with-hint");if(t[0].value.length>250)return ccsZaddErrorMessage(r,"Keywords must be 250 characters or fewer."),!1;let n=parseQueryG13(removeURLParameter(document.location.search,"page")),o=(n=tune(n)).find(e=>"q"===e.key);o&&n.splice(o,1),t[0].value.length>0&&n.unshift({key:"q",value:encodeURIComponent(t[0].value)});window.location.href.split("?")[0];n.forEach((t,r)=>{let n=t.key,o=t.value;0==r?""!=n&&(e+=`?${n}=${o}`):e+=`&${n}=${o}`});window.history.pushState({html:"",pageTitle:""},"",`/g-cloud/search${e}`),document.getElementById("searchResultsContainer").innerHTML="",document.getElementById("mainLotandcategoryContainer").innerHTML="",document.getElementById("paginationContainer").innerHTML="";let a=document.querySelector("#searchResultsContainer");a.classList.add("loadingres"),$("#criteriasavebtn").prop("disabled",!0),$.ajax({url:`/g-cloud/search-api${e}`,type:"GET",contentType:"application/json"}).done(function(e){if($("#criteriasavebtn").prop("disabled",!1),$("#criteriasavebtn").removeClass("govuk-button--disabled"),$("#clearfilter").attr("href",e.clearFilterURL),e.data.meta.total>0){a.classList.remove("loadingres"),getCriterianDetails(e.data.meta.total),document.getElementById("rightSidefooterCotainer").innerHTML="";var t="";e.njkDatas.haveLot?t='<a class="govuk-link govuk-link-filter-main" href="/g-cloud/search">All Categories</a>':(t+="<strong>All Categories</strong>",t+='<ul class="govuk-list">',e.njkDatas.lotInfos.lots.forEach(e=>{t+='<li><a data-name="lot" data-value="'+e.slug+'" class="govuk-link clickCategory" style="cursor: pointer !important;">'+titleCase(e.key)+" ("+e.count+")</a></li>"}),t+="</ul>"),e.njkDatas.haveLot&&(t+='<ul class="govuk-list">',e.njkDatas.haveserviceCategory?t+='<a class="govuk-link govuk-link-filter-main" href="/g-cloud/search?lot='+e.njkDatas.lotInfos.slug+'">'+e.njkDatas.lotInfos.label+"</a>":t+="<li><strong>"+titleCase(e.njkDatas.lotInfos.label)+" </strong></li>",e.njkDatas.lotInfos.currentparentCategory&&(t+='<p><a class="govuk-link govuk-link-filter-main" href="/g-cloud/search?lot='+e.njkDatas.lotInfos.slug+"&serviceCategories="+e.njkDatas.lotInfos.currentparentCategory+'">'+titleCase(e.njkDatas.lotInfos.currentparentCategory)+"</a></p>"),t+="<li>",t+='<ul class="govuk-list govuk-!-margin-top-0">',t+='<ul class="govuk-list govuk-!-margin-top-0 govuk-!-margin-left-2">',e.njkDatas.lotInfos.subservices.forEach(r=>{if(r.childrenssts)e.njkDatas.lotInfos.currentparentCategory?(t+="<li>",t+='<ul class="govuk-list govuk-!-margin-top-0">',t+='<ul class="govuk-list govuk-!-margin-top-0 govuk-!-margin-left-2">',r.childrens.forEach(r=>{if(r.value==e.njkDatas.lotInfos.currentserviceCategory)t+="<li><strong>"+r.label+" ("+r.count+")</strong></li>";else{var n=r.value.split(" ").join("+");t+='<li><a class="govuk-link parentCategory" data-name="'+r.name+'" data-value="'+n+'">'+r.label+"("+r.count+")</a></li>"}}),t+="</ul>",t+="</ul>"):(t+="<li>",t+="<strong>"+titleCase(e.njkDatas.lotInfos.currentserviceCategory)+"</strong>",t+='<ul class="govuk-list govuk-!-margin-top-0">',t+='<ul class="govuk-list govuk-!-margin-top-0 govuk-!-margin-left-2">',r.childrens.forEach(e=>{var r=e.value.split(" ").join("+");t+='<li><a class="govuk-link parentCategory" data-name="'+e.name+'" data-value="'+r+'">'+e.label+"("+e.count+")</a></li>"}),t+="</ul>",t+="</ul>"),t+="</li>";else if(r.value==e.njkDatas.lotInfos.currentserviceCategory)t+="<li><strong>"+r.label+"</strong></li>";else if("supportMultiCloud"!==r.name){var n=r.value.split(" ").join("+");t+='<li><a class="govuk-link serviceCategory" data-name="'+r.name+'" data-value="'+n+'">'+r.label+"("+r.count+")</a></li>"}}),t+="</ul>",t+="</ul>",t+="</li>",t+="</ul>"),document.getElementById("mainLotandcategoryContainer").innerHTML=t;var r="";r+='<div class="govuk-grid-row">',r+='<div class="govuk-grid-column-full">',r+='<ul class="govuk-list govuk-supplier-list">',e.data.documents.forEach(e=>{r+='<li class="app-search-result"><h2 class="govuk-heading-s govuk-!-margin-bottom-1"><a class="govuk-link" href="/g-cloud/services?id='+e.id+'">'+e.serviceName+'</a></h2><p class="govuk-body govuk-!-font-size-16 govuk-!-font-weight-bold">'+e.supplierName+'</p><p class="govuk-body govuk-!-font-size-16">'+e.serviceDescription+'</p><ul aria-label="tags" class="govuk-list app-search-result__metadata"><li class="govuk-!-display-inline govuk-!-padding-right-4">'+e.lotName+'</li><li class="govuk-!-display-inline">'+e.frameworkName+"</li></ul></li>"}),r+="<div>",r+="<div>",r+="<ul>",document.getElementById("searchResultsContainer").innerHTML=r;var n="";n+='<div class="govuk-grid-row">',n+='<div class="govuk-grid-column-full">',n+='<div class="govuk-grid-column-one-half">',n+="<div>",n+="&nbsp;",""!=e.njkDatas.PrvePageUrl&&1!=e.njkDatas.CurrentPageNumber&&(n+='<p class="govuk-body govuk-!-margin-0">',n+='<a href="/g-cloud/search?'+e.njkDatas.PrvePageUrl+'" class="govuk-link govuk-link--no-visited-state govuk-!-font-weight-bold govuk-!-font-size-24 paginationUrlClass">',n+='<svg class="govuk-pagination__icon govuk-pagination__icon--prev" xmlns="http://www.w3.org/2000/svg" height="13" width="15" aria-hidden="true" focusable="false" viewBox="0 0 15 13" fill="#1d70b8">',n+='<path d="m6.5938-0.0078125-6.7266 6.7266 6.7441 6.4062 1.377-1.449-4.1856-3.9768h12.896v-2h-12.984l4.2931-4.293-1.414-1.414z"></path>',n+="</svg>",n+="Previous Page</a>",n+="</p>",n+='<p class="govuk-body govuk-!-margin-0"><label class="govuk-!-font-size-16">'+(e.njkDatas.CurrentPageNumber-1)+" of "+e.njkDatas.noOfPages+"</label></p>  "),n+="</div>",n+="</div>",n+='<div class="govuk-grid-column-one-half govuk-!-text-align-right">',n+="<div>",n+="&nbsp;",""!=e.njkDatas.NextPageUrl&&(n+='<p class="govuk-body govuk-!-margin-0">',n+='<a href="/g-cloud/search?'+e.njkDatas.NextPageUrl+'" class="govuk-link govuk-link--no-visited-state govuk-!-font-weight-bold govuk-!-font-size-24 paginationUrlClass">',n+='<svg class="govuk-pagination__icon govuk-pagination__icon--next" xmlns="http://www.w3.org/2000/svg" height="13" width="15" aria-hidden="true" focusable="false" viewBox="0 0 15 13" fill="#1d70b8">',n+='<path d="m8.107-0.0078125-1.4136 1.414 4.2926 4.293h-12.986v2h12.896l-4.1855 3.9766 1.377 1.4492 6.7441-6.4062-6.7246-6.7266z"></path>',n+="</svg>",n+="Next Page</a>",n+="</p>"),"0"==e.njkDatas.noOfPages||"1"==e.njkDatas.noOfPages?n+='<p class="govuk-body govuk-!-margin-0"><label class="govuk-!-font-size-16">'+e.njkDatas.CurrentPageNumber+" of 1</label></p>":n+='<p class="govuk-body govuk-!-margin-0"><label class="govuk-!-font-size-16">'+e.njkDatas.CurrentPageNumber+" of "+e.njkDatas.noOfPages+"</label></p>",n+="</div>",n+="</div>",n+="</div>",n+="</div>",document.getElementById("paginationContainer").innerHTML=n}else{$("#criteriasavebtn").prop("disabled",!0),document.getElementById("searchResultsContainer").innerHTML="",getCriterianDetails(0),a.classList.remove("loadingres"),document.getElementById("rightSidefooterCotainer").innerHTML="";'<h3 class="govuk-heading-m">Improve your search results by:</h3>','<ul class="govuk-list govuk-!-margin-top-0">','<ul class="govuk-list govuk-!-margin-top-0 govuk-!-margin-left-2">',"</li>removing filters</li><br>","</li>choosing a different category</li><br>","</li>double-checking your spelling</li><br>","</li>using fewer keywords</li><br>","</li>searching for something less specific, you can refine your results later</li><br>","</ul>","</ul>",document.getElementById("rightSidefooterCotainer").innerHTML='<h3 class="govuk-heading-m">Improve your search results by:</h3><ul class="govuk-list govuk-!-margin-top-0"><ul class="govuk-list govuk-!-margin-top-0 govuk-!-margin-left-2"></li>removing filters</li><br></li>choosing a different category</li><br></li>double-checking your spelling</li><br></li>using fewer keywords</li><br></li>searching for something less specific, you can refine your results later</li><br></ul></ul>'}loadQuerySelector()}).fail(e=>{})})}),document.addEventListener("readystatechange",e=>{if("complete"===e.target.readyState){let e=parseQueryG13(document.location.search);(e=tune(e)).forEach((e,t)=>{console.log(e),"q"===e.key&&$(".g13_search").val(decodeURIComponent(e.value)),$(".g13Check").each(function(){$(this).attr("name")==e.key&&$(this).val()==e.value&&$(this).attr("checked","checked")})}),getCriterianDetails($("#totalResult").attr("data-value"))}});const capitalize=e=>"string"!=typeof e?"":e.charAt(0).toUpperCase()+e.slice(1);if(document.querySelectorAll(".dos_evaluate_supplier").forEach(function(e){e.addEventListener("change",function(e){var t=$(".dos_evaluate_supplier:checked").map(function(){return this.value}).get().join(", ");$("#invite_suppliers").val(t)});var t=$(".dos_evaluate_supplier:checked").map(function(){return this.value}).get().join(", ");$("#invite_suppliers").val(t)}),document.querySelectorAll(".dos_evaluate_supplier").forEach(function(e){e.addEventListener("change",function(e){var t=$(".dos_evaluate_supplier:checked").map(function(){return this.value}).get().join(", ");$("#invite_suppliers").val(t)});var t=$(".dos_evaluate_supplier:checked").map(function(){return this.value}).get().join(", ");$("#invite_suppliers").val(t)}),document.querySelectorAll("#invite_short_list_suppliers_btn").forEach(function(e){e.addEventListener("click",function(e){document.getElementById("invite_short_list_suppliers").submit()})}),document.querySelectorAll(".loaderClick").forEach(function(e){e.addEventListener("click",function(e){document.body.classList.add("pageblur")})}),document.querySelectorAll(".startEvalDos6Btn").forEach(function(e){e.addEventListener("click",function(e){document.querySelector(".loderMakeRes").innerHTML='<p class="govuk-body loader-desc-hdr">Retrieving supplier responses</p><p class="govuk-body loader-desc">Please allow some time for this operation to complete. Once finished, you will be able to download supplier responses. We suggest taking a break in the meantime and checking back in a few minutes. Please keep the tab open while this process is taking place.</p>',document.body.classList.add("pageblur")})}),document.querySelectorAll(".download").forEach(function(e){e.addEventListener("click",function(e){var t=$(this).attr("data-url");$.ajax({url:t,type:"GET",contentType:"application/json",xhrFields:{responseType:"blob"},beforeSend:function(){document.querySelector(".loderMakeRes").innerHTML="<p class='govuk-body loader-desc-hdr'>Downloading supplier responses</p><p class='govuk-body loader-desc'>Please allow some time for this operation to complete. Once finished, your downloaded responses can be found in the 'Downloads' section of your browser.  We suggest taking a break in the meantime and checking back in a few minutes. Please keep the tab open while this process is taking place.</p>",document.body.classList.add("pageblur")},success:function(e,t,r){document.body.classList.remove("pageblur");var n="",o=r.getResponseHeader("Content-Disposition");if(o&&-1!==o.indexOf("attachment")){var a=/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/.exec(o);null!=a&&a[1]&&(n=a[1].replace(/['"]/g,""))}if(void 0!==window.navigator.msSaveBlob)window.navigator.msSaveBlob(e,n);else{var i=window.URL||window.webkitURL,s=i.createObjectURL(e);if(n){var l=document.createElement("a");void 0===l.download?window.location.href=s:(l.href=s,l.download=n,document.body.appendChild(l),l.click())}else window.location.href=s;setTimeout(function(){i.revokeObjectURL(s),window.location.reload()},1e3)}},error:function(e,t,r){document.body.classList.remove("pageblur")}})})}),document.querySelectorAll(".suppliersAwardConfirm")){let e=[];document.querySelectorAll(".suppliersAwardConfirm").forEach(function(t){e.push(t.getAttribute("data-value"));let r=Math.max.apply(Math,e);t.addEventListener("click",function(){let e=this.getAttribute("data-url"),t=this.getAttribute("data-name"),n=document.querySelector(`[data-type="supplierName_${t}"]`);this.getAttribute("data-value")<r?showSuppliersAwardPopup(n.textContent,e):window.location.href=e})})}DelGCButtons=document.querySelectorAll(".confir-all-supplier-popup"),DelGCButtons.forEach(e=>{e.addEventListener("click",e=>{e.preventDefault(),urldel=e.target.getAttribute("data-link");const t=document.querySelector(".backdrop-supplierConfirmAllPopup");t.classList.add("showpopup"),$(".dialog-close-supplierConfirmAllPopup").on("click",function(){t.classList.remove("showpopup")}),$(".close-dialog-close").on("click",function(){t.classList.remove("showpopup")}),deconf=document.getElementById("redirect-button-supplierConfirmAllPopup"),deconf.addEventListener("click",e=>{t.classList.remove("showpopup"),document.body.classList.add("pageblur"),document.location.href="/evaluate-confirm"})})});let countOfpublishBtn=0;if(document.forms.length>0){const e=document.forms[0].id;if("ccs_eoi_publish_form"==e||"ccs_rfp_publish_form"==e||"ccs_rfi_publish_form"==e){let t;"ccs_rfp_publish_form"==e?t="rfp_publish_confirmation":"ccs_rfi_publish_form"==e?t="rfi_publish_confirmation":"ccs_eoi_publish_form"==e&&(t="eoi_publish_confirmation"),document.querySelectorAll("#"+e).forEach(function(r){r.addEventListener("submit",function(r){if(r.preventDefault(),!document.getElementById(t).checked)return $("#checkbox_error_summary").removeClass("hide-block"),$(".govuk-error-summary__title").text("There is a problem"),$("#checkbox_error_summary_list").html('<li><a href="#'+t+'">You must check this box to confirm that you have read and confirm the statements above</a></li>'),$("html, body").animate({scrollTop:0},"fast"),!1;document.querySelector(".loderMakeRes").innerHTML='<p class="govuk-body loader-desc-hdr"></p><p class="govuk-body loader-desc">Please wait...</p>',document.body.classList.add("pageblur"),$.ajax({url:"/rfp/publish_date_mismatch",type:"GET",contentType:"application/json"}).done(function(t){if(document.body.classList.remove("pageblur"),t.warning){document.getElementById("redirect-button-publishTimelineMismatch").innerHTML="Reset timeline";const e=document.querySelector(".backdrop-publishTimelineMismatch");return e.classList.add("showpopup"),$(".dialog-close-publishTimelineMismatch").on("click",function(){timelineRevertCancel(),e.classList.remove("showpopup")}),$(".close-dialog-close").on("click",function(){e.classList.remove("showpopup")}),deconf=document.getElementById("redirect-button-publishTimelineMismatch"),deconf.addEventListener("click",r=>{document.querySelector(".loderMakeRes").innerHTML='<p class="govuk-body loader-desc-hdr"></p><p class="govuk-body loader-desc">Please wait...</p>',document.body.classList.add("pageblur"),e.classList.remove("showpopup"),"FC"==t.eventType&&(window.location.href=window.location.origin+"/rfp/response-date"),"RFI"==t.eventType&&(window.location.href=window.location.origin+"/rfi/response-date"),"EOI"==t.eventType&&(window.location.href=window.location.origin+"/eoi/response-date"),"DA"==t.eventType&&(window.location.href=window.location.origin+"/da/response-date")}),!1}return $(".oneTimeClick").attr("disabled",!0),0==countOfpublishBtn&&(document.getElementById(e).submit(),!0)}).fail(e=>{console.log(e)})})})}}function timelineRevertCancel(){$.ajax({url:"/rfp/publish_date_mismatch/cancel",type:"GET",contentType:"application/json"}).done(function(e){})}if(document.getElementsByClassName("backdrop-Qanda").length>0){$(".dialog-close-Qanda").remove(),$(".dialog-close-Qanda").remove();var elGo=document.querySelector(".backdrop-Qanda").querySelector(".nodeDialogTitle");let e=document.createElement("div");e.className="govuk-form-group",elGo.after(e);let t=document.createElement("input");function QAInputErrorRemove(){$(".govuk-form-group").removeClass("govuk-form-group--error"),$("#qa_email").prev("span").remove(),$("#qa_email").removeClass("govuk-input--error")}function QAInputError(e){$(".govuk-form-group").addClass("govuk-form-group--error"),$("#qa_email").val(""),$("#qa_email").focus(),$("#qa_email").before(`<span class="govuk-error-message">${e}</span>`),$("#qa_email").addClass("govuk-input--error")}t.type="email",t.name="qa_email",t.id="qa_email",t.placeholder="Email",t.className="govuk-input govuk-input--width-20",document.querySelector(".govuk-form-group").append(t),document.querySelector(".backdrop-Qanda").classList.add("showpopup"),$(".dialog-close-Qanda").on("click",function(){return!1}),$(".close-dialog-close").on("click",function(){return!1}),deconf=document.getElementById("redirect-button-Qanda"),deconf.addEventListener("click",e=>{let t=$("#qa_email").val();if(console.log(t.match(/^[a-zA-Z0-9.!#$%&'+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)$/)),""==t)QAInputErrorRemove(),QAInputError("Enter the email");else if(r(t)){QAInputErrorRemove();const e=window.location.search,r=new URLSearchParams(e);window.location.href=`/qa/event-suppliers?id=${r.get("id")}&prId=${r.get("prId")}&email=${t}`}else QAInputErrorRemove(),QAInputError("Enter the valid email")});const r=e=>e.match(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)}